<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code: The Complete Beginner-to-Expert Guide</title>
    <style>
        :root {
            --claude-orange: #C55A35; /* WCAG AA compliant: 4.5:1 on white */
            --claude-orange-light: #E68A5E; /* WCAG AA compliant: improved contrast */
            --claude-orange-dark: #9A4628; /* Darker for better contrast */
            --claude-bg: #F9F8F6;
            --claude-text: #1A1A1A;
            --claude-text-light: #5A5A5A;
            --claude-surface: #FFFFFF;
            --claude-border: #E8E5DF;
            --claude-code-bg: #F5F3EF;
            --claude-active-bg: #FFE8DC;
            --success: #2E7D32;
            --warning: #D65C00; /* WCAG AA compliant: 4.5:1 on white */
            --info: #0277BD; /* WCAG AA compliant: 4.5:1 on white */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --claude-bg: #2A2A2A;
            --claude-text: #E8E8E8;
            --claude-text-light: #B8B8B8; /* WCAG AA compliant: improved from #A8A8A8 */
            --claude-surface: #383838;
            --claude-border: #4A4A4A;
            --claude-code-bg: #303030;
            --claude-active-bg: #4D3D37;
            --claude-orange: #F4A582; /* Lighter for dark theme */
            --claude-orange-light: #FFB89A; /* Even lighter for dark backgrounds */
            --claude-orange-dark: #E68A5E; /* Adjusted for dark theme */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            line-height: 1.8;
            color: var(--claude-text);
            background: var(--claude-bg);
            font-size: 16px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--claude-orange) 0%, var(--claude-orange-dark) 100%);
            color: white;
            padding: 2rem 2rem 3rem;
            box-shadow: var(--shadow-lg);
            position: relative;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.85rem;
            letter-spacing: -0.02em;
        }

        .header-meta {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 0.85rem;
        }

        .header-meta span {
            background: rgba(255, 255, 255, 0.15);
            padding: 0.35rem 0.7rem;
            border-radius: 6px;
            backdrop-filter: blur(10px);
        }

        .header-subtitle {
            font-size: 1rem;
            line-height: 1.5;
            opacity: 0.95;
            max-width: 900px;
        }

        /* Sticky Minimal Header with Search */
        .sticky-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: var(--claude-surface);
            border-bottom: 2px solid var(--claude-border);
            box-shadow: var(--shadow-md);
            z-index: 102;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            gap: 1.5rem;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-100%);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .sticky-header.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .sticky-header-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex: 0 0 auto;
            min-width: 0;
            max-width: 300px;
        }

        .sticky-header-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--claude-orange);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .sticky-header-separator {
            color: var(--claude-border);
            font-weight: 300;
            flex-shrink: 0;
        }

        .sticky-header-section {
            font-size: 0.85rem;
            color: var(--claude-text-light);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .sticky-header-center {
            flex: 1 1 auto;
            display: flex;
            justify-content: center;
            min-width: 0;
            max-width: 600px;
        }

        .sticky-header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex: 0 0 auto;
        }

        /* Compact search box for sticky header */
        .search-box-sticky {
            background: var(--claude-bg);
            border: 2px solid var(--claude-border);
            border-radius: 8px;
            padding: 0.5rem 0.75rem;
            min-height: 44px;
            width: 100%;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .search-box-sticky:focus-within {
            border-color: var(--claude-orange);
            box-shadow: 0 0 0 3px rgba(197, 90, 53, 0.1);
            background: var(--claude-surface);
        }

        .search-box-sticky input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 0.9rem;
            padding: 0.25rem;
            background: transparent;
            color: var(--claude-text);
        }

        .search-box-sticky input::placeholder {
            color: var(--claude-text-light);
            opacity: 0.7;
        }

        .search-box-sticky .search-icon {
            color: var(--claude-orange);
            font-size: 1rem;
            flex-shrink: 0;
        }

        .search-box-sticky .search-nav {
            display: flex;
            gap: 0.25rem;
            margin-left: 0.5rem;
        }

        .search-box-sticky .search-nav-btn {
            padding: 0.35rem 0.6rem;
            font-size: 0.8rem;
            min-height: 30px;
        }

        /* Adjust layout when sticky header is visible */
        body.sticky-header-visible .search-container {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        body.sticky-header-visible .toc {
            top: calc(70px + 1rem);
            max-height: calc(100vh - 70px - 2rem);
        }

        body.sticky-header-visible .container {
            padding-top: calc(70px + 1rem);
        }

        /* Search - Sticky */
        .search-container {
            position: sticky;
            top: 0;
            max-width: 1400px; /* Match main container width */
            margin: 0 auto;
            padding: 0.75rem 2rem;
            padding-bottom: 1rem;
            background: var(--claude-bg);
            z-index: 101;
            transition: padding 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Compact mode when scrolled - gentler reduction */
        .search-container.scrolled {
            padding: 0.6rem 2rem;
            padding-bottom: 0.85rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .search-box {
            background: var(--claude-surface);
            border-radius: 12px;
            padding: 0.75rem 1rem;
            min-height: 48px; /* Maintain accessibility minimum touch target */
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: padding 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            /* Align search box to match content column, accounting for TOC width + gap */
            margin-left: calc(320px + 2.5rem); /* Updated for wider TOC (was 260px) */
        }

        /* Compact search box - gentler reduction */
        .search-container.scrolled .search-box {
            padding: 0.6rem 0.9rem;
            min-height: 44px; /* Maintain good touch target size */
        }

        .search-box input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1rem;
            padding: 0.5rem;
            background: transparent;
            transition: font-size 0.4s cubic-bezier(0.4, 0, 0.2, 1), padding 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Compact input - gentler reduction */
        .search-container.scrolled .search-box input {
            font-size: 0.95rem; /* Less aggressive reduction */
            padding: 0.45rem 0.5rem;
        }

        .search-icon {
            color: var(--claude-orange);
            font-size: 1.2rem;
        }

        /* Layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 2rem 1.5rem 2rem; /* Add top padding to prevent overlap with sticky search bar */
            display: grid;
            grid-template-columns: 320px 1fr; /* Wider TOC for single-line titles (was 260px) */
            gap: 2.5rem; /* Reduced gap for more efficient use of space */
        }

        /* Table of Contents - Optimized & Compressed */
        .toc {
            position: sticky;
            top: 4rem; /* Account for more compact sticky search bar height */
            height: fit-content;
            max-height: calc(100vh - 5rem); /* Adjusted to match new top value */
            overflow-y: auto;
            background: var(--claude-surface);
            border-radius: 12px;
            padding: 1.25rem 1rem 1.25rem 1.5rem; /* Reduced horizontal padding for wider content area */
            box-shadow: var(--shadow-md);
            scroll-behavior: smooth;
            transition: top 0.3s ease, max-height 0.3s ease;
        }

        .toc h2 {
            font-size: 1.1rem;
            margin-bottom: 0.75rem; /* Compressed from 1rem */
            color: var(--claude-orange);
            font-weight: 600;
        }

        .toc ul {
            list-style: none;
        }

        /* Top-level list items (major sections) - compressed spacing */
        .toc > ul > li {
            margin-bottom: 0.5rem; /* Compressed from 0.9rem for denser, more scannable view */
        }

        /* Last item shouldn't have bottom margin */
        .toc > ul > li:last-child {
            margin-bottom: 0;
        }

        /* Nested children list - tighter spacing with parent */
        .toc ul ul {
            padding-left: 1rem;
            margin-top: 0.05rem; /* Very tight - visually groups with parent */
            margin-bottom: 0; /* No extra space after children */
        }

        /* Child list items - compressed spacing */
        .toc ul ul li {
            margin-bottom: 0.15rem; /* Compressed from 0.25rem for denser view */
        }

        /* Last child shouldn't have bottom margin */
        .toc ul ul li:last-child {
            margin-bottom: 0;
        }

        .toc a {
            display: block; /* Changed from flex for proper text-overflow behavior */
            color: var(--claude-text-light);
            text-decoration: none;
            padding: 0.35rem 0.6rem 0.35rem 0.75rem; /* Compressed from 0.5rem vertical, reduced horizontal */
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            position: relative;
            white-space: nowrap; /* Prevent text wrapping */
            overflow: hidden; /* Hide overflow text */
            text-overflow: ellipsis; /* Show ellipsis for very long titles */
        }

        /* Special handling for links with badges (search results) */
        .toc a:has(.toc-match-badge) {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 0.5rem;
        }

        .toc a:hover {
            background: var(--claude-code-bg);
            color: var(--claude-orange);
            transform: translateX(4px);
        }

        .toc a.active {
            color: var(--claude-orange);
            font-weight: 500;
            border-left: 2px solid var(--claude-orange);
            padding-left: 1rem;
            transform: translateX(0);
        }

        /* Arrow removed - left border + background is sufficient indicator */

        /* TOC Collapsible Hierarchy */
        .toc-parent-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            position: relative;
        }

        .toc-parent-header a {
            flex: 1;
            cursor: pointer;
            /* Inherits existing .toc a styles */
        }

        .toc-group-title {
            flex: 1;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            color: var(--claude-orange);
            text-transform: uppercase;
            padding: 0.5rem 0.6rem 0.5rem 0.75rem;
            cursor: pointer;
            user-select: none;
        }

        .toc-parent-header:hover .toc-group-title {
            color: var(--claude-accent);
        }

        .toc-chevron {
            font-size: 0.75rem;
            color: var(--claude-text-light);
            margin-right: 0.8rem;
            margin-left: 0.5rem;
            transition: transform 0.3s ease, color 0.3s ease;
            flex-shrink: 0;
            pointer-events: none;
            font-weight: 600;
            opacity: 0.6;
        }

        .toc-parent-header:hover .toc-chevron {
            opacity: 1;
        }

        .toc-parent.collapsed .toc-chevron {
            transform: rotate(-90deg);
        }

        /* Hide chevron during search - all parents forced expanded */
        .toc.search-active .toc-chevron {
            display: none;
        }

        /* Disable pointer events on parent header during search */
        .toc.search-active .toc-parent-header {
            cursor: default;
        }

        .toc-children {
            overflow: hidden;
            max-height: 1000px;
            transition: max-height 0.3s ease, margin-top 0.3s ease;
        }

        .toc-parent.collapsed .toc-children {
            max-height: 0;
            margin-top: 0 !important;
        }

        /* When parent has active child, highlight chevron */
        .toc-parent.has-active-child .toc-chevron {
            color: var(--claude-orange);
        }

        .toc-parent.has-active-child > .toc-parent-header > a {
            color: var(--claude-orange);
            font-weight: 500;
        }

        .toc-parent.has-active-child > .toc-parent-header > .toc-group-title {
            color: var(--claude-accent);
        }

        /* Unified Search Indicators - REMOVED (redundant with TOC badges) */

        /* Enhanced Search Box */
        .search-box {
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .search-box:focus-within {
            border-color: var(--claude-orange);
            box-shadow: 0 0 0 4px rgba(217, 119, 87, 0.1), var(--shadow-lg);
        }

        /* TOC Filtering States */
        .toc li.hidden {
            display: none;
        }

        .toc li.filtered-match {
            display: block;
        }

        .toc-search-highlight {
            background: rgba(217, 119, 87, 0.3);
            padding: 0.1rem 0.2rem;
            border-radius: 3px;
            font-weight: 600;
        }

        /* Main Content */
        .content {
            background: var(--claude-surface);
            border-radius: 12px;
            padding: 3rem;
            box-shadow: var(--shadow-md);
            max-width: 1000px;
        }

        .content h2 {
            font-size: 2rem;
            margin: 3rem 0 1.5rem;
            color: var(--claude-text);
            font-weight: 600;
            letter-spacing: -0.02em;
            border-bottom: 2px solid var(--claude-orange);
            padding-bottom: 0.5rem;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .content h2:first-child {
            margin-top: 0;
        }

        .content h3 {
            font-size: 1.5rem;
            margin: 2.5rem 0 1rem;
            color: var(--claude-text);
            font-weight: 600;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* Section Numbering Support */
        .section-number {
            color: var(--claude-orange);
            font-weight: 600;
            margin-right: 0.75rem;
            font-size: 0.9em;
            opacity: 0.85;
        }

        .content h2 .section-number {
            font-size: 0.85em;
        }

        .content h3 .section-number {
            font-size: 0.85em;
        }

        /* Share Button Styles */
        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.4rem 0.8rem;
            background: var(--claude-surface);
            border: 1px solid var(--claude-border);
            border-radius: 6px;
            color: var(--claude-orange);
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            opacity: 0;
            pointer-events: none;
            text-decoration: none;
        }

        .content h2:hover .share-btn,
        .content h3:hover .share-btn,
        .share-btn:focus {
            opacity: 1;
            pointer-events: all;
        }

        .share-btn:hover {
            background: var(--claude-orange);
            color: white;
            border-color: var(--claude-orange);
            transform: translateY(-1px);
            box-shadow: var(--shadow-sm);
        }

        .share-btn:active {
            transform: translateY(0);
        }

        .share-btn.copied {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        .share-btn svg {
            width: 14px;
            height: 14px;
        }

        .content h4 {
            font-size: 1.2rem;
            margin: 2rem 0 0.8rem;
            color: var(--claude-text);
            font-weight: 600;
        }

        .content p {
            margin-bottom: 1.2rem;
            line-height: 1.85;
        }

        .content ul, .content ol {
            margin-bottom: 1.2rem;
            padding-left: 2rem;
        }

        .content li {
            margin-bottom: 0.5rem;
            line-height: 1.85;
        }

        .content strong {
            font-weight: 600;
            color: var(--claude-text);
        }

        /* Callout Boxes */
        .callout {
            padding: 1.2rem 1.5rem 1.2rem 1.8rem; /* Extra left padding for border spacing */
            border-radius: 10px;
            margin: 1.5rem 0;
            background: var(--claude-code-bg);
            line-height: 1.75;
            position: relative;
            overflow: hidden;
            isolation: isolate;
        }

        /* Border as pseudo-element to prevent selection bleed */
        .callout::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: currentColor; /* Inherits color from parent */
            border-radius: 10px 0 0 10px;
        }

        .callout p {
            line-height: 1.75;
        }

        .callout ul, .callout ol {
            line-height: 1.75;
        }

        .callout li {
            line-height: 1.75;
        }

        .callout-warning {
            color: var(--warning);
            background: #FFF8E1;
        }

        .callout-info {
            color: var(--info);
            background: #E3F2FD;
        }

        .callout-success {
            color: var(--success);
            background: #E8F5E9;
        }

        .callout-tip {
            color: var(--claude-orange);
            background: #FFF4EC;
        }

        /* Reset text color for callout content - use specific selectors */
        .callout-warning p, .callout-warning li, .callout-warning ul, .callout-warning ol, .callout-warning code,
        .callout-info p, .callout-info li, .callout-info ul, .callout-info ol, .callout-info code,
        .callout-success p, .callout-success li, .callout-success ul, .callout-success ol, .callout-success code,
        .callout-tip p, .callout-tip li, .callout-tip ul, .callout-tip ol, .callout-tip code {
            color: var(--claude-text);
        }

        .callout-title {
            color: inherit !important; /* Keep title using border color */
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Dark mode callout styles for accessibility (WCAG AA compliant) */
        [data-theme="dark"] .callout-warning {
            background: rgba(214, 92, 0, 0.15);
            color: var(--claude-text);
        }

        [data-theme="dark"] .callout-info {
            background: rgba(2, 119, 189, 0.15);
            color: var(--claude-text);
        }

        [data-theme="dark"] .callout-success {
            background: rgba(46, 125, 50, 0.15);
            color: var(--claude-text);
        }

        [data-theme="dark"] .callout-tip {
            background: rgba(244, 165, 130, 0.15);
            color: var(--claude-text);
        }

        [data-theme="dark"] .callout-title {
            color: var(--claude-text);
        }

        /* Custom text selection styles for callout boxes */
        .callout ::selection {
            background: rgba(197, 90, 53, 0.3); /* Claude orange with transparency */
            color: inherit; /* Keep text color readable */
        }

        .callout::-moz-selection {
            background: rgba(197, 90, 53, 0.3);
            color: inherit;
        }

        /* Dark mode selection */
        [data-theme="dark"] .callout ::selection {
            background: rgba(244, 165, 130, 0.3); /* Lighter orange for dark theme */
            color: inherit;
        }

        [data-theme="dark"] .callout::-moz-selection {
            background: rgba(244, 165, 130, 0.3);
            color: inherit;
        }

        /* Variant-specific selection colors */
        .callout-warning ::selection {
            background: rgba(214, 92, 0, 0.3);
        }

        .callout-info ::selection {
            background: rgba(2, 119, 189, 0.25);
        }

        .callout-success ::selection {
            background: rgba(46, 125, 50, 0.25);
        }

        .callout-tip ::selection {
            background: rgba(197, 90, 53, 0.3);
        }

        /* Dark mode variant-specific */
        [data-theme="dark"] .callout-warning ::selection {
            background: rgba(214, 92, 0, 0.3);
        }

        [data-theme="dark"] .callout-info ::selection {
            background: rgba(100, 181, 246, 0.3);
        }

        [data-theme="dark"] .callout-success ::selection {
            background: rgba(129, 199, 132, 0.3);
        }

        [data-theme="dark"] .callout-tip ::selection {
            background: rgba(244, 165, 130, 0.3);
        }

        /* Code Blocks */
        pre {
            background: var(--claude-code-bg);
            border: 1px solid var(--claude-border);
            border-radius: 8px;
            padding: 1.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            position: relative;
        }

        code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .content p code, .content li code {
            background: var(--claude-code-bg);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.88rem;
            color: var(--claude-orange-dark);
            border: 1px solid var(--claude-border);
        }

        .copy-btn {
            position: absolute;
            top: 0.8rem;
            right: 0.8rem;
            background: var(--claude-surface);
            border: 1px solid var(--claude-border);
            border-radius: 6px;
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--claude-text-light);
        }

        .copy-btn:hover {
            background: var(--claude-orange);
            color: white;
            border-color: var(--claude-orange);
        }

        /* Collapsible Sections */
        .collapsible {
            margin: 1.5rem 0;
        }

        .collapsible-header {
            background: var(--claude-code-bg);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            transition: all 0.2s;
            border: 1px solid var(--claude-border);
        }

        .collapsible-header:hover {
            background: var(--claude-orange-light);
            color: white;
            border-color: var(--claude-orange-light);
        }

        .collapsible-icon {
            transition: transform 0.3s;
            font-size: 1.2rem;
        }

        .collapsible.open .collapsible-icon {
            transform: rotate(180deg);
        }

        .collapsible-content {
            display: none;
            overflow: hidden;
        }

        .collapsible.open .collapsible-content {
            display: block;
        }

        .collapsible-content-inner {
            padding: 1.5rem;
            border: 1px solid var(--claude-border);
            border-top: none;
            border-radius: 0 0 8px 8px;
        }

        /* Floating Navigation Controls Container */
        .floating-nav-controls {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
        }

        .floating-nav-controls.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Hide floating theme toggle when sticky header is visible */
        body.sticky-header-visible .floating-nav-controls .theme-toggle {
            display: none;
        }

        /* Back to Top Button */
        .back-to-top {
            background: var(--claude-orange);
            color: white;
            width: 50px;
            height: 50px;
            min-height: 48px;
            min-width: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            font-size: 1.2rem;
        }

        .back-to-top:hover {
            background: var(--claude-orange-dark);
            transform: translateY(-4px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        /* ========== TEXT SELECTION MENU ========== */
        .text-selection-menu {
            position: absolute;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-4px) scale(0.95);
            transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s ease;
            pointer-events: none;
        }

        .text-selection-menu.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
            pointer-events: all;
        }

        [data-theme="dark"] .text-selection-menu {
            background: rgba(45, 45, 45, 0.95);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1);
        }

        .selection-menu-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            min-height: 40px;
            min-width: 40px;
            border: none;
            background: transparent;
            color: var(--claude-text);
            font-size: 1.2rem;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            position: relative;
        }

        .selection-menu-button:hover {
            background: var(--claude-active-bg);
            transform: translateY(-2px);
        }

        .selection-menu-button:active {
            transform: translateY(0);
        }

        /* Button tooltips */
        .selection-menu-button::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
        }

        .selection-menu-button:hover::after {
            opacity: 1;
        }

        /* Highlight color classes */
        .user-highlight {
            position: relative;
            cursor: pointer;
            border-radius: 2px;
            padding: 1px 0;
        }

        .user-highlight.highlight-yellow {
            background: rgba(255, 235, 59, 0.4);
        }

        .user-highlight.highlight-green {
            background: rgba(129, 199, 132, 0.4);
        }

        .user-highlight.highlight-blue {
            background: rgba(100, 181, 246, 0.4);
        }

        [data-theme="dark"] .user-highlight.highlight-yellow {
            background: rgba(255, 235, 59, 0.3);
        }

        [data-theme="dark"] .user-highlight.highlight-green {
            background: rgba(129, 199, 132, 0.3);
        }

        [data-theme="dark"] .user-highlight.highlight-blue {
            background: rgba(100, 181, 246, 0.3);
        }

        /* Note indicator */
        .note-indicator {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            font-size: 0.7rem;
            background: var(--claude-orange);
            color: white;
            border-radius: 50%;
            margin-left: 4px;
            cursor: pointer;
            vertical-align: middle;
        }

        /* Note Modal */
        .note-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .note-modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .note-modal {
            background: var(--claude-surface);
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 500px;
            padding: 1.5rem;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .note-modal-overlay.visible .note-modal {
            transform: scale(1);
        }

        .note-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .note-modal-header h3 {
            font-size: 1.2rem;
            margin: 0;
            color: var(--claude-text);
        }

        .note-modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--claude-text-light);
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .note-modal-close:hover {
            background: var(--claude-code-bg);
        }

        .note-modal-text-preview {
            background: var(--claude-code-bg);
            padding: 0.75rem;
            border-radius: 6px;
            font-size: 0.9rem;
            color: var(--claude-text-light);
            margin-bottom: 1rem;
            max-height: 100px;
            overflow-y: auto;
            font-style: italic;
        }

        .note-modal-textarea {
            width: 100%;
            min-height: 120px;
            padding: 0.75rem;
            border: 2px solid var(--claude-border);
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.95rem;
            background: var(--claude-bg);
            color: var(--claude-text);
            resize: vertical;
            margin-bottom: 1rem;
            transition: border-color 0.2s ease;
        }

        .note-modal-textarea:focus {
            outline: none;
            border-color: var(--claude-orange);
            box-shadow: 0 0 0 3px rgba(197, 90, 53, 0.1);
        }

        .note-modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }

        .note-modal-btn {
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            border: none;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .note-modal-btn-cancel {
            background: var(--claude-code-bg);
            color: var(--claude-text);
        }

        .note-modal-btn-cancel:hover {
            background: var(--claude-border);
        }

        .note-modal-btn-save {
            background: var(--claude-orange);
            color: white;
        }

        .note-modal-btn-save:hover {
            background: var(--claude-orange-dark);
        }

        /* Toast notification */
        .selection-toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-size: 0.9rem;
            z-index: 10002;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            pointer-events: none;
        }

        .selection-toast.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .selection-menu-button {
                width: 48px;
                height: 48px;
                min-height: 48px;
                min-width: 48px;
            }

            .text-selection-menu {
                gap: 0.75rem;
                padding: 0.75rem;
            }

            .note-modal {
                width: 95%;
                padding: 1rem;
            }
        }

        /* ========== NOTES & HIGHLIGHTS SIDEBAR ========== */
        .notes-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: 360px;
            height: 100vh;
            background: var(--claude-surface);
            border-left: 1px solid var(--claude-border);
            box-shadow: -4px 0 24px rgba(0, 0, 0, 0.1);
            z-index: 9999;
            transform: translateX(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .notes-sidebar.open {
            transform: translateX(0);
        }

        /* Layout shifting when sidebar is open */
        body.sidebar-open .container {
            margin-right: 360px; /* Match sidebar width */
            transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.sidebar-open .search-container {
            margin-right: 360px;
            transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.sidebar-open header {
            margin-right: 360px;
            transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Ensure smooth transition back to full width */
        .container {
            transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .search-container {
            transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        header {
            transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] .notes-sidebar {
            box-shadow: -4px 0 24px rgba(0, 0, 0, 0.4);
        }

        /* Sidebar Toggle Button */
        .notes-sidebar-toggle {
            position: fixed;
            top: 50%;
            right: 0;
            transform: translateY(-50%) translateX(0);
            background: var(--claude-orange);
            color: white;
            border: none;
            border-radius: 8px 0 0 8px;
            padding: 1rem 0.5rem;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 9998;
            box-shadow: -2px 2px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
            min-height: 120px;
            justify-content: center;
        }

        .notes-sidebar-toggle:hover {
            background: var(--claude-orange-dark);
            padding-right: 0.75rem;
        }

        .notes-sidebar.open + .notes-sidebar-toggle {
            transform: translateY(-50%) translateX(-360px);
        }

        .notes-sidebar-badge {
            background: white;
            color: var(--claude-orange);
            font-size: 0.7rem;
            font-weight: 700;
            padding: 0.15rem 0.4rem;
            border-radius: 10px;
            min-width: 24px;
            text-align: center;
        }

        /* Sidebar Header */
        .notes-sidebar-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--claude-border);
            background: var(--claude-bg);
            flex-shrink: 0;
        }

        .notes-sidebar-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .notes-sidebar-title h3 {
            font-size: 1.1rem;
            margin: 0;
            color: var(--claude-text);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .notes-sidebar-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--claude-text-light);
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: background 0.2s ease;
        }

        .notes-sidebar-close:hover {
            background: var(--claude-code-bg);
        }

        /* Sidebar Actions */
        .notes-sidebar-actions {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .notes-sidebar-btn {
            flex: 1;
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--claude-border);
            background: var(--claude-surface);
            color: var(--claude-text);
            font-size: 0.85rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .notes-sidebar-btn:hover {
            background: var(--claude-code-bg);
            border-color: var(--claude-orange);
        }

        .notes-sidebar-btn-danger {
            color: #d32f2f;
        }

        .notes-sidebar-btn-danger:hover {
            background: rgba(211, 47, 47, 0.1);
            border-color: #d32f2f;
        }

        /* Sidebar Search */
        .notes-sidebar-search {
            position: relative;
        }

        .notes-sidebar-search input {
            width: 100%;
            padding: 0.6rem 0.75rem 0.6rem 2.25rem;
            border: 2px solid var(--claude-border);
            border-radius: 8px;
            background: var(--claude-surface);
            color: var(--claude-text);
            font-size: 0.9rem;
            transition: border-color 0.2s ease;
        }

        .notes-sidebar-search input:focus {
            outline: none;
            border-color: var(--claude-orange);
        }

        .notes-sidebar-search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--claude-text-light);
            font-size: 1rem;
        }

        /* Sidebar Tabs */
        .notes-sidebar-tabs {
            display: flex;
            gap: 0.5rem;
            padding: 1rem 1.5rem 0;
            border-bottom: 1px solid var(--claude-border);
            flex-shrink: 0;
        }

        .notes-sidebar-tab {
            flex: 1;
            padding: 0.6rem 1rem;
            border: none;
            background: transparent;
            color: var(--claude-text-light);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .notes-sidebar-tab:hover {
            color: var(--claude-text);
        }

        .notes-sidebar-tab.active {
            color: var(--claude-orange);
            border-bottom-color: var(--claude-orange);
        }

        /* Sidebar Content */
        .notes-sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 1rem 1.5rem;
        }

        .notes-sidebar-content::-webkit-scrollbar {
            width: 8px;
        }

        .notes-sidebar-content::-webkit-scrollbar-track {
            background: var(--claude-bg);
        }

        .notes-sidebar-content::-webkit-scrollbar-thumb {
            background: var(--claude-border);
            border-radius: 4px;
        }

        .notes-sidebar-content::-webkit-scrollbar-thumb:hover {
            background: var(--claude-text-light);
        }

        /* Empty State */
        .notes-sidebar-empty {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--claude-text-light);
        }

        .notes-sidebar-empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .notes-sidebar-empty p {
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Item Cards */
        .notes-item {
            background: var(--claude-bg);
            border: 1px solid var(--claude-border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
        }

        .notes-item:hover {
            border-color: var(--claude-orange);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transform: translateY(-1px);
        }

        .notes-item:active {
            transform: translateY(0);
        }

        .notes-item-header {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .notes-item-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 0.25rem;
        }

        .notes-item-color.yellow {
            background: #FFEB3B;
        }

        .notes-item-color.green {
            background: #81C784;
        }

        .notes-item-color.blue {
            background: #64B5F6;
        }

        .notes-item-text {
            flex: 1;
            font-size: 0.9rem;
            color: var(--claude-text);
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .notes-item-note {
            background: var(--claude-code-bg);
            padding: 0.75rem;
            border-radius: 6px;
            font-size: 0.85rem;
            color: var(--claude-text-light);
            margin-bottom: 0.75rem;
            border-left: 3px solid var(--claude-orange);
            line-height: 1.5;
        }

        .notes-item-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--claude-text-light);
            margin-top: 0.5rem;
        }

        .notes-item-section {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .notes-item-time {
            opacity: 0.7;
        }

        .notes-item-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid var(--claude-border);
            position: relative;
            z-index: 2;
        }

        .notes-item-action {
            background: none;
            border: none;
            color: var(--claude-text-light);
            font-size: 0.8rem;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
            font-weight: 500;
            position: relative;
            z-index: 2;
        }

        .notes-item-action:hover {
            background: var(--claude-code-bg);
            color: var(--claude-text);
        }

        .notes-item-action-delete {
            color: #d32f2f;
        }

        .notes-item-action-delete:hover {
            background: rgba(211, 47, 47, 0.1);
        }

        .notes-item-action-edit {
            color: var(--claude-orange);
        }

        .notes-item-action-edit:hover {
            background: rgba(197, 90, 53, 0.1);
        }

        /* Mobile Sidebar */
        @media (max-width: 1024px) {
            .notes-sidebar {
                width: 100%;
                max-width: 400px;
            }

            .notes-sidebar.open + .notes-sidebar-toggle {
                transform: translateY(-50%) translateX(-100%);
            }
        }

        /* Responsive layout shifting - Tablet */
        @media (max-width: 1200px) {
            /* On smaller screens, reduce shift amount */
            body.sidebar-open .container,
            body.sidebar-open .search-container,
            body.sidebar-open header {
                margin-right: 300px; /* Reduced from 360px */
            }
        }

        @media (max-width: 768px) {
            .notes-sidebar {
                width: 100%;
                max-width: none;
            }

            .notes-sidebar-toggle {
                padding: 0.75rem 0.4rem;
                min-height: 100px;
            }

            /* On mobile, no shift - let sidebar be full overlay */
            body.sidebar-open .container,
            body.sidebar-open .search-container,
            body.sidebar-open header {
                margin-right: 0; /* Full overlay on mobile */
            }

            /* Dim background when sidebar open on mobile */
            body.sidebar-open::before {
                content: '';
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 9997; /* Below sidebar but above content */
                animation: fadeIn 0.3s ease;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: var(--claude-orange);
            width: 0%;
            z-index: 1000;
            transition: width 0.1s;
        }

        /* Highlight */
        .highlight {
            background: rgba(217, 119, 87, 0.15);
            padding: 0.1rem 0.3rem;
            border-radius: 4px;
        }

        /* Info Box for key concepts and highlights */
        .info-box {
            background: var(--claude-active-bg);
            color: var(--info);
            padding: 1.5rem 1.5rem 1.5rem 1.8rem; /* Extra left padding */
            border-radius: 8px;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
            isolation: isolate;
        }

        /* Border as pseudo-element */
        .info-box::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--info);
            border-radius: 8px 0 0 8px;
        }

        /* Reset text color for info-box content - use specific selectors */
        .info-box p, .info-box li, .info-box ul, .info-box ol, .info-box code {
            color: var(--claude-text);
        }

        .info-box h3 {
            margin-top: 0;
            margin-bottom: 0.75rem;
            color: var(--info);
            font-size: 1.1rem;
        }

        .info-box p:last-child {
            margin-bottom: 0;
        }

        /* Warning/Caution Box for important notes */
        .warning-box {
            background: rgba(214, 92, 0, 0.1);
            color: var(--warning);
            padding: 1.5rem 1.5rem 1.5rem 1.8rem; /* Extra left padding */
            border-radius: 8px;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
            isolation: isolate;
        }

        /* Border as pseudo-element */
        .warning-box::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--warning);
            border-radius: 8px 0 0 8px;
        }

        /* Reset text color for warning-box content - use specific selectors */
        .warning-box p, .warning-box li, .warning-box ul, .warning-box ol, .warning-box code {
            color: var(--claude-text);
            margin: 0;
        }

        .warning-box p:not(:last-child) {
            margin-bottom: 0.75rem;
        }

        /* Dark mode info/warning boxes for accessibility */
        [data-theme="dark"] .info-box {
            background: rgba(2, 119, 189, 0.15);
            color: var(--claude-text);
        }

        [data-theme="dark"] .info-box h3 {
            color: #64B5F6; /* Lighter blue for better contrast in dark mode */
        }

        [data-theme="dark"] .warning-box {
            background: rgba(214, 92, 0, 0.15);
            color: var(--claude-text);
        }

        /* Selection styles for info/warning boxes */
        .info-box ::selection {
            background: rgba(2, 119, 189, 0.25);
            color: inherit;
        }

        .info-box::-moz-selection {
            background: rgba(2, 119, 189, 0.25);
            color: inherit;
        }

        .warning-box ::selection {
            background: rgba(214, 92, 0, 0.3);
            color: inherit;
        }

        .warning-box::-moz-selection {
            background: rgba(214, 92, 0, 0.3);
            color: inherit;
        }

        [data-theme="dark"] .info-box ::selection {
            background: rgba(100, 181, 246, 0.3);
            color: inherit;
        }

        [data-theme="dark"] .info-box::-moz-selection {
            background: rgba(100, 181, 246, 0.3);
            color: inherit;
        }

        [data-theme="dark"] .warning-box ::selection {
            background: rgba(214, 92, 0, 0.3);
            color: inherit;
        }

        [data-theme="dark"] .warning-box::-moz-selection {
            background: rgba(214, 92, 0, 0.3);
            color: inherit;
        }

        /* TOC Match Count Badges */
        .toc-match-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--info);
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.15rem 0.5rem;
            border-radius: 12px;
            margin-left: auto;
            margin-right: 0;
            min-width: 1.5rem;
            flex-shrink: 0; /* Ensure badge never shrinks */
            transition: all 0.3s ease;
        }

        /* Ensure text in links with badges can still overflow properly */
        .toc a:has(.toc-match-badge) {
            overflow: visible; /* Allow badge to show */
        }

        .toc-match-badge.active-section {
            background: var(--claude-orange);
            box-shadow: 0 0 8px rgba(217, 119, 87, 0.4);
            animation: pulse-badge 2s ease-in-out infinite;
        }

        @keyframes pulse-badge {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 8px rgba(217, 119, 87, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 12px rgba(217, 119, 87, 0.6);
            }
        }

        /* Section viewing state in TOC */
        .toc a.viewing-matches {
            background: linear-gradient(90deg,
                var(--claude-active-bg) 0%,
                transparent 100%);
            border-left-color: var(--info);
        }

        .toc a.viewing-matches.active {
            border-left-color: var(--claude-orange);
        }

        /* Dimmed matches (not in current section) */
        mark.dimmed {
            background: rgba(128, 128, 128, 0.15);
            opacity: 0.4;
            transition: opacity 0.3s ease;
        }

        mark.current-section {
            opacity: 1;
        }

        /* Highest concentration section in filtered TOC */
        .toc li.highest-concentration {
            position: relative;
        }

        .toc li.highest-concentration > a {
            background: linear-gradient(90deg,
                rgba(217, 119, 87, 0.15) 0%,
                transparent 100%);
            border-left: 4px solid var(--claude-orange);
            font-weight: 600;
        }

        .toc li.highest-concentration > a .toc-match-badge {
            background: var(--claude-orange);
            font-weight: 700;
            animation: pulse-badge 2s ease-in-out infinite;
        }

        /* Dynamic TOC positioning based on search bar state */
        body.search-scrolled .toc {
            top: 3rem; /* More compact search bar height */
            max-height: calc(100vh - 4rem); /* Adjusted to match new top value */
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }

            /* Tablet sticky header adjustments */
            .sticky-header-section {
                display: none;
            }

            .sticky-header-left {
                max-width: 200px;
            }

            .sticky-header-center {
                max-width: 450px;
            }

            .toc {
                position: relative;
                top: 0;
                max-height: 400px;
            }

            /* Reset search box alignment on mobile - no TOC sidebar */
            .search-box {
                margin-left: 0;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .content {
                padding: 2rem 1.5rem;
            }

            .container {
                padding: 0 1rem 2rem; /* Match desktop pattern: no top padding */
            }

            .content h2 {
                font-size: 1.6rem;
            }

            .content h3 {
                font-size: 1.3rem;
            }

            /* Responsive sticky header on mobile - 2 row layout */
            .sticky-header {
                height: 90px;
                padding: 0.75rem 1rem;
                flex-direction: column;
                gap: 0.75rem;
                align-items: stretch;
            }

            .sticky-header-left {
                max-width: 100%;
                justify-content: space-between;
                order: 1;
            }

            .sticky-header-title {
                font-size: 0.9rem;
            }

            .sticky-header-separator {
                display: none;
            }

            .sticky-header-section {
                display: none;
            }

            .sticky-header-center {
                order: 2;
                max-width: 100%;
            }

            .sticky-header-right {
                position: absolute;
                top: 0.75rem;
                right: 1rem;
                order: 3;
            }

            .sticky-header-right .theme-toggle {
                width: 36px !important;
                height: 36px !important;
                min-width: 36px !important;
                min-height: 36px !important;
                font-size: 1.1rem !important;
            }

            .search-box-sticky {
                padding: 0.5rem 0.75rem;
                min-height: 40px;
            }

            .search-box-sticky input {
                font-size: 0.85rem;
            }

            /* Adjust layout for mobile sticky header height */
            body.sticky-header-visible .toc {
                top: calc(90px + 1rem);
                max-height: calc(100vh - 90px - 2rem);
            }

            body.sticky-header-visible .container {
                padding-top: calc(90px + 1rem);
            }

            /* Mobile search layout */
            .search-box {
                flex-wrap: wrap;
            }

            .search-icon {
                order: 1;
            }

            #searchInput {
                order: 2;
                flex: 1;
                min-width: 200px;
            }

            .search-nav {
                order: 3;
                margin-top: 0.5rem;
                width: 100%;
            }
        }

        /* Loading Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .content > * {
            animation: fadeIn 0.5s ease-out;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--claude-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--claude-orange-light);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--claude-orange);
        }

        /* Theme Toggle Button */
        .theme-toggle {
            background: var(--claude-surface);
            border: 2px solid var(--claude-border);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            min-height: 48px;
            min-width: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-md);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.5rem;
        }

        .theme-toggle:hover {
            transform: scale(1.08);
            box-shadow: var(--shadow-lg);
            background: var(--claude-orange);
            color: white;
            border-color: var(--claude-orange);
        }

        .theme-toggle:active {
            transform: scale(0.98);
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            bottom: 1rem;
            left: 1rem;
            background: var(--claude-orange);
            color: white;
            border: none;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1001;
            box-shadow: var(--shadow-lg);
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .mobile-menu-toggle:hover {
            transform: scale(1.1);
            background: var(--claude-orange-dark);
        }

        @media (max-width: 1024px) {
            .mobile-menu-toggle {
                display: flex;
            }

            .toc.mobile-hidden {
                transform: translateX(-100%);
                position: fixed;
                left: 0;
                top: 0;
                bottom: 0;
                z-index: 999;
                max-height: 100vh;
                width: 280px;
                border-radius: 0;
                transition: transform 0.3s ease;
            }

            .toc.mobile-visible {
                transform: translateX(0);
            }

            .mobile-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 998;
            }

            .mobile-overlay.active {
                display: block;
            }

            /* Adjust floating controls to avoid overlap with mobile menu toggle */
            .floating-nav-controls {
                bottom: 6rem; /* Move up to clear the mobile menu button */
            }
        }

        /* ========== INTERACTIVE CODE EXAMPLES ========== */

        /* Before/After Code Comparison */
        .code-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin: 1.5rem auto;
            background: var(--claude-surface);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            max-width: 1200px; /* Prevent extreme widths */
            position: relative;
        }

        .code-comparison::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 3rem;
            bottom: 3rem;
            width: 1px;
            background: var(--claude-border);
            opacity: 0.3;
            transform: translateX(-50%);
        }

        .code-before, .code-after {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--claude-border);
            transition: box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            animation: fadeInUp 0.5s ease-out;
        }

        .code-before {
            animation-delay: 0.1s;
        }

        .code-after {
            animation-delay: 0.2s;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .code-before:hover, .code-after:hover {
            box-shadow: var(--shadow-md);
        }

        .comparison-label {
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            padding: 0.6rem 1rem;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-before .comparison-label {
            background: rgba(244, 67, 54, 0.1);
            color: #D32F2F;
            border-left: 4px solid #D32F2F;
        }

        .code-after .comparison-label {
            background: rgba(46, 125, 50, 0.1);
            color: #2E7D32;
            border-left: 4px solid #2E7D32;
        }

        [data-theme="dark"] .code-before .comparison-label {
            background: rgba(244, 67, 54, 0.2);
            color: #EF5350;
        }

        [data-theme="dark"] .code-after .comparison-label {
            background: rgba(46, 125, 50, 0.2);
            color: #66BB6A;
        }

        .code-comparison pre {
            margin: 0;
            border-radius: 0 0 8px 8px;
            overflow-x: auto;
            position: relative;
            padding-bottom: 2.5rem; /* Space for copy button */
            flex: 1; /* Fill available space equally */
            display: flex;
            align-items: center; /* Center short content vertically */
            min-height: 200px; /* Ensure minimum height for balance */
            background: var(--claude-code-bg);
        }

        .code-before pre {
            background: rgba(244, 67, 54, 0.03); /* Subtle red tint */
        }

        .code-after pre {
            background: rgba(46, 125, 50, 0.03); /* Subtle green tint */
        }

        .code-comparison pre code {
            display: block;
            white-space: pre-wrap;
            word-break: break-word;
            overflow-wrap: break-word;
            padding: 1rem;
            padding-bottom: 3rem; /* Extra space for button */
            width: 100%;
            color: var(--claude-text);
            line-height: 1.6;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Courier New', monospace;
        }

        .code-comparison .copy-btn {
            position: absolute;
            bottom: 0.5rem;
            right: 0.5rem;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
        }

        .code-comparison pre:hover .copy-btn {
            opacity: 1;
        }

        .code-comparison .comparison-note {
            grid-column: 1 / -1; /* Span all columns */
            font-size: 0.9rem;
            color: var(--claude-text-light);
            margin-top: 1rem;
            padding: 1rem 1.25rem;
            background: linear-gradient(135deg,
                rgba(197, 90, 53, 0.05) 0%,
                rgba(197, 90, 53, 0.02) 100%);
            border-radius: 8px;
            border-left: 4px solid var(--claude-orange);
        }

        .code-comparison .comparison-note strong {
            color: var(--claude-orange);
            font-size: 0.95rem;
        }

        /* Interactive Prompt Demo */
        .interactive-prompt-demo {
            background: var(--claude-surface);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: var(--shadow-md);
            border: 2px solid var(--claude-border);
        }

        .prompt-section, .output-section {
            margin-bottom: 1.5rem;
        }

        .prompt-section:last-child, .output-section:last-child {
            margin-bottom: 0;
        }

        .interactive-prompt-demo label {
            display: block;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            color: var(--claude-text);
        }

        .interactive-prompt-demo textarea {
            width: 100%;
            min-height: 80px;
            padding: 0.75rem;
            border: 2px solid var(--claude-border);
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            background: var(--claude-bg);
            color: var(--claude-text);
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .interactive-prompt-demo textarea:focus {
            outline: none;
            border-color: var(--claude-orange);
            box-shadow: 0 0 0 3px rgba(197, 90, 53, 0.1);
        }

        .try-prompt-btn {
            margin-top: 0.75rem;
            padding: 0.65rem 1.5rem;
            background: var(--claude-orange);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .try-prompt-btn:hover {
            background: var(--claude-orange-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .try-prompt-btn:active {
            transform: translateY(0);
        }

        .simulated-output {
            background: var(--claude-code-bg);
            border: 2px solid var(--claude-border);
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.6;
            white-space: pre-wrap;
            color: var(--claude-text);
        }

        .output-result {
            margin-top: 1rem;
            padding: 0.75rem;
            background: rgba(46, 125, 50, 0.1);
            border-left: 4px solid var(--success);
            border-radius: 4px;
            font-size: 0.9rem;
        }

        /* Terminal Simulation */
        .terminal-demo {
            margin: 1.5rem 0;
            background: #1E1E1E;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            font-family: 'Courier New', monospace;
        }

        .terminal-header {
            background: #323232;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid #2A2A2A;
        }

        .terminal-icon {
            display: flex;
            gap: 0.35rem;
            font-size: 0.6rem;
            letter-spacing: 0;
        }

        .terminal-icon::before { content: ''; }
        .terminal-icon::after { content: ''; }

        .terminal-title {
            font-size: 0.85rem;
            color: #9E9E9E;
            font-weight: 500;
        }

        .terminal-body {
            padding: 1.5rem;
            color: #E0E0E0;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .terminal-line {
            margin-bottom: 0.5rem;
        }

        .terminal-line:last-child {
            margin-bottom: 0;
        }

        .terminal-line.command {
            color: #4EC9B0;
        }

        .terminal-line.command::before {
            content: '$ ';
            color: #7C7C7C;
        }

        .terminal-line.prompt {
            color: #DCDCAA;
        }

        .terminal-line.output {
            color: #9CDCFE;
        }

        .terminal-line.success {
            color: #4EC9B0;
        }

        .terminal-line.success::before {
            content: ' ';
            color: #4EC9B0;
        }

        .terminal-line.error {
            color: #F48771;
        }

        .terminal-line.error::before {
            content: ' ';
            color: #F48771;
        }

        .terminal-line.comment {
            color: #6A9955;
        }

        /* Input -> Output Flow */
        .io-flow {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--claude-surface);
            border-radius: 12px;
            box-shadow: var(--shadow-md);
        }

        .io-input, .io-output {
            flex: 1;
            background: var(--claude-code-bg);
            border: 2px solid var(--claude-border);
            border-radius: 8px;
            padding: 1rem;
        }

        .io-label {
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--claude-text-light);
            margin-bottom: 0.5rem;
        }

        .io-content {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.6;
            color: var(--claude-text);
        }

        .io-arrow {
            font-size: 2rem;
            color: var(--claude-orange);
            flex-shrink: 0;
        }

        /* Responsive adjustments for interactive components */
        @media (max-width: 1200px) {
            .code-comparison {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }

            .code-comparison::before {
                display: none; /* Hide divider on stacked layout */
            }

            .code-before, .code-after {
                margin-bottom: 0;
            }
        }

        @media (max-width: 768px) {
            .code-comparison {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }

            .code-comparison::before {
                display: none;
            }

            .comparison-label {
                font-size: 0.75rem;
                padding: 0.5rem 0.85rem;
            }

            .code-comparison pre {
                min-height: 150px; /* Shorter on mobile */
            }

            .code-comparison .comparison-note {
                font-size: 0.85rem;
                padding: 0.85rem 1rem;
            }

            .code-comparison pre code {
                padding: 0.75rem;
                font-size: 0.85rem;
            }

            .code-comparison .copy-btn {
                opacity: 1; /* Always visible on mobile */
                font-size: 0.75rem;
                padding: 0.35rem 0.7rem;
            }

            .io-flow {
                flex-direction: column;
                gap: 1rem;
            }

            .io-arrow {
                transform: rotate(90deg);
            }

            .terminal-body {
                padding: 1rem;
                font-size: 0.8rem;
            }
        }

        /* Search Result Counter */
        .search-results {
            text-align: center;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--claude-text-light);
        }

        /* Keyboard Shortcuts Modal */
        .shortcuts-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--claude-surface);
            border: 1px solid var(--claude-border);
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            width: 90%;
            z-index: 1002;
            box-shadow: var(--shadow-lg);
        }

        .shortcuts-modal.active {
            display: block;
        }

        .shortcuts-modal h3 {
            margin-top: 0;
            margin-bottom: 1.25rem;
            color: var(--claude-orange);
            font-size: 1.5rem;
            font-weight: 700;
        }

        .shortcuts-category {
            margin-top: 1.75rem;
        }

        .shortcuts-category:first-of-type {
            margin-top: 0;
        }

        .shortcuts-category-title {
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--claude-orange);
            margin-bottom: 0.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--claude-border);
        }

        .shortcut-item {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 2rem;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid transparent;
        }

        .shortcut-item:hover {
            background: var(--claude-code-bg);
            margin: 0 -0.75rem;
            padding-left: 0.75rem;
            padding-right: 0.75rem;
            border-radius: 6px;
        }

        .shortcut-description {
            color: var(--claude-text);
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .shortcut-key {
            background: var(--claude-code-bg);
            color: var(--claude-text);
            padding: 0.35rem 0.65rem;
            border-radius: 6px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Dank Mono', monospace;
            font-size: 0.85rem;
            font-weight: 600;
            border: 1.5px solid var(--claude-border);
            white-space: nowrap;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        /* Dark mode key styling */
        [data-theme="dark"] .shortcut-key {
            background: var(--claude-border);
            border-color: var(--claude-text-light);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }

        .modal-overlay.active {
            display: block;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--claude-text-light);
            padding: 0.5rem;
            line-height: 1;
        }

        .close-modal:hover {
            color: var(--claude-orange);
        }

        /* Search Navigation Buttons */
        .search-nav {
            display: none;
            gap: 0.5rem;
            margin-left: 1rem;
            transition: gap 0.3s ease;
        }

        .search-nav.active {
            display: flex;
        }

        /* Compact navigation spacing */
        .search-container.scrolled .search-nav {
            gap: 0.4rem; /* Gentler spacing */
            margin-left: 0.85rem;
        }

        .search-nav-btn {
            background: var(--claude-orange);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            min-height: 36px; /* Maintain touch target */
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Compact navigation buttons - gentler reduction */
        .search-container.scrolled .search-nav-btn {
            padding: 0.45rem 0.9rem; /* Gentler reduction */
            font-size: 0.875rem; /* Less aggressive */
            min-height: 34px;
        }

        .search-nav-btn:hover {
            background: var(--claude-orange-dark);
        }

        .search-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <!-- Sticky Minimal Header with Search -->
    <div class="sticky-header" id="stickyHeader">
        <div class="sticky-header-left">
            <span class="sticky-header-title">Claude Code Guide</span>
            <span class="sticky-header-separator">|</span>
            <span class="sticky-header-section" id="stickyHeaderSection">Introduction</span>
        </div>
        <div class="sticky-header-center">
            <div class="search-box-sticky">
                <span class="search-icon"></span>
                <input type="text" id="searchInputSticky" placeholder="Search guide..." />
                <div class="search-nav" id="searchNavSticky" style="display: none;">
                    <button class="search-nav-btn" id="prevMatchSticky" aria-label="Previous match"></button>
                    <button class="search-nav-btn" id="nextMatchSticky" aria-label="Next match"></button>
                </div>
            </div>
        </div>
        <div class="sticky-header-right">
            <button class="theme-toggle" id="stickyThemeToggle" aria-label="Toggle dark mode" style="width: 40px; height: 40px; min-width: 40px; min-height: 40px; font-size: 1.2rem;">
                <span id="stickyThemeIcon"></span>
            </button>
        </div>
    </div>

    <!-- Floating Navigation Controls -->
    <div class="floating-nav-controls" id="floatingNavControls">
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
            <span id="themeIcon"></span>
        </button>
        <button class="back-to-top" id="backToTop" aria-label="Back to top"></button>
    </div>

    <!-- Text Selection Menu -->
    <div class="text-selection-menu" id="textSelectionMenu">
        <button class="selection-menu-button" id="highlightBtn" data-tooltip="Highlight" aria-label="Highlight text">
            
        </button>
        <button class="selection-menu-button" id="searchBtn" data-tooltip="Search" aria-label="Search text">
            
        </button>
        <button class="selection-menu-button" id="noteBtn" data-tooltip="Add Note" aria-label="Add note">
            
        </button>
        <button class="selection-menu-button" id="copyBtn" data-tooltip="Copy" aria-label="Copy to clipboard">
            
        </button>
        <button class="selection-menu-button" id="shareBtn" data-tooltip="Share Link" aria-label="Share selection">
            
        </button>
    </div>

    <!-- Note Modal -->
    <div class="note-modal-overlay" id="noteModalOverlay">
        <div class="note-modal">
            <div class="note-modal-header">
                <h3>Add Note</h3>
                <button class="note-modal-close" id="noteModalClose" aria-label="Close modal"></button>
            </div>
            <div class="note-modal-text-preview" id="noteTextPreview"></div>
            <textarea
                class="note-modal-textarea"
                id="noteTextarea"
                placeholder="Write your note here (max 500 characters)..."
                maxlength="500"
            ></textarea>
            <div class="note-modal-footer">
                <button class="note-modal-btn note-modal-btn-cancel" id="noteCancelBtn">Cancel</button>
                <button class="note-modal-btn note-modal-btn-save" id="noteSaveBtn">Save Note</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="selection-toast" id="selectionToast"></div>

    <!-- Notes & Highlights Sidebar -->
    <aside class="notes-sidebar" id="notesSidebar">
        <div class="notes-sidebar-header">
            <div class="notes-sidebar-title">
                <h3>
                     My Notes & Highlights
                    <span class="notes-sidebar-badge" id="notesSidebarCount">0</span>
                </h3>
                <button class="notes-sidebar-close" id="notesSidebarClose" aria-label="Close sidebar"></button>
            </div>
            <div class="notes-sidebar-actions">
                <button class="notes-sidebar-btn" id="exportNotesBtn"> Export</button>
                <button class="notes-sidebar-btn notes-sidebar-btn-danger" id="clearAllBtn"> Clear All</button>
            </div>
        </div>

        <div class="notes-sidebar-tabs">
            <button class="notes-sidebar-tab active" data-tab="all" id="tabAll">All (<span id="countAll">0</span>)</button>
            <button class="notes-sidebar-tab" data-tab="highlights" id="tabHighlights">Highlights (<span id="countHighlights">0</span>)</button>
            <button class="notes-sidebar-tab" data-tab="notes" id="tabNotes">Notes (<span id="countNotes">0</span>)</button>
        </div>

        <div class="notes-sidebar-content" id="notesSidebarContent">
            <!-- Items will be dynamically inserted here -->
        </div>
    </aside>

    <!-- Sidebar Toggle Button -->
    <button class="notes-sidebar-toggle" id="notesSidebarToggle" aria-label="Toggle notes sidebar">
        <span></span>
        <span class="notes-sidebar-badge" id="notesSidebarToggleBadge">0</span>
    </button>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
        <span></span>
    </button>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Keyboard Shortcuts Modal -->
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="shortcuts-modal" id="shortcutsModal">
        <button class="close-modal" id="closeModal" aria-label="Close modal"></button>
        <h3> Keyboard Shortcuts</h3>

        <div class="shortcuts-category">
            <div class="shortcuts-category-title">Search</div>
            <div class="shortcut-item">
                <span class="shortcut-description">Focus Search</span>
                <kbd class="shortcut-key">/</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Alternative Search Focus</span>
                <kbd class="shortcut-key">Ctrl+K / K</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Browser Find  Custom Search</span>
                <kbd class="shortcut-key">Ctrl+F / F</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Clear Search (keep focus)</span>
                <kbd class="shortcut-key">ESC</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Next Result (in search)</span>
                <kbd class="shortcut-key">Enter</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Previous Result (in search)</span>
                <kbd class="shortcut-key">Shift+Enter</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Next Search Result</span>
                <kbd class="shortcut-key">N</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Previous Search Result</span>
                <kbd class="shortcut-key">P</kbd>
            </div>
        </div>

        <div class="shortcuts-category">
            <div class="shortcuts-category-title">Navigation</div>
            <div class="shortcut-item">
                <span class="shortcut-description">Scroll Down</span>
                <kbd class="shortcut-key">J</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Scroll Up</span>
                <kbd class="shortcut-key">K</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Previous Section</span>
                <kbd class="shortcut-key">[</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Next Section</span>
                <kbd class="shortcut-key">]</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Back to Top</span>
                <kbd class="shortcut-key">T</kbd>
            </div>
        </div>

        <div class="shortcuts-category">
            <div class="shortcuts-category-title">Highlighting</div>
            <div class="shortcut-item">
                <span class="shortcut-description">Highlight in Yellow </span>
                <kbd class="shortcut-key">1</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Highlight in Green </span>
                <kbd class="shortcut-key">2</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Highlight in Blue </span>
                <kbd class="shortcut-key">3</kbd>
            </div>
        </div>

        <div class="shortcuts-category">
            <div class="shortcuts-category-title">Interface</div>
            <div class="shortcut-item">
                <span class="shortcut-description">Toggle Dark Mode</span>
                <kbd class="shortcut-key">D</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Show Keyboard Shortcuts</span>
                <kbd class="shortcut-key">?</kbd>
            </div>
            <div class="shortcut-item">
                <span class="shortcut-description">Close Modal</span>
                <kbd class="shortcut-key">ESC</kbd>
            </div>
        </div>
    </div>

    <div class="progress-bar" id="progressBar"></div>

    <header>
        <div class="header-content">
            <h1>Claude Code: The Complete Beginner-to-Expert Guide</h1>
            <div class="header-meta">
                <span> Last Updated: October 2025</span>
                <span> Status: Living Document</span>
                <span> By Anthropic</span>
            </div>
            <p class="header-subtitle">
                Anthropic's revolutionary command-line tool transforms how developers write, debug, and ship code through autonomous AI agents that live directly in your terminal.
            </p>
        </div>
    </header>

    <div class="search-container">
        <div class="search-box">
            <span class="search-icon"></span>
            <input type="text" id="searchInput" placeholder="Search guide and navigate sections... (Press / to focus)" />
            <div class="search-nav" id="searchNav">
                <button class="search-nav-btn" id="prevMatch" aria-label="Previous match"> Prev</button>
                <button class="search-nav-btn" id="nextMatch" aria-label="Next match">Next </button>
            </div>
        </div>
    </div>

    <div class="container">
        <aside class="toc">
            <h2 id="tocTitle"> Table of Contents</h2>
            <ul id="tocList">
                <li class="toc-parent">
                    <div class="toc-parent-header">
                        <span class="toc-group-title">FOR PRODUCT MANAGERS</span>
                        <span class="toc-chevron"></span>
                    </div>
                    <ul class="toc-children">
                        <li><a href="#for-product-managers">Why This Matters for PMs</a></li>
                        <li><a href="#pm-technical-foundation">PM's Technical Foundation</a></li>
                        <li><a href="#pm-use-cases">PM Use Case Library</a></li>
                        <li><a href="#pm-decision-guides">PM Decision Trees & Visual Guides</a></li>
                        <li><a href="#pm-templates">PM Template Library</a></li>
                    </ul>
                </li>
                <li class="toc-parent">
                    <div class="toc-parent-header">
                        <span class="toc-group-title">INTRODUCTION</span>
                        <span class="toc-chevron"></span>
                    </div>
                    <ul class="toc-children">
                        <li><a href="#what-is-claude-code">What is Claude Code?</a></li>
                        <li><a href="#what-makes-different">Why Claude Code is Different</a></li>
                        <li><a href="#models">Models and Capabilities</a></li>
                        <li><a href="#terminology">Key Terminology</a></li>
                        <li><a href="#capabilities">Core Capabilities</a></li>
                        <li><a href="#limitations">Limitations and Constraints</a></li>
                    </ul>
                </li>
                <li class="toc-parent">
                    <div class="toc-parent-header">
                        <span class="toc-group-title">GETTING STARTED</span>
                        <span class="toc-chevron"></span>
                    </div>
                    <ul class="toc-children">
                        <li><a href="#quick-start">Quick Start (5 Minutes)</a></li>
                        <li><a href="#installation">Installation from Scratch</a></li>
                        <li><a href="#first-session">Your First Session</a></li>
                    </ul>
                </li>
                <li class="toc-parent">
                    <div class="toc-parent-header">
                        <span class="toc-group-title">CORE WORKFLOWS</span>
                        <span class="toc-chevron"></span>
                    </div>
                    <ul class="toc-children">
                        <li><a href="#modes">Three Interaction Modes</a></li>
                        <li><a href="#prompting">Effective Prompting</a></li>
                        <li><a href="#tdd">Test-Driven Development</a></li>
                        <li><a href="#code-generation">Code Generation and Editing</a></li>
                        <li><a href="#debugging-workflow">Debugging Strategies</a></li>
                    </ul>
                </li>
                <li class="toc-parent">
                    <div class="toc-parent-header">
                        <span class="toc-group-title">ADVANCED FEATURES</span>
                        <span class="toc-chevron"></span>
                    </div>
                    <ul class="toc-children">
                        <li><a href="#autonomous">Autonomous Features</a></li>
                        <li><a href="#integrations">Integrations and Extensions</a></li>
                        <li><a href="#context">Context and Performance</a></li>
                        <li><a href="#permissions">Security and Permissions</a></li>
                        <li><a href="#constraints">Understanding Constraints</a></li>
                        <li><a href="#features">Latest Features and Roadmap</a></li>
                    </ul>
                </li>
                <li class="toc-parent">
                    <div class="toc-parent-header">
                        <span class="toc-group-title">PRACTICAL GUIDANCE</span>
                        <span class="toc-chevron"></span>
                    </div>
                    <ul class="toc-children">
                        <li><a href="#practical-web-app">Web Application Prototype</a></li>
                        <li><a href="#practical-ios-app">iOS Application Prototype</a></li>
                        <li><a href="#practical-ai-agent">Production AI Agents</a></li>
                    </ul>
                </li>
                <li class="toc-parent">
                    <div class="toc-parent-header">
                        <span class="toc-group-title">BEST PRACTICES & REFERENCE</span>
                        <span class="toc-chevron"></span>
                    </div>
                    <ul class="toc-children">
                        <li><a href="#best-practices">Best Practices</a></li>
                        <li><a href="#pitfalls">Common Pitfalls</a></li>
                        <li><a href="#troubleshooting">Troubleshooting Guide</a></li>
                        <li><a href="#pm-troubleshooting">PM Troubleshooting & FAQ</a></li>
                        <li><a href="#commands">Command Reference</a></li>
                        <li><a href="#production">Production Deployment</a></li>
                        <li><a href="#when-to-use">When to Use Claude Code</a></li>
                        <li><a href="#action-plan">Action Plan</a></li>
                        <li><a href="#takeaways">Key Takeaways</a></li>
                    </ul>
                </li>
            </ul>
        </aside>

        <main class="content">
            <section id="for-product-managers">
                <h2>For Product Managers: Why This Matters</h2>

                <h3>The PM Superpower You Didn't Know You Needed</h3>
                <p>As a Product Manager, you're the bridge between customer needs and technical solutions. But you've probably experienced these frustrations:</p>
                <ul>
                    <li><strong>Lost in Translation</strong>: Engineers implement features differently than you envisioned because requirements got "interpreted"</li>
                    <li><strong>Slow Iteration</strong>: Waiting days for prototypes to validate product ideas</li>
                    <li><strong>Technical Debt Debates</strong>: Can't evaluate engineering trade-offs because you lack code visibility</li>
                    <li><strong>Documentation Gaps</strong>: Engineers are too busy shipping to document their work thoroughly</li>
                    <li><strong>Handoff Friction</strong>: Struggle to review pull requests or provide meaningful technical feedback</li>
                </ul>

                <p><strong>Claude Code changes this game.</strong></p>

                <h3>What This Means for Your Daily Work</h3>
                <p>Think of Claude Code as your <strong>technical co-pilot</strong> that helps you:</p>
                <ol>
                    <li><strong>Generate requirements artifacts</strong> (PRDs, user stories, acceptance criteria) from rough ideas</li>
                    <li><strong>Create working prototypes</strong> to test product hypotheses without waiting for eng sprints</li>
                    <li><strong>Review code intelligently</strong> and ask substantive technical questions</li>
                    <li><strong>Automate analysis tasks</strong> (user feedback categorization, metrics reports, competitive research)</li>
                    <li><strong>Communicate technically</strong> with engineering teams using their language</li>
                </ol>

                <h3>Real PM Scenarios Solved</h3>

                <div class="callout callout-info">
                    <div class="callout-title"> Scenario 1: Rapid Prototyping</div>
                    <p><strong>Before</strong>: "I need a quick prototype to test this UX flow with users. Engineering estimates 2 weeks."</p>
                    <p><strong>With Claude Code</strong>: "I'll use Claude to generate a working prototype in 2 hours, test it, then bring validated requirements to engineering."</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Scenario 2: Technical Grooming</div>
                    <p><strong>Before</strong>: "I wrote a user story but engineers keep asking clarifying questions I can't answer."</p>
                    <p><strong>With Claude Code</strong>: "I'll ask Claude to analyze our codebase and suggest implementation approaches, then add technical context to my story."</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Scenario 3: Code Review Participation</div>
                    <p><strong>Before</strong>: "I can't provide meaningful feedback on PRs because I don't understand the code."</p>
                    <p><strong>With Claude Code</strong>: "I'll ask Claude to explain what the code does, identify potential edge cases, and help me ask smart questions."</p>
                </div>

                <h3>Your Learning Journey (What to Expect)</h3>
                <ul>
                    <li><strong>Week 1</strong>: Basic terminal commands, reading code with Claude's help</li>
                    <li><strong>Week 2</strong>: Generating documentation, writing simple automation scripts</li>
                    <li><strong>Week 3</strong>: Prototyping features, reviewing code changes confidently</li>
                    <li><strong>Month 2</strong>: Advanced workflows, integrating Claude into product processes</li>
                </ul>

                <div class="info-box">
                    <h3> Important Mindset</h3>
                    <p><strong>You don't need to become an engineer</strong>you're building technical fluency to be a more effective PM.</p>
                    <p>This guide teaches you to use Claude Code from a Product Manager's perspective: understanding code, communicating with engineering teams, and accelerating product decisionsnot writing production code.</p>
                </div>

                <h3>The Best PMs Are Technical Enough to Be Dangerous</h3>
                <p>They don't write production code, but they understand it deeply enough to:</p>
                <ul>
                    <li>Write requirements that engineers can implement without endless clarifications</li>
                    <li>Participate meaningfully in technical architecture discussions</li>
                    <li>Evaluate technical trade-offs independently</li>
                    <li>Prototype and validate product ideas rapidly</li>
                    <li>Become invaluable partners to engineering teams</li>
                </ul>

                <div class="callout callout-warning">
                    <div class="callout-title"> Time Investment vs Career Impact</div>
                    <p><strong>Time required</strong>: 2-4 hours per week for 4 weeks</p>
                    <p><strong>Career impact</strong>: Permanent upgrade to your PM skillset that differentiates you from peers</p>
                    <p><strong>ROI</strong>: Technical PMs command 20-30% higher compensation and advance faster to senior roles</p>
                </div>

                <p><strong>Ready to become a technical Product Manager?</strong> Let's start with the foundations.</p>
            </section>

            <section id="pm-technical-foundation">
                <h2>PM's Technical Foundation (Start Here)</h2>

                <h3>Essential Concepts Explained Simply</h3>
                <p>Before diving into Claude Code, let's demystify some terms you'll encounter. Think of this as your technical vocabulary crash courseeach concept translated from "engineer-speak" to "PM-speak."</p>

                <h4>The Terminal (Command Line)</h4>
                <div class="info-box">
                    <p><strong>What it is</strong>: A text-based way to control your computer (instead of clicking icons)</p>
                    <p><strong>PM Analogy</strong>: Like sending Slack commands instead of using menusfaster once you know the shortcuts</p>
                    <p><strong>Why you need it</strong>: Claude Code runs in the terminal, so you'll type commands instead of clicking buttons</p>
                </div>

                <p><strong>Your first commands</strong>:</p>
                <ul>
                    <li><code>cd project-folder</code>  Go to a folder (like clicking a folder in Finder)</li>
                    <li><code>ls</code>  List files in current folder (like viewing folder contents)</li>
                    <li><code>pwd</code>  Print working directory (where am I right now?)</li>
                </ul>

                <div class="callout callout-tip">
                    <div class="callout-title"> Practice Exercise</div>
                    <p>Open Terminal (Mac) or PowerShell (Windows) and try these commands. You can't break anythingpromise!</p>
                    <ol>
                        <li>Type <code>pwd</code> and press Enter  You'll see your current location</li>
                        <li>Type <code>ls</code> and press Enter  You'll see files and folders here</li>
                        <li>Type <code>cd Desktop</code> and press Enter  You've moved to your Desktop</li>
                        <li>Type <code>ls</code> again  Now you see Desktop contents</li>
                    </ol>
                </div>

                <h4>Git & Version Control</h4>
                <div class="info-box">
                    <p><strong>What it is</strong>: A system that tracks every change to files, like "track changes" in Google Docs but for code</p>
                    <p><strong>PM Analogy</strong>: Like Figma's version historysee who changed what, when, and roll back mistakes</p>
                    <p><strong>Why you need it</strong>: Claude Code integrates with git to save work safely. Plus, you'll understand engineering workflows better</p>
                </div>

                <p><strong>Key concepts you'll hear daily</strong>:</p>
                <ul>
                    <li><strong>Commit</strong>: Save a snapshot of changes (like saving a draft)</li>
                    <li><strong>Branch</strong>: Parallel version to experiment without breaking main code</li>
                    <li><strong>Pull Request (PR)</strong>: Propose changes for review before merging</li>
                    <li><strong>Repository (Repo)</strong>: The folder containing your project + its full history</li>
                    <li><strong>Merge</strong>: Combine changes from different branches</li>
                </ul>

                <div class="callout callout-success">
                    <div class="callout-title"> Practice Exercise</div>
                    <p>Create a GitHub account (it's free) and explore a popular repository:</p>
                    <ol>
                        <li>Go to <a href="https://github.com/facebook/react" target="_blank">github.com/facebook/react</a></li>
                        <li>Click aroundlook at files, commits, pull requests</li>
                        <li>Notice how you can see the entire history of every change</li>
                        <li>This is how all software development works!</li>
                    </ol>
                </div>

                <h4>Code Structure Basics</h4>
                <div class="info-box">
                    <p><strong>What it is</strong>: How files are organized in a software project</p>
                    <p><strong>PM Analogy</strong>: Like your product docs folder structuretests go here, features go there, documentation in another folder</p>
                </div>

                <p><strong>Typical project structure</strong>:</p>
                <pre><code>my-app/
 src/            Source code (the actual features)
 tests/          Automated tests
 docs/           Documentation
 package.json    Project configuration
 README.md       Project overview</code></pre>

                <div class="callout callout-tip">
                    <div class="callout-title"> Pro Tip</div>
                    <p>When engineers say "check the src folder," they mean the <strong>source code</strong> folder. When they say "update the README," they mean the main documentation file. Now you know!</p>
                </div>

                <h4>APIs & Endpoints</h4>
                <div class="info-box">
                    <p><strong>What it is</strong>: How software components talk to each other</p>
                    <p><strong>PM Analogy</strong>: Like ordering at a restaurantyou request (GET a menu), they respond (here's the menu)</p>
                </div>

                <p><strong>Common HTTP methods</strong> (you'll hear these constantly):</p>
                <ul>
                    <li><code>GET</code>  Fetch data (read-only, like viewing a page)</li>
                    <li><code>POST</code>  Create new data (like submitting a form)</li>
                    <li><code>PUT</code>  Update existing data (like editing your profile)</li>
                    <li><code>DELETE</code>  Remove data (like deleting a post)</li>
                </ul>

                <div class="callout callout-info">
                    <div class="callout-title"> Real PM Example</div>
                    <p>When your mobile app loads a user's profile, it sends a <code>GET /api/users/123</code> request. The server responds with that user's data. When the user updates their bio, the app sends a <code>PUT /api/users/123</code> request with the new text.</p>
                    <p><strong>Why you care</strong>: Understanding this helps you write better API requirements and debug integration issues.</p>
                </div>

                <h3>PM-Friendly Terminology Cheat Sheet</h3>
                <p>Print this out and keep it at your deskyou'll reference it constantly:</p>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Developer Term</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">PM Translation</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Codebase</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">All the code files in a project</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"The codebase for our iOS app"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Deploy</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Put new code into production</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"When will we deploy this feature?"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Refactor</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Rewrite code to improve it without changing behavior</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"We need 2 sprints to refactor payments"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Stack Trace</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Error message showing where code broke</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Send me the stack trace to debug"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Boilerplate</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Repetitive template code</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Auth has a lot of boilerplate"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Edge Case</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Unusual scenario that might break</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"What edge cases should we test?"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Technical Debt</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Quick hacks that need proper solutions later</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"We're paying down tech debt this quarter"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Merge Conflict</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Two people changed the same code differently</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"PR delayed due to merge conflicts"</td>
                        </tr>
                    </tbody>
                </table>

                <div class="callout callout-warning">
                    <div class="callout-title"> Communication Tip</div>
                    <p>When engineers use a term you don't know, don't pretend to understandask Claude!</p>
                    <p><strong>Example</strong>: "What does 'refactoring the auth layer' mean in simple language for a PM?"</p>
                    <p>Claude will explain it clearly, and you'll learn faster than nodding along in meetings.</p>
                </div>

                <h3> Knowledge Check</h3>
                <p>Before moving forward, make sure you can answer these:</p>
                <ul>
                    <li>[ ] Can you navigate to your Desktop using terminal commands?</li>
                    <li>[ ] Do you understand what a Pull Request is?</li>
                    <li>[ ] Can you explain the difference between GET and POST?</li>
                    <li>[ ] Do you know what "technical debt" means?</li>
                </ul>

                <p><strong>If you checked all boxes</strong>: Great! You're ready for the next section.</p>
                <p><strong>If not</strong>: That's okay! Revisit the concepts above or ask Claude to explain them. There's no rush.</p>

                <div class="callout callout-success">
                    <div class="callout-title"> You're Building Your Technical Vocabulary</div>
                    <p>Every PM started exactly where you are now. Within 2 weeks, these terms will feel natural. Within a month, you'll be the PM who "speaks engineer" fluently.</p>
                    <p><strong>Next up</strong>: Real-world PM use cases showing exactly how Claude Code accelerates your product work.</p>
                </div>
            </section>

            <section id="pm-use-cases">
                <h2>PM Use Case Library</h2>
                <p>Let's get practical. Here are 6 real-world scenarios showing exactly how Product Managers use Claude Code to accelerate their daily work. Each includes the exact prompts you can copy and adapt.</p>

                <h3>Use Case 1: Writing Better PRDs</h3>
                <div class="callout callout-info">
                    <div class="callout-title"> The Challenge</div>
                    <p>Your PRDs lack technical details engineers need, causing endless back-and-forth during grooming sessions. Engineers keep asking "How should we implement this?" and you don't have good answers.</p>
                </div>

                <h4>The Solution with Claude Code:</h4>
                <ol>
                    <li>Write your high-level requirements in natural language</li>
                    <li>Ask Claude to analyze the codebase and suggest implementation approaches</li>
                    <li>Add technical context to your PRD (existing patterns, components to reuse, potential gotchas)</li>
                </ol>

                <h4>Example Prompt (Copy & Adapt This):</h4>
                <pre><code>I'm writing a PRD for adding password reset functionality.

Help me:
1. Find existing authentication patterns in @src/auth/
2. Identify what components we can reuse
3. Suggest technical acceptance criteria engineers will need
4. Flag any security considerations
5. Estimate complexity (small/medium/large task)</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Expected Outcome</div>
                    <p>Claude provides technical context you can add to your PRD, making grooming sessions <strong>50% shorter</strong>. Engineers will appreciate that you've done your homework.</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Try It Yourself (5 minutes)</div>
                    <p>Take your last PRD and ask Claude: "Based on our codebase @src/, what technical implementation details should I add to this PRD?"</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Use Case 2: Understanding Code Changes (PR Review)</h3>
                <div class="callout callout-info">
                    <div class="callout-title"> The Challenge</div>
                    <p>Engineer sends you a pull request for review. You want to understand what changed and provide meaningful feedback, but the code looks like hieroglyphics.</p>
                </div>

                <h4>The Solution with Claude Code:</h4>
                <p>Ask Claude to translate the code changes into plain English, focusing on user impact and potential risks.</p>

                <h4>Example Prompt (Copy & Adapt This):</h4>
                <pre><code>Please explain this pull request in plain English:

@pull-request-url-or-diff

Focus on:
- What user-facing behavior changes
- What could break (edge cases)
- Any performance implications
- 3 smart questions I should ask in my review</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Expected Outcome</div>
                    <p>Plain-English explanation that lets you participate meaningfully in code reviews. You can now ask intelligent questions like "What happens if a user has two accounts?" instead of generic "Looks good!"</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Try It Yourself (10 minutes)</div>
                    <p>Review your team's latest merged PR with Claude's help. Notice how much more you understand about the changes.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Use Case 3: Rapid Prototyping</h3>
                <div class="callout callout-info">
                    <div class="callout-title"> The Challenge</div>
                    <p>You have a product hypothesis to test with users, but waiting 2 weeks for engineering to build a prototype kills your momentum and wastes sprint capacity.</p>
                </div>

                <h4>The Solution with Claude Code:</h4>
                <ol>
                    <li>Describe the UI/UX flow you want to test</li>
                    <li>Claude generates a working HTML prototype in minutes</li>
                    <li>Test with users  iterate quickly</li>
                    <li>Bring validated design to engineering with confidence</li>
                </ol>

                <h4>Example Prompt (Copy & Adapt This):</h4>
                <pre><code>Create a clickable HTML prototype of a multi-step onboarding flow:

Step 1: Email signup form
Step 2: Company information (name, industry dropdown, team size)
Step 3: Team member invitations (add multiple email addresses)
Step 4: Success confirmation with "Next Steps" CTA

Requirements:
- Professional design using Tailwind CSS
- Mobile-responsive
- Clickable navigation between steps
- Form validation (email format, required fields)

I need this to test with 5 users tomorrow morning.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Expected Outcome</div>
                    <p>Working prototype in <strong>10-15 minutes</strong> that you can immediately test with users. Save engineering 2 weeks of work by validating concepts before building.</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Try It Yourself (30 minutes)</div>
                    <p>Build a prototype of a feature you're considering for next quarter. Share it with a colleague for quick feedback.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Use Case 4: Analyzing User Feedback at Scale</h3>
                <div class="callout callout-info">
                    <div class="callout-title"> The Challenge</div>
                    <p>You have 500 customer feedback messages to categorize and prioritize. Manual analysis would take 6+ hours of mind-numbing work.</p>
                </div>

                <h4>The Solution with Claude Code:</h4>
                <p>Let Claude analyze the feedback data and generate a structured report with themes, priorities, and supporting quotes.</p>

                <h4>Example Prompt (Copy & Adapt This):</h4>
                <pre><code>Analyze this CSV of customer feedback @feedback.csv

Create a summary report with:
1. Top 5 pain points (with frequency count)
2. Feature requests grouped by theme
3. Sentiment analysis (positive/negative/neutral breakdown)
4. Recommended priority order based on impact + frequency
5. Representative quotes for each theme (for stakeholder presentations)

Export results as a formatted Markdown file for my product review.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Expected Outcome</div>
                    <p>Structured analysis report in <strong>5 minutes instead of 6 hours</strong>. You can now spend your time acting on insights instead of manually categorizing feedback.</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Try It Yourself (15 minutes)</div>
                    <p>Use Claude to analyze your last customer survey results or support ticket themes.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Use Case 5: Technical Grooming Preparation</h3>
                <div class="callout callout-info">
                    <div class="callout-title"> The Challenge</div>
                    <p>You need to facilitate technical grooming but lack confidence in estimating complexity or understanding dependencies. Engineers have to explain everything from scratch.</p>
                </div>

                <h4>The Solution with Claude Code:</h4>
                <p>Ask Claude to analyze the user story against your codebase and provide technical context before the grooming session.</p>

                <h4>Example Prompt (Copy & Adapt This):</h4>
                <pre><code>Help me prepare for technical grooming of this user story:

"As a user, I want to export my data to CSV so I can analyze it in Excel"

For our codebase @src/:
1. Is this a small/medium/large task? Why?
2. What files will likely need changes?
3. What dependencies or libraries might we need?
4. What could be technically tricky?
5. What questions should I ask engineering to validate the estimate?
6. Similar examples in our codebase I can reference?</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Expected Outcome</div>
                    <p>Technical context that helps you <strong>facilitate a productive grooming discussion</strong> instead of passively listening. Engineers will appreciate that you understand the technical landscape.</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Try It Yourself (10 minutes)</div>
                    <p>Prep your next grooming session with Claude's technical analysis. Notice how much more engaged you feel during the discussion.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Use Case 6: Writing Technical Documentation</h3>
                <div class="callout callout-info">
                    <div class="callout-title"> The Challenge</div>
                    <p>Feature shipped but documentation is missing. Engineers are heads-down on the next sprint and don't have time to write docs. Users are confused.</p>
                </div>

                <h4>The Solution with Claude Code:</h4>
                <p>Generate user-facing documentation directly from the code, then polish it for your help center.</p>

                <h4>Example Prompt (Copy & Adapt This):</h4>
                <pre><code>Generate user-facing documentation for the new "Smart Scheduling" feature.

Based on code in @src/scheduling/:
1. Write a step-by-step user guide (mark where screenshots go)
2. Document all settings and configuration options
3. Add FAQ section for common issues
4. Include technical requirements (browser compatibility, etc.)
5. Write in friendly, non-technical language

Format for our customer-facing help center.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Expected Outcome</div>
                    <p>Draft documentation <strong>ready for light editing and screenshot addition</strong>. What would take an engineer 4 hours (which they don't have) takes you 20 minutes.</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Try It Yourself (15 minutes)</div>
                    <p>Document a recently shipped feature that lacks good docs. Send it to your team for feedback.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>More PM Use Cases (Quick Reference)</h3>
                <p>Once you're comfortable with the above scenarios, explore these additional use cases:</p>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Scenario</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Claude Code Solution</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Time Saved</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Competitive Analysis</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Analyze competitor's public repos to understand their tech approach</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">2-3 hours  15 min</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>API Documentation</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Generate API docs from code for partner integrations</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">4 hours  20 min</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Release Notes</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Generate user-friendly release notes from git commits</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">1 hour  5 min</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Bug Triage</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Analyze stack traces to understand severity and root cause</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">30 min  5 min</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>User Story Refinement</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Add technical acceptance criteria based on codebase patterns</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">1 hour  10 min</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Technical Risk Assessment</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Identify technical risks in proposed features</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">1 hour  15 min</td>
                        </tr>
                    </tbody>
                </table>

                <div class="callout callout-warning">
                    <div class="callout-title"> Pro Tip: Save Your Best Prompts</div>
                    <p>As you discover prompts that work well, save them as <strong>custom slash commands</strong> (you'll learn this in the Advanced Workflows section). This lets you run complex analyses with a single command like <code>/prd-tech-context</code>.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Next Steps</div>
                    <p>Now that you've seen what's possible, let's get Claude Code installed and running. The next section walks you through installation step-by-stepeven if you've never touched a terminal before.</p>
                </div>
            </section>

            <section id="pm-decision-guides">
                <h2>PM Decision Trees & Visual Guides</h2>

                <p>As a Product Manager, you'll often wonder: "Should I use Claude Code for this task?" or "Which approach should I take?" These visual guides help you make quick, confident decisions.</p>

                <h3>Decision Tree 1: Should I Use Claude Code?</h3>
                <p><strong>Use this flowchart to decide if Claude Code is the right tool for your current task:</strong></p>

                <div style="background: var(--claude-code-bg); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; font-family: monospace; font-size: 0.9rem; line-height: 1.6;">
<pre style="margin: 0; white-space: pre;">
START: What do you need to do?

 "I need to UNDERSTAND something technical"
   About our codebase?   USE CLAUDE CODE
    (How does auth work? Where's the API logic?)              (It can read & explain)
  
   About general concepts?   MAYBE
     (What is REST? How does React work?)                    (Web search might be faster)

 "I need to CREATE something"
   Working prototype to test with users?   USE CLAUDE CODE
                                                              (2 hours vs 2 weeks)
  
   Production-ready feature?   USE ENGINEERING
                                                              (But Claude can help PRD!)
  
   Documentation or requirements?   USE CLAUDE CODE
                                                              (PRDs, tech specs, docs)
  
   Data analysis or reports?   USE CLAUDE CODE
                                                               (User feedback analysis)

 "I need to ANALYZE something"
   Code changes (PR review)?   USE CLAUDE CODE
                                                              (Explains what changed & why)
  
   User feedback at scale?   USE CLAUDE CODE
                                                              (Categorize 1000s of responses)
  
   Competitive research?   MAYBE
                                                              (If public code repos available)

 "I need to VALIDATE something"
   Technical feasibility?   USE CLAUDE CODE
                                                              (Ask it to check codebase)
  
   Implementation complexity?   USE CLAUDE CODE
                                                              (Estimate small/med/large)
  
   Business model viability?   USE OTHER TOOLS
                                                              (This is strategy work)

 "I need to COMMUNICATE with engineering"
    Ask better technical questions?   USE CLAUDE CODE
                                                               (Learn the concepts first)
   
    Review PRs meaningfully?   USE CLAUDE CODE
                                                               (Understand before commenting)
   
    Explain business requirements technically?   USE CLAUDE CODE
                                                               (Translate PM  Dev speak)
</pre>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Quick Rule of Thumb</div>
                    <p><strong>Use Claude Code when you need to:</strong> Understand code, create prototypes, analyze technical things, or communicate with engineers.</p>
                    <p><strong>Don't use Claude Code for:</strong> Strategic decisions, business modeling, user research, or production deployments.</p>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Decision Tree 2: Which Mode Should I Use?</h3>
                <p><strong>Claude Code has 3 modes. Here's when to use each one as a PM:</strong></p>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 20%;">Mode</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 40%;">When to Use (PM Perspective)</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 40%;">Example Scenarios</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong> Plan Mode</strong><br><span style="font-size: 0.85rem; color: var(--claude-text-light);">(Shift+Tab twice)</span></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Best for learning & exploration</strong><br>
                                 Understanding unfamiliar codebases<br>
                                 Planning features before grooming<br>
                                 Learning how something works<br>
                                 No riskno changes until you approve
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                 "Help me understand our authentication system before I write the PRD"<br>
                                 "Plan an approach for adding SSO login"<br>
                                 "How would you implement this feature idea?"
                            </td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong> Default Mode</strong><br><span style="font-size: 0.85rem; color: var(--claude-text-light);">(Standard)</span></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Best for controlled work</strong><br>
                                 Building prototypes step-by-step<br>
                                 Making changes to existing code<br>
                                 When you want to review each step<br>
                                 Safer for important files
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                 "Create a login page prototype"<br>
                                 "Add a new field to this form"<br>
                                 "Update this component to include dark mode"
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong> Auto Mode</strong><br><span style="font-size: 0.85rem; color: var(--claude-text-light);">(Shift+Tab once)</span></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Best for rapid prototyping</strong><br>
                                 Quick prototypes for user testing<br>
                                 Experimenting with ideas<br>
                                 When you have Git safety net<br>
                                 Fast iteration needed
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                 "Build a working onboarding flow I can test today"<br>
                                 "Create a dashboard with 5 charts"<br>
                                 "Generate a complete CRUD interface"
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="callout callout-success">
                    <div class="callout-title"> PM Recommendation</div>
                    <p><strong>Start with Plan Mode</strong> until you're comfortable (shift+tab twice). It's the safest way to learn. You can always switch to Default or Auto later.</p>
                    <p><strong>Pro tip:</strong> If you're working on a throwaway prototype folder, Auto Mode is perfect. If you're touching real product code, stick with Default Mode.</p>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Decision Tree 3: Prompt Strategy Selector</h3>
                <p><strong>Different tasks need different prompting approaches. Use this guide to craft effective prompts:</strong></p>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 25%;">Your Goal</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 35%;">Prompt Strategy</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 40%;">Example Prompt</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Understand Code</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Strategy:</strong> Point to files, ask for PM-friendly explanation<br>
                                <strong>Include:</strong> @file references, "explain like I'm a PM"
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                "Explain how @src/auth/ works in simple terms. What does a user experience during login? What are the security measures?"
                            </td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Build Prototype</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Strategy:</strong> Describe user experience, specify tech if known<br>
                                <strong>Include:</strong> User flow, key features, testing goal
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                "Build a prototype: User uploads CSV, sees data table, can filter by category. I need to test this with 5 users tomorrow."
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Enhance PRD</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Strategy:</strong> Share PRD, ask for technical context<br>
                                <strong>Include:</strong> @src/ reference, request acceptance criteria
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                "Here's my PRD for search feature. Based on @src/, suggest: 1) Reusable components 2) Technical acceptance criteria 3) Edge cases 4) Complexity estimate"
                            </td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Review PR</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Strategy:</strong> Provide PR link or diff, ask PM-focused questions<br>
                                <strong>Include:</strong> What you want to validate
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                "Review PR #234. Explain: What changed? Why? Does it match the requirements in issue #145? Any concerns for product?"
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Analyze Data</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Strategy:</strong> Provide data file, specify analysis type<br>
                                <strong>Include:</strong> Questions you need answered
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                "Analyze @user-feedback.csv. Categorize by theme, identify top 5 pain points, suggest which to prioritize for Q3."
                            </td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Estimate Complexity</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                <strong>Strategy:</strong> Describe feature, ask for T-shirt size<br>
                                <strong>Include:</strong> @codebase context, constraints
                            </td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">
                                "Based on @src/, is adding OAuth login a small/medium/large task? What's the complexity? Any gotchas I should know for planning?"
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="callout callout-info">
                    <div class="callout-title"> Universal Prompt Tips for PMs</div>
                    <p><strong>Always include:</strong></p>
                    <ul>
                        <li> <strong>Your role:</strong> "I'm a PM" or "Explain for non-technical audience"</li>
                        <li> <strong>File context:</strong> Use @filename or @folder/ to point Claude to relevant code</li>
                        <li> <strong>Desired output:</strong> "Create a table" / "Give me bullet points" / "Provide a summary"</li>
                        <li> <strong>Time constraint:</strong> "I need this for a meeting in 30 minutes" helps Claude prioritize</li>
                    </ul>
                    <p><strong>Avoid:</strong></p>
                    <ul>
                        <li> Vague requests: "Tell me about the code"  Too broad</li>
                        <li> Assuming Claude knows context: "Fix the bug"  Which bug? Where?</li>
                        <li> Technical jargon you don't understand: "Refactor to use HOCs"  Just say what you want achieved</li>
                    </ul>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Visual Workflow: PM's Daily Claude Code Integration</h3>
                <p><strong>Here's how Claude Code fits into your typical day as a Product Manager:</strong></p>

                <div style="background: var(--claude-code-bg); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; font-family: monospace; font-size: 0.85rem; line-height: 1.6;">
<pre style="margin: 0; white-space: pre;">
<strong>MORNING (9:00 AM - 12:00 PM)</strong>

 9:00 - Check overnight PRs
    <strong>Claude Code:</strong> "Summarize PRs #145-148 for me. What changed and why?"
       Time: 5 minutes (vs 30 minutes manually)

 9:30 - Sprint Planning Prep
    <strong>Claude Code:</strong> "Estimate complexity of these 10 user stories based on @src/"
       Time: 10 minutes (vs 60 minutes in meeting)

 11:00 - Write PRD for new feature
     <strong>Claude Code:</strong> "Based on @src/components/, what existing components can we reuse?"
        Time: 15 minutes (adds valuable technical context)

<strong>AFTERNOON (1:00 PM - 5:00 PM)</strong>

 1:00 - User Feedback Analysis
    <strong>Claude Code:</strong> "Analyze @feedback-march.csv: categorize, find patterns, top issues"
       Time: 10 minutes (vs 2 hours manually)

 2:30 - Technical Grooming with Team
    <strong>Claude Code:</strong> "For this story, what edge cases should we discuss?"
       Time: 5 minutes before meeting (smoother discussion)

 4:00 - Prototype for User Testing
     <strong>Claude Code:</strong> "Build working prototype of this onboarding flow"
        Time: 1-2 hours (vs 1-2 weeks waiting for eng)

<strong>END OF DAY (5:00 PM)</strong>

 Review what you accomplished
    <strong>Without Claude Code:</strong> Wrote 1 PRD, attended 3 meetings, reviewed 2 PRs (guessed)
    <strong>With Claude Code:</strong> Wrote 1 detailed PRD, analyzed 500 feedback responses,
                                reviewed 4 PRs meaningfully, created working prototype,
                                estimated 10 stories accurately

     <strong>Time saved: ~3-4 hours</strong>
     <strong>Quality improved: Technical credibility with engineers</strong>
     <strong>Decisions improved: Data-driven, validated with prototypes</strong>
</pre>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Key Insight</div>
                    <p>You're not trying to replace engineers. You're <strong>accelerating your own PM work</strong>: better requirements, faster validation, smarter questions, and more technical credibility.</p>
                    <p>Claude Code makes you a <strong>10x Product Manager</strong>, not a mediocre developer.</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Practice Exercise (10 minutes)</div>
                    <p><strong>Try this workflow tomorrow:</strong></p>
                    <ol>
                        <li><strong>Morning:</strong> Ask Claude Code to explain any PR you received overnight</li>
                        <li><strong>Midday:</strong> Use it to enhance one user story with technical acceptance criteria</li>
                        <li><strong>Afternoon:</strong> Analyze any CSV data you have (feedback, metrics, anything)</li>
                    </ol>
                    <p>Notice how much time you save and how much more technical credibility you have in conversations.</p>
                </div>
            </section>

            <section id="pm-templates">
                <h2>PM Template Library</h2>

                <p>Ready-to-use templates that you can copy, customize, and use immediately in Claude Code. Each template is optimized for Product Manager workflows.</p>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Template 1: PRD with Technical Context</h3>

                <div class="callout callout-info">
                    <div class="callout-title"> Purpose</div>
                    <p><strong>When to use:</strong> When writing a PRD and you need to add technical implementation details that engineers will appreciate.</p>
                    <p><strong>Time saved:</strong> 30-45 minutes per PRD by auto-generating technical sections</p>
                </div>

                <h4>Claude Code Prompt (Copy This):</h4>
                <pre><code>I'm writing a PRD for: [BRIEF FEATURE DESCRIPTION]

Based on @src/, please help me add technical context:

1. **Existing Components We Can Reuse**
   - List components in our codebase that are relevant
   - Explain what each does in simple terms

2. **Technical Implementation Approach**
   - High-level approach (which files/folders will be affected?)
   - Key technical decisions needed

3. **Technical Acceptance Criteria**
   - Specific, testable criteria engineers can verify
   - Include edge cases and error handling

4. **Complexity Estimate**
   - T-shirt size (Small/Medium/Large)
   - Reasoning for the estimate
   - Risk areas or unknowns

5. **Dependencies & Constraints**
   - What needs to be done first?
   - Any technical limitations to be aware of?

Format as sections I can copy directly into my PRD document.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="interactive-prompt-demo">
                    <div class="prompt-section">
                        <label> Try This Prompt (Edit & Test):</label>
                        <textarea>I'm writing a PRD for: Add "Export to PDF" button on dashboard

Based on @src/components/Dashboard/, please help me add technical context:

1. **Existing Components We Can Reuse**
2. **Technical Implementation Approach**
3. **Technical Acceptance Criteria**
4. **Complexity Estimate**
5. **Dependencies & Constraints**

Format as sections I can copy directly into my PRD document.</textarea>
                        <button class="try-prompt-btn"> See What Claude Returns</button>
                    </div>
                    <div class="output-section">
                        <label> Claude's Response:</label>
                        <div class="simulated-output" style="display: none;">Based on your dashboard code structure, here's the technical context:

**1. Existing Components We Can Reuse**
 ExportButton.jsx - Current CSV export component
 DashboardLayout.jsx - Container for new button
 ChartRenderer.js - Handles chart-to-image conversion

**2. Technical Implementation Approach**
 Add react-pdf library (18KB gzipped)
 Extend src/services/export.js
 80% of work in src/components/Dashboard/

**3. Technical Acceptance Criteria**
 PDF includes all visible charts with current filters
 Filename format: "Dashboard_2025-10-13.pdf"
 Loading spinner during generation (3-5s)
 Error handling with user-friendly messages
 Cross-browser compatible (Chrome/Firefox/Safari)

**4. Complexity Estimate: MEDIUM**
 Reasoning: New dependency + chart rendering
 Timeline: 2-3 days dev + 1 day QA
 Risk: Chart formatting may need iteration

**5. Dependencies & Constraints**
 Blocker: Dashboard refactor (Issue #234) must merge first
 Constraint: PDF size must stay under 5MB</div>
                        <div class="output-result">
                             <strong>Result:</strong> You now have comprehensive technical sections to paste directly into your PRD, saving 30-45 minutes of research and writing.
                        </div>
                    </div>
                </div>

                <h4>Example Filled Template:</h4>
                <div style="background: var(--claude-surface); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0;">
                    <p><strong>Feature:</strong> Add "Export to PDF" button on dashboard</p>

                    <p><strong>1. Existing Components We Can Reuse</strong></p>
                    <ul>
                        <li><code>ExportButton.jsx</code> - We already have CSV export, can extend for PDF</li>
                        <li><code>DashboardLayout.jsx</code> - Where the button will live</li>
                        <li><code>ChartRenderer.js</code> - Renders charts that need to appear in PDF</li>
                    </ul>

                    <p><strong>2. Technical Implementation Approach</strong></p>
                    <ul>
                        <li>Add PDF library (react-pdf or jsPDF)</li>
                        <li>Extend existing export service at <code>src/services/export.js</code></li>
                        <li>Main work in <code>src/components/Dashboard/</code> folder</li>
                    </ul>

                    <p><strong>3. Technical Acceptance Criteria</strong></p>
                    <ul>
                        <li>PDF includes all visible charts with current filters applied</li>
                        <li>Generated filename includes date: "Dashboard_2025-10-13.pdf"</li>
                        <li>Loading state shown during PDF generation (may take 3-5 seconds)</li>
                        <li>Error message if PDF generation fails</li>
                        <li>Works in Chrome, Firefox, Safari</li>
                    </ul>

                    <p><strong>4. Complexity Estimate: Medium</strong></p>
                    <ul>
                        <li>Reasoning: Requires new dependency, moderate complexity in chart rendering</li>
                        <li>Estimated: 2-3 days development + 1 day testing</li>
                        <li>Risk: Chart formatting might look different in PDF (needs iteration)</li>
                    </ul>

                    <p><strong>5. Dependencies & Constraints</strong></p>
                    <ul>
                        <li>Depends on: Dashboard refactor (Issue #234) needs to be merged first</li>
                        <li>Constraint: PDF size should stay under 5MB for email-ability</li>
                    </ul>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Template 2: Technical Grooming Checklist</h3>

                <div class="callout callout-info">
                    <div class="callout-title"> Purpose</div>
                    <p><strong>When to use:</strong> Before refinement/grooming meetings to ensure user stories are technically complete.</p>
                    <p><strong>Time saved:</strong> 20 minutes prep + smoother 30-minute meetings = 50 minutes saved per story</p>
                </div>

                <h4>Claude Code Prompt (Copy This):</h4>
                <pre><code>I'm preparing for technical grooming on this user story:

[PASTE YOUR USER STORY HERE]

Based on @src/, help me prepare by answering:

**1. Technical Clarity Check**
- Is the implementation approach clear from the description?
- What technical details are missing that engineers will ask about?

**2. Edge Cases to Discuss**
- List 5-7 edge cases engineers should consider
- Prioritize by likelihood and impact

**3. Component/API Touchpoints**
- Which existing components/files will be modified?
- Any new components needed?
- Which APIs/services are involved?

**4. Testing Considerations**
- What should be tested?
- Any existing tests that need updating?

**5. Questions for Engineering**
- Generate 3-5 smart questions I should ask the team
- Focus on: architecture decisions, risks, alternatives

**6. Definition of Done Suggestions**
- Propose specific, testable acceptance criteria
- Include non-functional requirements (performance, security, etc.)</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <h4>Blank Checklist to Print:</h4>
                <div style="background: var(--claude-code-bg); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; font-family: monospace; font-size: 0.85rem;">
<pre style="margin: 0;">
<strong>TECHNICAL GROOMING CHECKLIST</strong>
Story: _________________________________    Date: __________

 Technical approach is clear
 Edge cases identified and prioritized
 Component touchpoints mapped
 Testing strategy defined
 Smart questions prepared (list below)
 DoD criteria specific and testable
 Dependencies identified
 Complexity estimated with team

<strong>Questions for Engineering:</strong>
1. ___________________________________________________
2. ___________________________________________________
3. ___________________________________________________

<strong>Decisions Made:</strong>
___________________________________________________________
___________________________________________________________

<strong>Follow-ups Required:</strong>
___________________________________________________________
</pre>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Template 3: Code Review Questions for PMs</h3>

                <div class="callout callout-info">
                    <div class="callout-title"> Purpose</div>
                    <p><strong>When to use:</strong> When reviewing PRs and you want to provide meaningful feedback beyond "looks good!"</p>
                    <p><strong>Time saved:</strong> 10 minutes per PR + increased credibility with engineering team</p>
                </div>

                <h4>Claude Code Prompt (Copy This):</h4>
                <pre><code>I need to review PR #[NUMBER] as a Product Manager.

Please analyze this PR and help me ask smart, product-focused questions:

**1. High-Level Summary**
- What does this PR do in 2-3 sentences (non-technical language)?
- Does it match the original requirements in [ISSUE/STORY NUMBER]?

**2. Product Impact Assessment**
- What's the user-facing change?
- Any potential UX implications I should flag?
- Does this introduce new user-facing errors or edge cases?

**3. Requirements Verification**
- Check against acceptance criteria: [PASTE CRITERIA]
- What's covered? What might be missing?

**4. Smart Questions I Should Ask**
- Generate 3-5 product-focused questions about this implementation
- Focus on: user impact, edge cases, future extensibility

**5. Risks or Concerns**
- Any product risks I should be aware of?
- Does this limit future feature options?
- Any tech debt being introduced that affects product velocity?

**6. Suggested Feedback**
- Draft 2-3 constructive comments I could leave on the PR
- Balance: acknowledge good work + raise valid concerns</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-tip">
                    <div class="callout-title"> Pro Tip</div>
                    <p>After Claude analyzes the PR, read the code yourself (even if you don't understand it fully). Engineers appreciate when PMs <strong>try</strong> to understand the implementation.</p>
                    <p>Ask questions like: "I see you added this validation herewhat happens if [edge case]?" This shows engagement.</p>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Template 4: Sprint Planning Tech Assessment</h3>

                <div class="callout callout-info">
                    <div class="callout-title"> Purpose</div>
                    <p><strong>When to use:</strong> Before sprint planning to quickly assess technical complexity of multiple stories.</p>
                    <p><strong>Time saved:</strong> 1 hour of estimation meetings by pre-analyzing stories</p>
                </div>

                <h4>Claude Code Prompt (Copy This):</h4>
                <pre><code>Sprint planning is tomorrow. Help me assess these stories technically:

**Stories to assess:**
1. [Story title and brief description]
2. [Story title and brief description]
3. [Story title and brief description]
[Add more as needed]

For each story, based on @src/, provide:

**Quick Assessment Table:**
| Story | Complexity (S/M/L) | Key Files Affected | Risk Level | Dependencies | Recommended Sprint? |
|-------|-------------------|-------------------|------------|--------------|---------------------|
| [#]   |                   |                   |            |              |                     |

**Detailed Analysis for Each:**

<strong>Story [#1]:</strong>
- Complexity reasoning: [Why S/M/L?]
- Implementation approach: [High-level how]
- Risks: [What could go wrong?]
- Dependencies: [What's needed first?]
- PM considerations: [Product implications]

[Repeat for each story]

**Sprint Recommendations:**
- Definitely include: [Stories with clear path]
- Maybe include: [Stories with moderate risk]
- Defer: [Stories needing more research]
- Total estimated story points: [Sum if using points]</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Template 5: Stakeholder Technical Update</h3>

                <div class="callout callout-info">
                    <div class="callout-title"> Purpose</div>
                    <p><strong>When to use:</strong> When you need to communicate technical progress to non-technical stakeholders.</p>
                    <p><strong>Time saved:</strong> 30 minutes writing + clearer communication = happier stakeholders</p>
                </div>

                <h4>Claude Code Prompt (Copy This):</h4>
                <pre><code>I need to send a technical update to stakeholders (CEO, Sales, Marketing).

Context:
- Feature: [Feature name]
- Technical work done: [Brief summary or paste engineering update]
- Audience: Non-technical business stakeholders

Help me translate this into a stakeholder update:

**Format Needed:**

<strong>1. Executive Summary (2-3 sentences)</strong>
- What shipped / what's in progress
- Business impact in their language

<strong>2. What's Working Well (3 bullet points)</strong>
- Translate technical wins to business value
- Use metrics they care about (time saved, users affected, etc.)

<strong>3. Current Challenges (if any)</strong>
- Explain technical blockers in business terms
- Provide business impact of delays
- Don't blame engineeringfocus on solutions

<strong>4. What's Next (3-5 bullets)</strong>
- Upcoming milestones
- Expected completion dates
- Risks to be aware of

<strong>5. Action Items for Stakeholders (if any)</strong>
- What decisions do we need?
- What approvals or resources needed?

Tone: Professional, confident, transparent about challenges</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <h4>Example Output:</h4>
                <div style="background: var(--claude-surface); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0;">
                    <p><strong>Subject: [Feature Name] - Technical Update</strong></p>

                    <p><strong>Executive Summary:</strong><br>
                    The authentication redesign is 70% complete and on track for Oct 30 launch. We've successfully migrated 5,000 beta users with zero security incidents. Remaining work focuses on enterprise SSO integration.</p>

                    <p><strong>What's Working Well:</strong></p>
                    <ul>
                        <li>Login time reduced from 3.2s to 0.8susers are seeing 4x faster experience</li>
                        <li>Security audit passed with no critical issuesreduces compliance risk</li>
                        <li>Beta users report 95% satisfaction (up from 73%)validates new design</li>
                    </ul>

                    <p><strong>Current Challenges:</strong><br>
                    Enterprise SSO integration with Okta is taking longer than estimated (5 days vs 2 days planned). This is because Okta's API changed recently and required adapting our approach. Impact: Oct 30 launch date still achievable, but with less buffer for testing.</p>

                    <p><strong>What's Next:</strong></p>
                    <ul>
                        <li>Oct 15: Complete SSO integration and internal testing</li>
                        <li>Oct 20: Begin rolling out to 25% of enterprise customers</li>
                        <li>Oct 25: Full rollout if metrics look good</li>
                        <li>Oct 30: Official launch announcement (marketing can proceed with plans)</li>
                    </ul>

                    <p><strong>Action Items for Stakeholders:</strong><br>
                    None currentlyteam has what they need. I'll send another update if the Oct 30 date looks at risk.</p>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Template 6: Feature Complexity Estimator</h3>

                <div class="callout callout-info">
                    <div class="callout-title"> Purpose</div>
                    <p><strong>When to use:</strong> When stakeholders ask "how long will this take?" and you need a quick ballpark.</p>
                    <p><strong>Time saved:</strong> 15 minutes per estimate + you avoid committing to unrealistic timelines</p>
                </div>

                <h4>Claude Code Prompt (Copy This):</h4>
                <pre><code>I need a complexity estimate for this feature idea:

[DESCRIBE THE FEATURE IN 2-4 SENTENCES]

Based on @src/, help me estimate:

**1. Complexity Classification**
 Small (1-3 days) - Minor changes, low risk
 Medium (1-2 weeks) - Moderate changes, some unknowns
 Large (2-4 weeks) - Significant work, multiple systems
 Extra Large (1-3 months) - Major undertaking, high complexity

Select one and explain why.

**2. Breakdown of Work**
- Frontend work: [What needs to be built?]
- Backend work: [What APIs/services affected?]
- Database changes: [Any schema changes?]
- Testing effort: [How much testing needed?]
- Integration work: [What systems need to connect?]

**3. Risk Factors (Rate 1-5, 5=highest risk)**
- Technical complexity: [1-5]
- Unknown requirements: [1-5]
- Dependency on external systems: [1-5]
- Testing complexity: [1-5]
Total risk score: [Sum / 20]

**4. Confidence Level**
- High confidence (75-90%): Clear path, done similar before
- Medium confidence (50-75%): Some unknowns, need research
- Low confidence (25-50%): Many unknowns, need spike/prototype

Current confidence: [X%] because [reasoning]

**5. Recommendation for Stakeholder**
Provide a 2-3 sentence summary I can tell the stakeholder, including:
- Rough timeline with confidence interval
- Key risks or unknowns
- What would increase confidence (research, prototype, etc.)</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-warning">
                    <div class="callout-title"> Important Reminder</div>
                    <p><strong>These are PM estimates for planning, not engineering commitments!</strong></p>
                    <p>Always say to stakeholders: "Based on my understanding, this looks like a [size] effort, but engineering will need to validate this during grooming."</p>
                    <p>Use these estimates to prioritize and sequence work, not to commit to deadlines.</p>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>How to Use These Templates</h3>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 10%;">Step</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 90%;">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>1</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Open your terminal and navigate to your codebase: <code>cd path/to/project</code></td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>2</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Start Claude Code: <code>claude</code></td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>3</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Copy the relevant template prompt from above</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>4</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Customize the [BRACKETED SECTIONS] with your specific details</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>5</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Paste into Claude Code and hit Enter</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>6</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Review Claude's response, ask follow-up questions as needed</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>7</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Copy the output to your PRD, Jira, Notion, or wherever you need it</td>
                        </tr>
                    </tbody>
                </table>

                <div class="callout callout-success">
                    <div class="callout-title"> Pro Tip: Save Your Custom Versions</div>
                    <p>After using these templates a few times, save your customized versions in a note-taking app or as custom slash commands in Claude Code (see Advanced Features section).</p>
                    <p>Example: Create <code>/prd-context</code> that automatically runs your personalized PRD enhancement template.</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Practice Challenge</div>
                    <p><strong>This week, try using 3 different templates:</strong></p>
                    <ol>
                        <li>Use Template 1 (PRD Context) on your next requirements document</li>
                        <li>Use Template 3 (Code Review) on the next PR you're assigned to review</li>
                        <li>Use Template 6 (Complexity Estimator) when stakeholder asks "how long?"</li>
                    </ol>
                    <p>Track how much time you save and how engineers react to your improved technical communication.</p>
                </div>
            </section>

            <section id="what-is-claude-code">
                <h2>What is Claude Code?</h2>

                <p><strong>Claude Code is a command-line AI coding assistant</strong> that brings Anthropic's powerful Claude AI models directly into your terminal (the text-based interface developers use to run commands on their computer). Unlike browser-based chatbots or IDE extensions (add-ons to code editors), Claude Code operates as an autonomous agent that can read your code, execute commands, make changes, run tests, and even create git commitsall through natural language conversations, just like chatting with a colleague.</p>

                <div class="info-box">
                    <h3> The Core Concept</h3>
                    <p>Think of Claude Code as <span class="highlight">an extremely capable junior developer who lives in your terminal</span>. You give it high-level instructions ("add user authentication to this API"), and it autonomously breaks down the task, explores your codebase, writes code, tests it, and presents the changes for your approval.</p>
                </div>

                <h3>What problem does it solve?</h3>
                <p>Modern development involves countless repetitive tasks that eat up hours every day:</p>
                <ul>
                    <li><strong>Writing boilerplate code</strong> - The repetitive, template-like code that every project needs but takes time to write</li>
                    <li><strong>Debugging stack traces</strong> - Reading through error messages that show where code broke and why</li>
                    <li><strong>Understanding unfamiliar codebases</strong> - Making sense of code written by others or inherited from previous teams</li>
                    <li><strong>Refactoring legacy code</strong> - Updating old code to use modern patterns without breaking functionality</li>
                    <li><strong>Maintaining consistent code style</strong> - Ensuring all code follows the same formatting and organizational patterns</li>
                </ul>
                <p>Claude Code acts as a force multiplier, handling these time-consuming tasks automatically while you focus on the important strategic work: architecture decisions, business logic, and creative problem-solving.</p>

                <h3>How it works (in 3 steps)</h3>
                <ol>
                    <li><strong>You describe what you want</strong> - In natural language, either as prompts or through interactive conversation</li>
                    <li><strong>Claude explores and acts</strong> - It reads relevant files, analyzes your codebase structure, writes/edits code, and runs tests</li>
                    <li><strong>You review and approve</strong> - Claude presents changes for your approval before committing, maintaining full control</li>
                </ol>

                <h3>Who should use Claude Code?</h3>
                <ul>
                    <li><strong>Professional developers</strong> working on complex codebases who want to accelerate feature development</li>
                    <li><strong>Team leads</strong> looking to standardize code patterns and automate code review suggestions</li>
                    <li><strong>Solo founders</strong> building MVPs rapidly without sacrificing code quality</li>
                    <li><strong>Open-source maintainers</strong> handling bug fixes and feature requests efficiently</li>
                </ul>

                <p><strong>Where it runs:</strong> Claude Code is a Node.js application (a program built with JavaScript technology) that runs entirely in your local terminal on your own computer. It works with any codebase, any programming language, and integrates seamlessly with your existing git workflow (version control system for tracking code changes) and development tools. Your code never leaves your machine unless you explicitly push changes.</p>

                <div class="warning-box">
                    <p><strong> Not a replacement for developers</strong> - Claude Code is a powerful assistant, not an autonomous coding solution. You remain the architect, decision-maker, and reviewer. It amplifies your capabilities but requires guidance, context, and human judgment.</p>
                </div>
            </section>

            <section id="what-makes-different">
                <h2>Why Claude Code is Different</h2>
                <p><strong>Terminal-native agentic development.</strong> Unlike other AI coding tools that just suggest code snippets, Claude Code operates as a true "agent"meaning it can independently take multiple actions in sequence without constant hand-holding. It reads files, runs commands, creates commits (saves your work to version control), executes tests, and chains complex actions together automatically.</p>

                <p><strong>Built by engineers, for engineers.</strong> Anthropic's own engineers built Claude Code for their daily work, which means it focuses on real developer workflows rather than marketing features. It gives you almost direct access to Claude's AI models without forcing you into specific rigid patternsit adapts to how you already work rather than making you change your process.</p>

                <div class="callout callout-info">
                    <div class="callout-title"> Three Interaction Modes</div>
                    <p>Claude Code provides flexibility for different scenarios:</p>
                    <ul>
                        <li><strong>Default mode</strong>: Prompts for approval on every action (safest for critical work)</li>
                        <li><strong>Auto mode</strong>: Enables autonomous file editing without interruption</li>
                        <li><strong>Plan mode</strong>: Uses extended thinking to create comprehensive strategies without executing code until you approve</li>
                    </ul>
                </div>

                <p><strong>Continuous evolution.</strong> Claude Code has rapidly expanded capabilities through frequent updates. Key features that make it powerful:</p>
                <ul>
                    <li><strong>Checkpoints</strong>: Like "undo" for code changesinstantly rollback to previous states if something goes wrong</li>
                    <li><strong>Specialized subagents</strong>: Multiple AI assistants working in parallel on different parts of your task (one reviewing code quality while another writes tests)</li>
                    <li><strong>Hooks</strong>: Automated triggers that run quality checks and formatting automatically whenever code changes (like having an automated code reviewer)</li>
                    <li><strong>Background tasks</strong>: Long-running processes (like building your app or running extensive tests) that don't block you from continuing other work</li>
                    <li><strong>Plugin ecosystem</strong>: A marketplace where you can add custom functionality and integrations with other tools your team uses</li>
                </ul>
            </section>

            <section id="models">
                <h2>Models and Capabilities</h2>

                <p>Claude Code offers two AI "brains" you can choose from, each with different capabilities and costs:</p>

                <h3>Claude Sonnet 4.5 (Recommended for Most Work)</h3>
                <p>This is the <strong>default model</strong> that Claude Code uses automatically. Think of it as your reliable, fast, and cost-effective assistant:</p>
                <ul>
                    <li><strong>Performance:</strong> Achieves 77.2% on SWE-bench Verified (an industry benchmark where it successfully solves real GitHub issues)</li>
                    <li><strong>Stamina:</strong> Can maintain focus and context for 30+ hours on complex tasks without losing track</li>
                    <li><strong>Cost:</strong> $3 per million input tokens + $15 per million output tokens</li>
                    <li><strong>Real cost example:</strong> A typical coding session might use 10,000-50,000 tokens, costing roughly $0.03-$0.75</li>
                    <li><strong>Best for:</strong> Daily development work, bug fixes, code reviews, documentation, and most feature implementations</li>
                </ul>

                <h3>Claude Opus 4 (Premium Intelligence)</h3>
                <p>This is the <strong>most powerful model</strong>use it for your hardest problems:</p>
                <ul>
                    <li><strong>Intelligence:</strong> Frontier-level reasoning capabilities, best-in-class for complex problems</li>
                    <li><strong>Cost:</strong> $15 per million input tokens + $75 per million output tokens (5x more expensive than Sonnet)</li>
                    <li><strong>Real cost example:</strong> Same typical session would cost $0.15-$3.75</li>
                    <li><strong>Best for:</strong> Architectural decisions, debugging complex multi-system issues, large refactors, and when Sonnet struggles</li>
                </ul>

                <div class="info-box">
                    <h3> Understanding "Tokens"</h3>
                    <p><strong>Tokens are how AI models measure text.</strong> Think of them as word fragmentsroughly 750 words = 1,000 tokens. When you ask Claude a question and it responds, you pay for:</p>
                    <ul>
                        <li><strong>Input tokens:</strong> Your question + context (code files Claude reads)</li>
                        <li><strong>Output tokens:</strong> Claude's response + generated code</li>
                    </ul>
                    <p><strong>Example:</strong> If you ask Claude to "fix this bug" and include a 200-line file for context, that might be ~1,500 input tokens. Claude's response with a fix might be ~500 output tokens. With Sonnet, this costs: (1,500  $0.000003) + (500  $0.000015) = $0.0045 + $0.0075 = <strong>$0.012 total</strong> (about 1 penny).</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Model Selection Strategy</div>
                    <p>Most developers should use <strong>Sonnet 4.5</strong> for daily work and reserve <strong>Opus 4</strong> for architectural decisions, challenging bugs, and multi-step implementations. The <code>/model</code> slash command switches between models mid-session.</p>
                </div>
            </section>

            <section id="terminology">
                <h2>Key Terminology</h2>
                <p>Before diving in, here are essential terms you'll encounter throughout this guide. Don't worry if these seem complexthey'll make more sense as you use Claude Code:</p>

                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Core Terminology Definitions (Click to Expand)</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <ul>
                                <li>
                                    <strong>Agentic system</strong>: Think of it like an AI employee who can complete entire projects with minimal supervision. Instead of you having to break down every tiny step, you give it a goal ("add login feature") and it figures out all the steps needed, executes them, and reports back. Traditional AI tools wait for your next instruction after each stepagents keep working until the job is done.
                                </li>
                                <li>
                                    <strong>Context window</strong>: This is Claude's "working memory"how much text it can keep in mind at once while working. Think of it like desk space: a larger context window means Claude can spread out more files and see more of your codebase at the same time. Standard plans give 200K tokens (roughly 500 pages of text), Enterprise gets 500K tokens (1,250 pages).
                                </li>
                                <li>
                                    <strong>Token</strong>: The unit AI models use to measure text. Roughly 1 token =  of a word, or about 4 characters. This matters because: (1) you pay based on tokens used, and (2) your context window limit is measured in tokens. Example: The sentence "Hello, how are you?" = about 6 tokens.
                                </li>
                                <li>
                                    <strong>Checkpoint</strong>: Like pressing Ctrl+Z (undo) but for all the changes Claude made. Before Claude modifies your code, it automatically creates a checkpoint. If something goes wrong, press Escape twice and everything reverts instantly. Think of it as a safety netyou can experiment fearlessly knowing you can always rewind.
                                </li>
                                <li>
                                    <strong>Subagent</strong>: A specialized AI assistant that works alongside the main Claude. Imagine you're managing a project: while Claude writes the feature code, you can summon a "Testing Subagent" to write tests in parallel, and a "Documentation Subagent" to update docs. They work independently with their own instructions and memory, then report results back to you.
                                </li>
                                <li>
                                    <strong>Hook</strong>: An automated trigger that runs commands when specific events happen. Example: You set up a hook that says "whenever Claude edits a JavaScript file, automatically run Prettier to format it beautifully." This ensures consistency without having to remember manual steps. Like setting up smart home automations but for your codebase.
                                </li>
                                <li>
                                    <strong>MCP (Model Context Protocol)</strong>: An open standard that lets Claude Code connect to external tools and services. Think of it like USB ports for AIit's a universal way to plug in connections to GitHub, Slack, Google Drive, databases, etc. Instead of building custom integrations for each tool, MCP provides one standard way to connect everything.
                                </li>
                                <li>
                                    <strong>RAG (Retrieval Augmented Generation)</strong>: A system that finds and fetches relevant information before answering questions. Imagine you have 10,000 pages of documentationRAG quickly searches for the 3 most relevant pages and gives just those to Claude, rather than trying to fit everything into memory. It's like having a librarian who fetches exactly the books you need.
                                </li>
                                <li>
                                    <strong>SWE-bench (Software Engineering Benchmark)</strong>: An industry-standard test that measures how well AI can fix real bugs from actual GitHub projects. When we say "Claude scores 77.2% on SWE-bench Verified," it means Claude successfully fixed 77 out of 100 real-world bugs that stumped other developers. It's like a report card for AI coding skills.
                                </li>
                                <li>
                                    <strong>Extended thinking</strong>: A mode where Claude spends extra time "thinking" before respondinglike asking someone to take a moment to really think through a problem. You trigger this by including words like "think" or "megathink" in your prompt. Claude uses more tokens (costs slightly more) but provides much deeper analysis for complex problems.
                                </li>
                                <li>
                                    <strong>Slash commands</strong>: Quick shortcuts that start with <code>/</code> to control Claude Code without typing full sentences. Examples: <code>/init</code> creates project setup, <code>/clear</code> clears conversation history, <code>/model</code> switches AI models. Think of them like keyboard shortcutsfast ways to execute common actions.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="pm-glossary">
                <h2>PM-Friendly Glossary: A-Z Reference</h2>
                <p>This comprehensive glossary translates technical jargon into PM-friendly language. Bookmark this page for quick reference during meetings and grooming sessions.</p>

                <div class="callout callout-tip">
                    <div class="callout-title"> How to Use This Glossary</div>
                    <p><strong>In meetings</strong>: When an engineer uses unfamiliar jargon, quickly look it up here</p>
                    <p><strong>In PRDs</strong>: Reference these definitions to add technical context to requirements</p>
                    <p><strong>In grooming</strong>: Use PM analogies to clarify understanding with your team</p>
                    <p><strong>Pro tip</strong>: Print the table from the "PM's Technical Foundation" section and keep it at your desk for the most common terms</p>
                </div>

                <h3>A-D</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 20%;">Term</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 35%;">PM Translation</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 45%;">Example Usage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>API</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">How different software components talk to each other (like a restaurant menu listing what you can order)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Our mobile app calls the /users API to fetch profile data"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Authentication</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Proving who you are (login with email/password)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Users authenticate with their email before accessing features"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Authorization</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Proving what you're allowed to do (permissions based on role)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"After authentication, we authorize based on subscription tier"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Backend</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Server-side code users don't see (database, logic, APIsthe "kitchen")</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Backend handles payment processing; frontend shows the form"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Boilerplate</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Repetitive template code every project needs (like standard contract clauses)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Auth systems have lots of boilerplate Claude can generate"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Branch</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Parallel version of code to experiment without breaking main code (like a Google Doc copy)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Create a feature branch to develop the redesign"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Build</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Process of converting source code into runnable software (like compiling ingredients into a meal)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"The build is brokentests won't run until we fix it"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Bug</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Something that should work but doesn't (broken functionality)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"There's a bug preventing users from resetting passwords"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>CI/CD</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Automated testing and deployment pipeline (assembly line for shipping code)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Our CI/CD pipeline runs tests before deploying to production"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Codebase</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">All the code files that make up a project</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"The mobile app codebase is separate from the web codebase"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Commit</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Save a snapshot of code changes (like "Save Version" in Figma)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Make frequent commits so we can roll back if needed"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Deploy</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Put new code into production where users see it</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"We deploy to staging first, then production after testing"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Dependency</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">External code libraries your project relies on (like ordering parts for assembly)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"We have a dependency on the Stripe payment library"</td>
                        </tr>
                    </tbody>
                </table>

                <h3>E-L</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 20%;">Term</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 35%;">PM Translation</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 45%;">Example Usage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Edge Case</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Unusual scenario that might break your feature (corner case)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Edge case: What if a user uploads a 100MB profile picture?"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Endpoint</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Specific URL that performs an action in your API (like a menu item)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"The POST /users endpoint creates new user accounts"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Feature Flag</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">On/off switch for features in production (deploy anytime, control release)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Ship with a flag, enable for 10% beta users first"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Frontend</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Client-side code users interact with (UI, buttons, screensthe "dining room")</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Frontend team is redesigning the dashboard UI"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Git</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Version control system tracking every code change (like Google Docs version history)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Check git history to see who changed that file"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Latency</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Time delay between request and response ("how fast does it feel?")</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"API latency is 150msfeels instant to users"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Library</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Reusable code package (like Figma plugins or Excel formulas)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"We're using the Moment library for date formatting"</td>
                        </tr>
                    </tbody>
                </table>

                <h3>M-S</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 20%;">Term</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 35%;">PM Translation</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 45%;">Example Usage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Merge</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Combine code changes from different branches into one</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Merge the feature branch into main after PR approval"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Merge Conflict</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Two people changed the same code differently (needs manual resolution)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"PR has merge conflictsneeds engineering to resolve"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Microservice</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Small, independent service handling one specific function (like specialized departments)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Payment microservice is downcheckout won't work"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>NPM</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">App store for JavaScript libraries (Node Package Manager)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Install dependencies with: npm install"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Pull Request (PR)</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Proposed code changes for review before merging (like document approval workflow)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Please review my PR for the new dashboard feature"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Refactor</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Rewrite code to improve it without changing behavior (like renovating a kitchen)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Refactor the auth system before adding OAuth support"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Repository (Repo)</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Folder containing code + full version history (like Google Drive folder with infinite undo)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Clone the mobile-app repo to your local machine"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>REST API</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Common way to structure APIs using HTTP requests (GET, POST, PUT, DELETE)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Our REST API follows standard URL patterns"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Rollback</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Undo a deployment and return to previous version (safety escape hatch)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Critical bug detectedrollback to yesterday's version"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Stack Trace</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Error message showing where code broke and why (diagnostic report)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Copy the full stack trace when reporting bugs"</td>
                        </tr>
                    </tbody>
                </table>

                <h3>T-Z</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 20%;">Term</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 35%;">PM Translation</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 45%;">Example Usage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Technical Debt</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Quick hacks that need proper solutions later (like duct-taping a leak)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"We're allocating 20% of sprint capacity to pay down tech debt"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Terminal</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Text-based way to control your computer (command line interface)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Open Terminal and run: cd Desktop"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Test Coverage</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">% of code that has automated tests (higher = better quality confidence)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"We maintain 80% test coverage on critical features"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Unit Test</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Automated test for one small piece of code (like testing one ingredient)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Write unit tests for the new validation function"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Version Control</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">System tracking every change, who made it, when (Git is the most common)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Version control lets us see who changed what"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Webhook</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Automated notification sent when an event happens (like Slack notifications)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Set up webhook to notify us when payment succeeds"</td>
                        </tr>
                    </tbody>
                </table>

                <div class="callout callout-success">
                    <div class="callout-title"> Quick Reference Tips</div>
                    <p><strong>When engineers say...</strong></p>
                    <ul>
                        <li>"We need to refactor this" = Clean up old code without changing behavior</li>
                        <li>"There's tech debt here" = Quick hack that needs proper solution later</li>
                        <li>"Edge case we need to handle" = Unusual scenario that might break</li>
                        <li>"Merge conflict" = Two people changed same code, needs manual fix</li>
                        <li>"Deploy to staging first" = Test in pre-production before real users see it</li>
                        <li>"Check the stack trace" = Look at the error diagnostic report</li>
                        <li>"Add feature flag" = Build on/off switch for controlled release</li>
                    </ul>
                </div>

                <div class="callout callout-warning">
                    <div class="callout-title"> When You Don't Know a Term</div>
                    <p>Don't pretend to understand! Try these approaches:</p>
                    <ol>
                        <li><strong>Ask Claude</strong>: "What does [term] mean in simple language for a PM?"</li>
                        <li><strong>In meetings</strong>: "Can you explain [term] for the non-engineers in the room?"</li>
                        <li><strong>In Slack</strong>: "Quick clarification: what do you mean by [term]?"</li>
                        <li><strong>Check this glossary</strong>: Bookmark this page for quick reference</li>
                    </ol>
                    <p>Engineers respect PMs who ask clarifying questionsit shows you care about understanding, not just nodding along.</p>
                </div>
            </section>

            <section id="capabilities">
                <h2>Core Capabilities</h2>
                <p>Claude Code excels at seven main types of work that developers do every day. Here's what it can help you with:</p>

                <h3 id="feature-dev">1. Feature Development</h3>
                <p><strong>What it does:</strong> Takes your plain English request like "add a password reset feature" and turns it into working code.</p>
                <p><strong>How it works:</strong> Claude breaks down your request into steps, creates a plan, writes the necessary code across multiple files, adds tests to verify it works, and presents everything for your review. Think of it as going from "I need this feature" to "here's the working feature" with minimal back-and-forth.</p>
                <p><strong>Example:</strong> "Add user authentication with email and password"  Claude creates login forms, database models, API endpoints, security measures, and testsall coordinated and ready to review.</p>

                <h3 id="debugging">2. Debugging & Error Resolution</h3>
                <p><strong>What it does:</strong> Finds and fixes bugs when you describe what's wrong or paste an error message.</p>
                <p><strong>How it works:</strong> Claude reads your error messages (stack traces), analyzes the relevant code, identifies the root cause, and implements a fix. The more detail you provide about what went wrong, the better Claude can help.</p>
                <p><strong>Example:</strong> Your app crashes with "TypeError: Cannot read property 'name' of undefined"  Paste the error, Claude traces it back to the source, finds where the null check is missing, and adds proper error handling.</p>

                <h3 id="navigation">3. Codebase Navigation</h3>
                <p><strong>What it does:</strong> Answers questions about your codebase like you're asking a knowledgeable teammate.</p>
                <p><strong>How it works:</strong> Claude reads through your project structure and code to understand how everything connects, then explains it in plain English with examples. Perfect for new team members or when diving into unfamiliar legacy code.</p>
                <p><strong>Example:</strong> "How does our payment processing system work?"  Claude explains the flow from user checkout  payment gateway  order confirmation, pointing to specific files and functions involved.</p>

                <h3 id="automation">4. Automated Tedious Tasks</h3>
                <p><strong>What it does:</strong> Handles the boring, repetitive work that takes time but doesn't require creativity.</p>
                <p><strong>Common tasks it automates:</strong></p>
                <ul>
                    <li><strong>Fix lint issues and formatting</strong> - Automatically clean up code style violations</li>
                    <li><strong>Resolve merge conflicts</strong> - When two people edit the same code, Claude helps merge the changes</li>
                    <li><strong>Write release notes</strong> - Generate summaries of what changed in each version</li>
                    <li><strong>Generate boilerplate code</strong> - Create repetitive template code (forms, API endpoints, database models)</li>
                    <li><strong>Create unit tests</strong> - Write automated tests to verify code works correctly</li>
                    <li><strong>Automate code reviews</strong> - Check for common issues, security problems, and best practices</li>
                    <li><strong>Generate documentation</strong> - Create README files, API docs, and code comments</li>
                </ul>
                <p><strong>Time savings:</strong> Tasks that typically take 1-2 hours can be done in minutes with Claude handling the grunt work.</p>

                <h3 id="git">5. Git Workflow Management</h3>
                <p><strong>What it does:</strong> Handles version control tasksthe system developers use to track every change made to code over time.</p>
                <p><strong>Git operations Claude can help with:</strong></p>
                <ul>
                    <li><strong>Search commit history</strong> - Find when a specific change was made or who wrote certain code</li>
                    <li><strong>Write commit messages with context</strong> - Generate clear descriptions of what changed and why</li>
                    <li><strong>Resolve complex rebase conflicts</strong> - Fix issues when merging different versions of code</li>
                    <li><strong>Revert problematic changes</strong> - Undo specific changes that caused issues</li>
                    <li><strong>Create commits and pull requests</strong> - Package up changes and prepare them for team review</li>
                </ul>
                <p><strong>Why this matters:</strong> Git operations can be confusing and error-prone. Claude handles the complexity while you focus on what the changes should be.</p>

                <h3 id="refactoring">6. Code Refactoring</h3>
                <p><strong>What it does:</strong> Restructures existing code to make it cleaner, faster, or easier to maintainwithout changing what it actually does.</p>
                <p><strong>How it works:</strong> Claude executes large-scale changes across many files while maintaining consistency. The checkpoint system acts as a safety netif anything breaks, you can instantly rollback. Claude understands dependencies (how different parts of code connect) so it updates everything that needs to change together.</p>
                <p><strong>Example:</strong> "Rename 'user_id' to 'userId' throughout the entire codebase"  Claude finds every occurrence across hundreds of files, updates variable names, function calls, database queries, tests, and documentationall while ensuring nothing breaks.</p>

                <h3 id="cicd">7. CI/CD Integration</h3>
                <p><strong>What it does:</strong> Connects with your automated build and deployment pipelines.</p>
                <p><strong>Integration options:</strong></p>
                <ul>
                    <li><strong>Headless mode</strong> - Run Claude Code in automated scripts without human interaction</li>
                    <li><strong>GitHub Actions integration</strong> - Automatically run Claude Code when code is pushed or PRs are opened</li>
                    <li><strong>Pre-commit hooks</strong> - Run checks and fixes automatically before code is saved to version control</li>
                    <li><strong>Build script automation</strong> - Let Claude generate and maintain complex build configurations</li>
                </ul>
                <p><strong>Use case:</strong> Set up Claude to automatically review every pull request, suggest improvements, and verify code quality before merginglike having a senior engineer review every change.</p>

                <div class="callout callout-success">
                    <div class="callout-title"> Industry Adoption</div>
                    <p>Companies like GitHub, Cursor, Replit, Canva, and Figma leverage Claude Code capabilities in their development products.</p>
                </div>
            </section>

            <section id="limitations">
                <h2>Limitations and Constraints</h2>
                <p>Before investing time in Claude Code, understand these key constraints:</p>

                <div class="callout callout-warning">
                    <div class="callout-title"> Rate Limits & Usage Caps</div>
                    <ul>
                        <li><strong>No unlimited plan</strong>: Even the $200/month plan has weekly usage limits</li>
                        <li><strong>5-hour rolling window</strong>: Usage resets only after 5 hours of inactivity</li>
                        <li><strong>Weekly caps</strong>: Heavy users may exhaust limits and be blocked for days</li>
                        <li><strong>Unpredictable tightening</strong>: Limits can change without notice during high-demand periods</li>
                    </ul>
                </div>

                <h4>Context & File Constraints</h4>
                <ul>
                    <li><strong>200K token limit</strong>: Approximately 150,000 words for standard plans (Enterprise: 500K)</li>
                    <li><strong>Performance degradation</strong>: Avoid using final 20% of context window for complex tasks</li>
                    <li><strong>File size limits</strong>: 30MB maximum per file for most operations</li>
                    <li><strong>No persistent memory</strong>: Sessions are statelessuse CLAUDE.md and memory files for persistence</li>
                </ul>

                <h4>Model Access Restrictions</h4>
                <ul>
                    <li><strong>Pro Plan ($20/mo)</strong>: Sonnet only in Claude Code (no Opus access in terminal)</li>
                    <li><strong>Auto-switching</strong>: Higher plans auto-switch from Opus to Sonnet at usage thresholds</li>
                    <li><strong>Limited Opus hours</strong>: Even Max plans provide only 15-40 hours Opus per week</li>
                </ul>

                <h4>Success Rate Expectations</h4>
                <ul>
                    <li><strong>~33% first-try success</strong>: Expect iteration and refinement for most tasks</li>
                    <li><strong>Human review essential</strong>: Always review code changes before committing</li>
                    <li><strong>Not a replacement for expertise</strong>: Best results when you understand what Claude generates</li>
                </ul>

                <div class="callout callout-tip">
                    <div class="callout-title"> Recommendation</div>
                    <p>Start with Pro Plan ($20/mo) for evaluation. Upgrade to Max plans ($100-200/mo) only if you hit limits regularly and find value. For production-critical workflows, consider API access for predictable pricing and no weekly caps.</p>
                </div>
            </section>

            <section id="quick-start">
                <h2>Quick Start (5 Minutes)</h2>
                <p>Want to try Claude Code immediately? Here's the fastest path:</p>

                <h4>Step 1: Install (choose one method)</h4>
                <pre><code># NPM method (if you have Node.js)
npm install -g @anthropic-ai/claude-code

# OR native binary (recommended)
curl -fsSL https://claude.ai/install.sh | bash  # macOS/Linux/WSL</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <h4>Step 2: Launch and authenticate</h4>
                <pre><code>cd your-project-directory
claude
# Follow browser prompts to log in</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <h4>Step 3: Try your first prompt</h4>

                <div class="terminal-demo">
                    <div class="terminal-header">
                        <span class="terminal-icon"></span>
                        <span class="terminal-title">Terminal  claude</span>
                    </div>
                    <div class="terminal-body">
                        <div class="terminal-line command">cd my-project</div>
                        <div class="terminal-line command">claude</div>
                        <div class="terminal-line output">Claude Code v1.0.2 (Sonnet 4.5)</div>
                        <div class="terminal-line output">Context: 45 files (12.3K tokens)</div>
                        <div class="terminal-line output">Type /help for commands or start chatting!</div>
                        <div class="terminal-line" style="margin-top: 1rem;"></div>
                        <div class="terminal-line prompt">claude> Help me understand what this codebase does</div>
                        <div class="terminal-line output" style="margin-top: 0.5rem;">Reading files...</div>
                        <div class="terminal-line success">Analyzed project structure</div>
                        <div class="terminal-line success">Found key components</div>
                        <div class="terminal-line" style="margin-top: 0.5rem; color: #E0E0E0;">
This is a React-based e-commerce dashboard. Key components:

 src/pages/Dashboard.jsx - Main admin interface
 src/api/orders.js - Order management API
 src/components/ProductList.jsx - Product catalog

The app uses Redux for state management and connects to a
Node.js/Express backend. Want me to explain any specific part?</div>
                    </div>
                </div>

                <p>That's it! Claude will read files, analyze structure, and explain your project.</p>

                <div class="callout callout-success">
                    <div class="callout-title"> Next Steps</div>
                    <ul>
                        <li>Run <code>/init</code> to create CLAUDE.md project context file</li>
                        <li>Try "Fix any lint errors in this project"</li>
                        <li>Experiment with Plan Mode (Shift+Tab twice) for complex tasks</li>
                        <li>Create a checkpoint before risky changes (Esc twice to undo)</li>
                    </ul>
                </div>
            </section>

            <section id="installation">
                <h2>Installation for Non-Engineers</h2>

                <div class="callout callout-success">
                    <div class="callout-title"> Before You Start: Don't Panic!</div>
                    <p>Installing Claude Code requires using the <strong>terminal</strong> (command line). This might feel intimidating if you've never used it, but:</p>
                    <ul>
                        <li> You'll only need to type a few commands (copy-paste works fine!)</li>
                        <li> Mistakes won't break your computer</li>
                        <li> Millions of non-technical people do this successfully every day</li>
                        <li> This guide assumes <strong>zero</strong> prior technical experience</li>
                    </ul>
                    <p><strong>Time required</strong>: 10-15 minutes</p>
                </div>

                <h3>Step-by-Step Guide for Mac Users</h3>

                <h4>Step 1: Open Terminal</h4>
                <ol>
                    <li>Press <kbd>Cmd + Space</kbd> to open Spotlight (the search bar)</li>
                    <li>Type "Terminal" and press <kbd>Enter</kbd></li>
                    <li>You'll see a window with textthis is your terminal </li>
                </ol>

                <div class="info-box">
                    <h4> What You're Seeing</h4>
                    <p>This is your <strong>command line interface</strong>. Each line starts with a prompt (usually <code>$</code> or <code>%</code>). You type commands after this prompt and press Enter to run them.</p>
                    <p><strong>Pro tip</strong>: You can copy commands from this guide and paste them into Terminal with <kbd>Cmd + V</kbd>.</p>
                </div>

                <h4>Step 2: Check if Node.js is Installed</h4>
                <p>Copy this command and paste it into Terminal, then press <kbd>Enter</kbd>:</p>
                <pre><code>node --version</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>What happens next:</strong></p>
                <ul>
                    <li><strong>If you see a version number</strong> (like <code>v18.2.0</code> or <code>v20.1.0</code>):  Great! Skip to Step 4.</li>
                    <li><strong>If you see "command not found"</strong>:  Continue to Step 3 to install Node.js.</li>
                </ul>

                <h4>Step 3: Install Node.js (if needed)</h4>
                <ol>
                    <li>Go to <a href="https://nodejs.org" target="_blank">nodejs.org</a> in your web browser</li>
                    <li>Download the <strong>"LTS"</strong> version (recommended for most users)</li>
                    <li>Open the downloaded file and follow the installation wizard (just click "Next" through the steps)</li>
                    <li><strong>Close and reopen Terminal</strong> (important!)</li>
                    <li>Run <code>node --version</code> again to verify installation </li>
                </ol>

                <div class="info-box">
                    <h4> What is Node.js?</h4>
                    <p>Think of it like Excel for programmerssoftware that runs JavaScript programs. Claude Code is built with JavaScript, so you need Node.js installed first. It's free, safe, and widely used.</p>
                </div>

                <h4>Step 4: Install Claude Code</h4>
                <p>Copy this command and paste it into Terminal:</p>
                <pre><code>npm install -g @anthropic-ai/claude-code</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>What's happening:</strong> <code>npm</code> is Node's app store. This command downloads and installs Claude Code globally (<code>-g</code> means "available everywhere on your computer").</p>

                <div class="callout callout-info">
                    <div class="callout-title"> Be Patient</div>
                    <p>This takes 1-2 minutes. You'll see text scrollingthat's normal! Wait for the command prompt (<code>$</code> or <code>%</code>) to appear again before continuing.</p>
                </div>

                <h4>Step 5: Verify Installation</h4>
                <pre><code>claude --version</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>If you see a version number</strong>:  Success! Claude Code is installed.</p>
                <p><strong>If you see an error</strong>: See the Troubleshooting section below.</p>

                <h4>Step 6: Create Your First Project Folder</h4>
                <p>Let's create a practice folder to try Claude Code:</p>
                <pre><code>mkdir claude-practice
cd claude-practice</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>What these commands do:</strong></p>
                <ul>
                    <li><code>mkdir</code> = "make directory" (create a folder called "claude-practice")</li>
                    <li><code>cd</code> = "change directory" (go into that folder)</li>
                </ul>

                <h4>Step 7: Launch Claude Code</h4>
                <pre><code>claude</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>What happens next:</strong></p>
                <ol>
                    <li>Your web browser opens for authentication</li>
                    <li>Log in with your Claude account (or create one if you don't have it)</li>
                    <li>Return to TerminalClaude is ready! </li>
                    <li>You'll see a prompt like: <code>claude&gt;</code></li>
                </ol>

                <div class="callout callout-success">
                    <div class="callout-title"> Congratulations!</div>
                    <p>You've successfully installed Claude Code. Try your first command:</p>
                    <p><code>claude&gt; Help me understand how to use Claude Code</code></p>
                    <p>Claude will respond with a helpful explanation. You're now a technical PM! </p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Step-by-Step Guide for Windows Users</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Windows Requirement: Install WSL First</div>
                    <p>Claude Code runs best on Windows with <strong>WSL</strong> (Windows Subsystem for Linux)think of it as running a mini-Linux computer inside Windows. This is because most development tools are built for Linux/Mac environments.</p>
                </div>

                <h4>Step 1: Install WSL (One-Time Setup)</h4>
                <ol>
                    <li>Right-click the <strong>Start button</strong> and select <strong>"Windows Terminal (Admin)"</strong> or <strong>"PowerShell (Admin)"</strong></li>
                    <li>If prompted, click "Yes" to allow changes</li>
                    <li>Copy and paste this command:</li>
                </ol>
                <pre><code>wsl --install</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <ol start="4">
                    <li><strong>Restart your computer</strong> when prompted (important!)</li>
                    <li>After restart, Ubuntu terminal opens automatically</li>
                    <li>Create a username and password (you'll need to remember this!)</li>
                </ol>

                <div class="info-box">
                    <h4> What Just Happened?</h4>
                    <p>You installed a Linux environment inside Windows. From now on, you'll use the <strong>Ubuntu terminal</strong> (not PowerShell) for Claude Code. Find it by searching "Ubuntu" in the Start menu.</p>
                </div>

                <h4>Step 2: Follow Mac Instructions in Ubuntu Terminal</h4>
                <p>Now that you have Ubuntu installed, <strong>follow the Mac instructions above</strong> (Steps 2-7) using the Ubuntu terminal instead of Mac Terminal. Everything works the same way!</p>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Troubleshooting for Non-Engineers</h3>

                <h4> "Permission denied" error</h4>
                <p><strong>Don't use <code>sudo</code>!</strong> This is a common mistake. Instead, fix npm permissions:</p>
                <pre><code>mkdir -p ~/.npm-global
npm config set prefix '~/.npm-global'
export PATH=~/.npm-global/bin:$PATH</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>
                <p>Then try installing Claude Code again.</p>

                <h4> "Command not found: claude"</h4>
                <p>Your terminal doesn't know where Claude is. Add it to your PATH:</p>
                <pre><code>echo 'export PATH="$PATH:~/.npm-global/bin"' >> ~/.zshrc
source ~/.zshrc</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <h4> Node.js version is too old</h4>
                <p>Claude Code requires Node.js 18 or higher. Download the latest version from <a href="https://nodejs.org" target="_blank">nodejs.org</a> and reinstall.</p>

                <h4> Still stuck?</h4>
                <ol>
                    <li>Run <code>claude doctor</code> to diagnose issues</li>
                    <li>Search your error message on Google (this works surprisingly well!)</li>
                    <li>Ask in <a href="https://discord.gg/anthropic" target="_blank">Anthropic's Discord</a>  the community is friendly to beginners</li>
                    <li>Ask Claude itself! Paste your error and say "I'm trying to install Claude Code and got this error. What should I do?"</li>
                </ol>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3> Visual Confirmation Checklist</h3>
                <p>After installation, verify everything works. All these should succeed:</p>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Command</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Expected Result</th>
                            <th style="padding: 0.75rem; text-align: center; border: 1px solid var(--claude-border);">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><code>node --version</code></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Shows v18.x.x or higher</td>
                            <td style="padding: 0.75rem; text-align: center; border: 1px solid var(--claude-border);">[ ]</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><code>claude --version</code></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Shows version number</td>
                            <td style="padding: 0.75rem; text-align: center; border: 1px solid var(--claude-border);">[ ]</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><code>claude doctor</code></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">All health checks pass</td>
                            <td style="padding: 0.75rem; text-align: center; border: 1px solid var(--claude-border);">[ ]</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><code>claude</code></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Opens authentication flow</td>
                            <td style="padding: 0.75rem; text-align: center; border: 1px solid var(--claude-border);">[ ]</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">After auth</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><code>claude&gt;</code> prompt appears</td>
                            <td style="padding: 0.75rem; text-align: center; border: 1px solid var(--claude-border);">[ ]</td>
                        </tr>
                    </tbody>
                </table>

                <p><strong>If all checkmarks pass</strong>:  You're ready for your first session!</p>

                <div class="callout callout-tip">
                    <div class="callout-title"> Confidence Builder</div>
                    <p><strong>You just did something technical!</strong> Many PMs never get this far. Take a moment to appreciate that you:</p>
                    <ul>
                        <li> Used the terminal (command line)</li>
                        <li> Installed software via command line</li>
                        <li> Navigated file systems with terminal commands</li>
                        <li> Troubleshot issues (if you had any)</li>
                    </ul>
                    <p>These are <strong>foundational technical skills</strong> that will serve you throughout your PM career. Well done! </p>
                </div>
            </section>

            <section id="first-session">
                <h2>Your First Session</h2>

                <p><strong>The <code>/init</code> command</strong> is your starting point. After authenticating, run <code>/init</code> to have Claude analyze your codebase and create a <strong>CLAUDE.md</strong> filethe most important file for productive Claude Code usage.</p>

                <div class="callout callout-info">
                    <div class="callout-title"> What goes in CLAUDE.md</div>
                    <p>This file is automatically read at session start and treated as immutable system rules with higher priority than user prompts. It should include:</p>
                    <ul>
                        <li>Project overview and architecture</li>
                        <li>Development guidelines and coding standards</li>
                        <li>Important commands and project-specific rules</li>
                        <li>File structure preferences</li>
                    </ul>
                </div>

                <h3>Basic interaction patterns</h3>
                <ul>
                    <li><strong>Interactive mode</strong>: Start with <code>claude</code> in your project directory</li>
                    <li><strong>One-shot mode</strong>: Execute tasks and exit: <code>claude "fix the build error"</code></li>
                    <li><strong>Continue mode</strong>: Resume work with <code>claude -c</code> (most recent) or <code>claude -r</code> (pick specific conversation)</li>
                </ul>

                <h3>The Research  Plan  Implement pattern</h3>
                <p>Anthropic's recommended workflow for complex tasks:</p>
                <ol>
                    <li><strong>Research</strong>: "What does this codebase do? Help me understand the authentication system."</li>
                    <li><strong>Planning</strong>: "Create a plan for adding OAuth2 support. Don't write code yet." Or use Plan Mode (Shift+Tab twice)</li>
                    <li><strong>Implementation</strong>: "Implement the plan you created. Verify each step works as you go."</li>
                    <li><strong>Commit and PR</strong>: "Commit the changes and create a pull request with documentation."</li>
                </ol>
            </section>

            <section id="modes">
                <h2>Three Interaction Modes</h2>

                <h3>Default Mode </h3>
                <p>Provides maximum safety and control. Claude suggests changes and waits for permission before executing.</p>
                <p><strong>Best for:</strong></p>
                <ul>
                    <li>Careful work on critical systems</li>
                    <li>Learning unfamiliar codebases</li>
                    <li>When you want full visibility into every action</li>
                </ul>

                <h3>Auto Mode </h3>
                <p>Enables autonomous work on code without waiting for permission for file operations. Press <strong>Shift+Tab once</strong> to toggle.</p>
                <p><strong>Best for:</strong></p>
                <ul>
                    <li>Rapid prototyping from clean git state</li>
                    <li>Exploring alternative implementations with checkpoint safety net</li>
                    <li>Implementing well-specified features with clear requirements</li>
                </ul>

                <h3>Plan Mode </h3>
                <p>Separates research from execution. Claude uses extended thinking to create comprehensive strategies with no code execution until plan approval. Press <strong>Shift+Tab twice</strong> to activate.</p>
                <p><strong>Best for:</strong></p>
                <ul>
                    <li>New features requiring architectural decisions</li>
                    <li>Complex challenges needing careful consideration</li>
                    <li>Major refactors affecting multiple systems</li>
                    <li>Exploring unfamiliar codebases where mistakes are costly</li>
                </ul>

                <div class="callout callout-tip">
                    <div class="callout-title"> Tactical Mode Switching</div>
                    <p><strong>Start</strong> in Plan Mode  <strong>Switch</strong> to Default for oversight  <strong>Switch</strong> to Auto for final implementation. Use checkpoints (Esc twice) before risky changes.</p>
                </div>
            </section>

            <section id="prompting">
                <h2>Effective Prompting</h2>

                <h3>Specificity dramatically improves results</h3>
                <p>Vague prompts lead to vague results. See the difference specificity makes:</p>

                <div class="code-comparison">
                    <div class="code-before">
                        <div class="comparison-label"> VAGUE PROMPT</div>
                        <pre><code>claude> Create an API endpoint</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>
                    </div>
                    <div class="code-after">
                        <div class="comparison-label"> SPECIFIC PROMPT</div>
                        <pre><code>claude> Create a REST API endpoint at POST /api/users/authenticate
that accepts email and password, validates against the database,
returns a JWT token on success, and returns 401 with error
message on failure. Follow the pattern in @UserController.js</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>
                    </div>
                    <div class="comparison-note">
                        <strong>Why it works:</strong> The specific prompt includes the exact path, HTTP method, expected inputs/outputs, error handling requirements, and references an existing pattern to follow.
                    </div>
                </div>

                <h3>File references using @-mention syntax</h3>
                <p>Reference specific files to give Claude precise context:</p>

                <div class="io-flow">
                    <div class="io-input">
                        <div class="io-label"> YOUR PROMPT</div>
                        <div class="io-content">claude> @src/auth.ts Add rate limiting to prevent brute force attacks. Limit to 5 attempts per minute per IP address.</div>
                    </div>
                    <div class="io-arrow"></div>
                    <div class="io-output">
                        <div class="io-label"> CLAUDE UNDERSTANDS</div>
                        <div class="io-content"> Reads entire src/auth.ts file
 Understands current implementation
 Adds rate limiting logic
 Maintains existing patterns
 Tests against file structure</div>
                    </div>
                </div>

                <p><strong>@-mention options:</strong></p>
                <ul>
                    <li><code>@filename.js</code> includes the entire file</li>
                    <li><code>@directory/</code> includes a directory</li>
                    <li><code>@github:owner/repo/issues</code> fetches from MCP servers</li>
                </ul>

                <h3>Extended thinking activation</h3>
                <p>Triggers deeper reasoning for complex problems:</p>
                <ul>
                    <li><strong>"think"</strong>  4,000 thinking tokens</li>
                    <li><strong>"think harder"</strong> or <strong>"megathink"</strong>  10,000 tokens</li>
                    <li><strong>"ultrathink"</strong>  maximum 31,999 tokens</li>
                </ul>

                <div class="callout callout-info">
                    <div class="callout-title"> When to use extended thinking</div>
                    <ul>
                        <li>Complex architectural decisions</li>
                        <li>Challenging bugs requiring deep analysis</li>
                        <li>Multi-step implementations with many dependencies</li>
                        <li>Planning complex refactors</li>
                    </ul>
                </div>
            </section>

            <section id="tdd">
                <h2>Test-Driven Development</h2>

                <p><strong>TDD works exceptionally well with Claude Code</strong> because it loves having clear, verifiable targets.</p>

                <div class="code-comparison">
                    <div class="code-before">
                        <div class="comparison-label"> WITHOUT TDD</div>
                        <pre><code>claude> Create a user authentication function

Result:
 Claude writes implementation immediately
 No tests to verify correctness
 Edge cases likely missed
 Hard to refactor later
 Uncertain if it works correctly</code></pre>
                    </div>
                    <div class="code-after">
                        <div class="comparison-label"> WITH TDD</div>
                        <pre><code>claude> We're doing TDD. Write tests for user
authentication. Do NOT write implementation yet.

Result:
 Tests define exact behavior first
 Edge cases captured in test cases
 Implementation targets clear goal
 Easy to refactor with test safety net
 Immediate verification of correctness</code></pre>
                    </div>
                    <div class="comparison-note">
                        <strong>Key insight:</strong> TDD reduces Claude's hallucination rate by giving it concrete, verifiable targets instead of ambiguous requirements.
                    </div>
                </div>

                <h3>The Anthropic-recommended TDD workflow:</h3>
                <ol>
                    <li><strong>Write tests first</strong>: "We are doing TDD. Write tests for the user authentication function. Do NOT write any implementation code yet."</li>
                    <li><strong>Confirm tests fail</strong>: "Run the tests and confirm they fail as expected."</li>
                    <li><strong>Commit tests</strong>: "Commit the failing tests with message: 'Add tests for user authentication'."</li>
                    <li><strong>Implement to pass</strong>: "Now write the implementation to make all tests pass."</li>
                    <li><strong>Verify</strong>: Optional - "Use a subagent to verify the implementation isn't just overfitting to the tests."</li>
                    <li><strong>Commit implementation</strong>: "Commit the passing code with message: 'Implement user authentication'."</li>
                </ol>

                <div class="callout callout-success">
                    <div class="callout-title"> Why TDD + Claude Code is powerful</div>
                    <ul>
                        <li>Provides clear verifiable targets reducing hallucination</li>
                        <li>Creates tight feedback loops with immediate validation</li>
                        <li>Ensures code is always tested</li>
                        <li>Helps Claude iterate toward correct solutions</li>
                        <li>Reduces scope drift by focusing on specific test cases</li>
                    </ul>
                </div>
            </section>

            <section id="code-generation">
                <h2>Code Generation and Editing</h2>

                <h3>Simple tasks</h3>
                <p>Require minimal direction. Prompt "Create a REST API endpoint for user authentication" and Claude will:</p>
                <ul>
                    <li>Analyze existing codebase structure</li>
                    <li>Generate appropriate code matching your patterns</li>
                    <li>Ask permission to create or modify files</li>
                    <li>Implement and verify functionality</li>
                </ul>

                <h3>Complex features</h3>
                <p>"Build a personal finance tracker with React and Node.js backend" triggers Claude to:</p>
                <ul>
                    <li>Create comprehensive plan with architecture</li>
                    <li>Generate project structure following best practices</li>
                    <li>Implement components incrementally</li>
                    <li>Create tests and documentation automatically</li>
                    <li>Handle dependencies and configurations</li>
                </ul>

                <h3>Multi-file editing</h3>
                <p>Demonstrates Claude's sophisticated awareness:</p>
                <ul>
                    <li>Maintains context across multiple files</li>
                    <li>Automatically updates imports and dependencies</li>
                    <li>Handles 18,000+ line files effectively</li>
                    <li>Uses diff-based editing showing only changed parts</li>
                    <li>Preserves code style and formatting</li>
                </ul>
            </section>

            <section id="debugging-workflow">
                <h2>Debugging Strategies</h2>

                <p><strong>Effective debugging requires comprehensive information.</strong> Share:</p>
                <ul>
                    <li>Complete stack traces, not summaries</li>
                    <li>Before and after behavior descriptions</li>
                    <li>Relevant code context (20-50 lines around the error)</li>
                </ul>

                <div class="callout callout-info">
                    <div class="callout-title"> Example debug request</div>
                    <p>"The login is failing with this error: [paste full stack trace]</p>
                    <p><strong>Expected:</strong> User redirected to dashboard after login<br>
                    <strong>Actual:</strong> Getting 401 error, staying on login page</p>
                    <p>Current auth middleware: [paste relevant code]"</p>
                </div>

                <h3>Claude's debugging process:</h3>
                <ol>
                    <li>Analyze the error and code to understand root cause</li>
                    <li>Identify the specific problem through systematic investigation</li>
                    <li>Propose fix with explanation</li>
                    <li>Implement and test the solution</li>
                </ol>

                <div class="callout callout-tip">
                    <div class="callout-title"> Best Practice</div>
                    <p>About 1/3 success rate on first try is normalembrace debugging as conversation. Provide feedback to help Claude improve its understanding.</p>
                </div>
            </section>

            <section id="autonomous">
                <h2>Autonomous Features</h2>

                <h3>Checkpoints</h3>
                <p>The most requested feature, finally delivered in Claude Code 2.0. Automatically save code state before each change, enabling instant rollback.</p>
                <p><strong>How to use:</strong> Tap <strong>Escape twice</strong> or use <code>/rewind</code> command.</p>

                <div class="callout callout-warning">
                    <div class="callout-title"> Critical Checkpoint Limitations</div>
                    <ul>
                        <li>Do NOT track bash command changes</li>
                        <li>Do NOT track external or concurrent session edits</li>
                        <li>Are NOT a replacement for version control</li>
                    </ul>
                    <p><strong>Always use Git for permanent version control.</strong></p>
                </div>

                <h3>Subagents</h3>
                <p>Enable specialized AI assistants with independent instructions, separate context windows, and own tool permissions.</p>
                <p><strong>Architecture:</strong></p>
                <p>You  Main Claude (coordinator)  Code Reviewer, Test Engineer, Documentation Writer, API Designer</p>

                <p><strong>Benefits:</strong></p>
                <ul>
                    <li>Context isolation preventing window pollution</li>
                    <li>Specialized expertise for specific tasks</li>
                    <li>Parallel development workflows</li>
                    <li>Independent verification and validation</li>
                </ul>

                <h3>Hooks</h3>
                <p>Provide deterministic control over Claude's behavior through user-defined shell commands executing automatically at lifecycle events.</p>

                <p><strong>Common use cases:</strong></p>
                <ul>
                    <li>Automate formatting (run Prettier, Black, gofmt after file edits)</li>
                    <li>Enforce code quality (run linters, type checkers automatically)</li>
                    <li>Provide notifications (desktop alerts when Claude needs input)</li>
                    <li>Handle git operations (auto-commit checkpoints)</li>
                    <li>Implement custom permissions (block modifications to sensitive files)</li>
                </ul>

                <h3>Background Tasks</h3>
                <p>Keep long-running processes active without blocking Claude.</p>
                <p><strong>Usage:</strong> "Run npm run dev in background" or press <strong>Ctrl+B</strong></p>
                <p><strong>Manage:</strong> <code>/bashes</code> interactive menu showing all background shells</p>
            </section>

            <section id="integrations">
                <h2>Integrations and Extensions</h2>

                <h3>VS Code Extension (Beta)</h3>
                <p>Brings Claude Code directly into IDE sidebar with:</p>
                <ul>
                    <li>Real-time code changes in dedicated panel</li>
                    <li>Inline diffs showing modifications</li>
                    <li>Visual diff previews</li>
                    <li>Seamless file review within editor interface</li>
                </ul>
                <p><strong>Keyboard shortcut:</strong> <code>Cmd+Esc</code> (Mac) or <code>Ctrl+Esc</code> (Windows/Linux)</p>

                <h3>JetBrains Integration (GA)</h3>
                <p>Includes Claude Agent powered by Agent SDK with:</p>
                <ul>
                    <li>AI chat interface integration with plan mode support</li>
                    <li>Brave mode for auto-execution</li>
                    <li>Multi-file editing with diff previews</li>
                </ul>

                <h3>GitHub Integration</h3>
                <p>Works across all Claude plans with:</p>
                <ul>
                    <li>Repository connection</li>
                    <li>@claude mentions on PRs for automated work</li>
                    <li>Responding to reviewer feedback</li>
                    <li>Fixing CI errors</li>
                </ul>
                <p><strong>Setup:</strong> <code>/install-github-app</code> command</p>

                <h3>Model Context Protocol (MCP)</h3>
                <p>Universal connector for any system in development workflow through open-source standard for AI connections.</p>

                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Popular MCP Servers</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <ul>
                                <li>GitHub (issues, PRs, repos)</li>
                                <li>Google Drive (design docs)</li>
                                <li>Slack (team communications)</li>
                                <li>Jira (tickets)</li>
                                <li>SQLite (database queries)</li>
                                <li>Puppeteer (browser automation)</li>
                                <li>Sentry (error tracking)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h3>Plugin System (Public Beta)</h3>
                <p>Extends Claude Code with custom functionality through four component types:</p>
                <ul>
                    <li><strong>Commands</strong>: Custom slash commands from .md files</li>
                    <li><strong>Agents</strong>: Specialized sub-agents</li>
                    <li><strong>Hooks</strong>: Event handlers via hooks.json</li>
                    <li><strong>MCP Servers</strong>: External service connections</li>
                </ul>
                <p><strong>Install:</strong> <code>/plugin install</code> command</p>
            </section>

            <section id="context">
                <h2>Context and Performance</h2>

                <h3>Context window management</h3>
                <p>Standard plans provide <strong>200K tokens</strong> (approximately 500+ pages). Enterprise gets <strong>500K tokens</strong>.</p>

                <div class="callout callout-warning">
                    <div class="callout-title"> Performance Degradation</div>
                    <p>Avoid using the final 20% of context window for complex tasks. Use <code>/clear</code> frequently between unrelated tasks.</p>
                </div>

                <h3>CLAUDE.md file optimization</h3>
                <p>Serves as persistent project memory automatically read on session start. Should include:</p>
                <ul>
                    <li>Project architecture and coding conventions</li>
                    <li>Framework/library usage patterns</li>
                    <li>Repository etiquette (branching, merge strategies)</li>
                    <li>Developer environment setup</li>
                    <li>Testing strategies</li>
                </ul>
                <p><strong>Keep concise</strong>you're charged tokens for every prompt!</p>

                <h3>Context optimization techniques</h3>
                <ul>
                    <li><strong>Strategic context loading</strong>: Specify which directories/file types to focus on</li>
                    <li><strong>Multi-directory support</strong>: Use <code>--add-dir</code> flag or <code>/add-dir</code> command</li>
                    <li><strong>Context editing</strong>: New API feature clearing stale tool calls when approaching limits</li>
                    <li><strong>Memory tool</strong>: Stores key findings across sessions</li>
                    <li><strong>Compact command</strong>: Use <code>/compact</code> to reduce size, <code>/clear</code> for fresh starts</li>
                </ul>
            </section>

            <section id="permissions">
                <h2>Security and Permissions</h2>

                <h3>Three permission modes</h3>
                <p>Toggle with <strong>Shift+Tab</strong>:</p>
                <ul>
                    <li><strong>Normal mode ()</strong>: Prompts for every potentially dangerous operation</li>
                    <li><strong>Auto-accept mode ()</strong>: Eliminates prompts for configured allowed tools</li>
                    <li><strong>Plan mode ()</strong>: Read-only operations, no modifications allowed</li>
                </ul>

                <h3>Permission patterns</h3>
                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Permission Configuration Examples</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <p><strong>Allowlist (auto-approved):</strong></p>
                            <pre><code>"Read(src/*, docs/*)"
"Bash(npm run test:*)"
"Edit(src/components/*)"</code></pre>

                            <p><strong>Asklist (requires confirmation):</strong></p>
                            <pre><code>"Bash(git push:*)"
"Bash(docker run:*)"</code></pre>

                            <p><strong>Denylist (blocked):</strong></p>
                            <pre><code>"WebFetch"
"Bash(curl:*)"
"Read(**/.env*)"
"Read(**/secrets/**)"</code></pre>
                        </div>
                    </div>
                </div>

                <div class="callout callout-warning">
                    <div class="callout-title"> Security Best Practices</div>
                    <ul>
                        <li><strong>Principle of least privilege</strong>: Start restrictive, add permissions as needed</li>
                        <li><strong>Sensitive file protection</strong>: Deny access to .env, secrets/**, credentials</li>
                        <li><strong>Command blocklist</strong>: Block risky commands like curl, wget by default</li>
                        <li><strong>Regular audits</strong>: Review configurations and update deny patterns</li>
                    </ul>
                </div>
            </section>

            <section id="constraints">
                <h2>Understanding Constraints</h2>

                <h3>Rate Limits Breakdown</h3>
                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Plan Comparisons</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <p><strong>Pro Plan ($20/month):</strong></p>
                            <ul>
                                <li>45 messages every 5 hours on web interface</li>
                                <li>10-40 prompts in Claude Code</li>
                                <li>40-80 hours Sonnet 4 weekly</li>
                                <li>Sonnet 4 only (NO Opus access in terminal)</li>
                            </ul>

                            <p><strong>Max 5x Plan ($100/month):</strong></p>
                            <ul>
                                <li>225 web messages</li>
                                <li>50-200 Claude Code prompts</li>
                                <li>140-280 hours Sonnet 4 weekly</li>
                                <li>15-35 hours Opus 4 weekly</li>
                                <li>Auto-switching from Opus to Sonnet at 20% usage</li>
                            </ul>

                            <p><strong>Max 20x Plan ($200/month):</strong></p>
                            <ul>
                                <li>900 web messages</li>
                                <li>200-800 Claude Code prompts</li>
                                <li>240-480 hours Sonnet 4 weekly</li>
                                <li>24-40 hours Opus 4 weekly</li>
                                <li>Auto-switching at 50% threshold</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h3>File Limitations</h3>
                <ul>
                    <li>30MB per file maximum for chat uploads</li>
                    <li>20 files per chat session maximum</li>
                    <li>30MB per file in project knowledge bases</li>
                    <li>500MB maximum per file via Files API</li>
                    <li>Visual PDF analysis only under 100 pages</li>
                </ul>

                <h3>Platform-Specific Constraints</h3>
                <p><strong>Windows WSL issues:</strong></p>
                <ul>
                    <li>Network mode issues (NAT vs. mirrored) for IDE integration</li>
                    <li>Node.js detection issues between Windows and Linux paths</li>
                    <li>Install Node via Linux package manager (not Windows)</li>
                    <li>Work from Linux filesystem (/home/) not Windows (/mnt/c/)</li>
                </ul>
            </section>

            <section id="features">
                <h2>Latest Features and Roadmap</h2>

                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Release Timeline</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <p><strong>February 24, 2025:</strong></p>
                            <ul>
                                <li>Claude 3.7 Sonnet launch</li>
                                <li>Claude Code Research Preview</li>
                                <li>First hybrid reasoning model</li>
                                <li>63.7% on SWE-bench Verified</li>
                                <li>GitHub integration</li>
                            </ul>

                            <p><strong>May 22, 2025:</strong></p>
                            <ul>
                                <li>Claude Code general availability</li>
                                <li>Claude 4 release (Opus 4, Sonnet 4)</li>
                                <li>VS Code beta extension</li>
                                <li>JetBrains integration beta</li>
                                <li>Claude Agent SDK</li>
                            </ul>

                            <p><strong>June-July 2025:</strong></p>
                            <ul>
                                <li>Plan Mode (Shift+Tab twice)</li>
                                <li>Hooks system</li>
                                <li>Custom Subagents</li>
                                <li>Background Commands</li>
                                <li>MCP OAuth support</li>
                                <li>Memory Files</li>
                                <li>Web Search tool</li>
                            </ul>

                            <p><strong>September 29, 2025 - Claude Code 2.0:</strong></p>
                            <ul>
                                <li>Claude Sonnet 4.5 (77.2% on SWE-bench Verified)</li>
                                <li>Checkpoints (most requested feature)</li>
                                <li>Native VS Code extension (beta)</li>
                                <li>Enhanced Terminal 2.0 interface</li>
                                <li>Subagents for parallel tasks</li>
                            </ul>

                            <p><strong>October 9, 2025:</strong></p>
                            <ul>
                                <li>Plugin system (public beta)</li>
                                <li>Community-driven marketplaces</li>
                                <li>Enhanced plugin management</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="callout callout-info">
                    <div class="callout-title"> Roadmap Indicators</div>
                    <ul>
                        <li>Substantially larger model improvements coming</li>
                        <li>Continued plugin ecosystem expansion</li>
                        <li>Enhanced tool call reliability</li>
                        <li>Further IDE integrations</li>
                        <li>Enterprise feature enhancements</li>
                    </ul>
                </div>
            </section>

            <section id="best-practices">
                <h2>Best Practices</h2>

                <h3>Research  Plan  Implement</h3>
                <p>The Anthropic-favorite pattern for complex tasks:</p>
                <ol>
                    <li><strong>Research/Explore</strong> without coding: "Read design-mockup.png, api-spec.yaml, and existing user management files. Do NOT write any code yet."</li>
                    <li><strong>Plan</strong> by creating detailed step-by-step implementation broken into small verifiable pieces</li>
                    <li><strong>Review plan</strong> optionally by creating GitHub issue</li>
                    <li><strong>Implement</strong> following the plan, verifying each step and running tests</li>
                    <li><strong>Finalize</strong> by committing result, creating PR, and updating documentation</li>
                </ol>

                <h3>Strategic context loading</h3>
                <p>Prevent hallucinations with specific instructions in CLAUDE.md:</p>
                <div class="callout callout-tip">
                    <pre><code>"Never speculate about code you have not opened.
If the user references a specific file, you MUST read
the file before answering. Investigate and read relevant
files BEFORE answering questions."</code></pre>
                </div>

                <h3>Multi-agent development</h3>
                <p>Use specialized subagents for complex workflows:</p>
                <ul>
                    <li><strong>Code-Review Subagent</strong>: Acts as skeptical senior engineer checking security, performance, and test coverage</li>
                    <li><strong>Testing Subagent</strong>: Generates comprehensive test cases including edge cases</li>
                    <li><strong>Documentation Subagent</strong>: Creates comprehensive documentation with API reference and usage examples</li>
                </ul>

                <h3>Visual-driven development</h3>
                <p>Paste screenshots/mockups for UI implementation:</p>
                <ol>
                    <li>Paste mockup (cmd+ctrl+shift+4 on Mac  ctrl+v)</li>
                    <li>Give direction: "Implement this design using React and Material UI. Match spacing, colors, and typography exactly."</li>
                    <li>Iterate with screenshots comparing current implementation with mockup</li>
                </ol>
            </section>

            <section id="pitfalls">
                <h2>Common Pitfalls</h2>

                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Top 10 Mistakes to Avoid</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <h4>1. Not Creating CLAUDE.md</h4>
                            <p><strong>Mistake:</strong> Skipping <code>/init</code> and starting immediately with coding tasks.</p>
                            <p><strong>Solution:</strong> Always run <code>/init</code> first. Customize CLAUDE.md with architecture, patterns, and conventions.</p>

                            <h4>2. Vague Prompts</h4>
                            <p><strong>Mistake:</strong> "Fix the bug" or "Add authentication"</p>
                            <p><strong>Solution:</strong> Be specificinclude file paths, error messages, expected behavior, and constraints.</p>

                            <h4>3. Ignoring Context Window</h4>
                            <p><strong>Mistake:</strong> Keeping one long session for unrelated tasks, never using <code>/clear</code>.</p>
                            <p><strong>Solution:</strong> Use <code>/clear</code> between unrelated tasks. Monitor usage with verbose mode.</p>

                            <h4>4. Not Using Plan Mode for Complex Tasks</h4>
                            <p><strong>Mistake:</strong> Letting Claude jump straight to implementation on architectural changes.</p>
                            <p><strong>Solution:</strong> Use Plan Mode (Shift+Tab twice) for complex features. Review plan before implementation.</p>

                            <h4>5. Forgetting Git Safety Net</h4>
                            <p><strong>Mistake:</strong> Working without clean git state or commits.</p>
                            <p><strong>Solution:</strong> Commit before major changes. Checkpoints complement but don't replace git.</p>

                            <h4>6. Not Reading Claude's Responses Carefully</h4>
                            <p><strong>Mistake:</strong> Approving changes without understanding what Claude is doing.</p>
                            <p><strong>Solution:</strong> Review diffs carefully. Ask Claude to explain reasoning. Test changes before committing.</p>

                            <h4>7. Expecting 100% Success Rate</h4>
                            <p><strong>Mistake:</strong> Getting frustrated when first attempt doesn't work.</p>
                            <p><strong>Solution:</strong> Expect ~33% first-try success. Embrace iteration.</p>

                            <h4>8. Hitting Rate Limits Unpredictably</h4>
                            <p><strong>Mistake:</strong> Not tracking usage, hitting limits mid-critical task.</p>
                            <p><strong>Solution:</strong> Monitor with <code>/usage</code> and <code>/cost</code>. Plan work around reset cycles.</p>

                            <h4>9. Not Leveraging @-Mentions</h4>
                            <p><strong>Mistake:</strong> Letting Claude search autonomously for files.</p>
                            <p><strong>Solution:</strong> Use <code>@filename.js</code> to explicitly include files.</p>

                            <h4>10. Skipping Error Context</h4>
                            <p><strong>Mistake:</strong> Pasting just error message without stack trace.</p>
                            <p><strong>Solution:</strong> Include complete stack traces, relevant code context (20-50 lines), before/after behavior.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="troubleshooting">
                <h2>Troubleshooting Guide</h2>

                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Common Issues & Solutions</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <h4>Installation Issues</h4>
                            <p>Permission errors resolve through npm permission fixes:</p>
                            <pre><code>mkdir -p ~/.npm-global
npm config set prefix ~/.npm-global
export PATH=~/.npm-global/bin:$PATH</code></pre>

                            <h4>WSL-Specific Problems</h4>
                            <ul>
                                <li>OS detection errors: Install with <code>--force --no-os-check</code> flags</li>
                                <li>Node not found: Install in WSL using Linux package manager not Windows</li>
                                <li>IDE integration issues: Use mirrored networking in .wslconfig</li>
                            </ul>

                            <h4>Authentication Failures</h4>
                            <p>Clear auth cache:</p>
                            <pre><code>rm -rf ~/.config/claude-code/auth.json
claude</code></pre>

                            <h4>Rate Limit Optimization</h4>
                            <ul>
                                <li>Start sessions before peak coding blocks</li>
                                <li>Use dummy session trick (send minimal prompt 3 hours before real work)</li>
                                <li>Batch operations (one long diff request vs multiple small refinements)</li>
                            </ul>

                            <h4>Context Window Workarounds</h4>
                            <ul>
                                <li>Use Projects with RAG for frequently used documents</li>
                                <li>Strategic chunking: Break large tasks into completable pieces</li>
                                <li>Memory management: Create persistent memory files in .claude/ directory</li>
                                <li>Clear often with <code>/clear</code> between unrelated tasks</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="pm-troubleshooting">
                <h2>PM Troubleshooting & FAQ</h2>

                <p>Product Managers face unique challenges when using Claude Code. Here are the most common problems and their solutions.</p>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 1: "Claude doesn't understand my product context"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>Claude's responses feel generic or don't align with your product's specific needs, user base, or business model.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Create a PM context file in your codebase:</strong></p>
                    <ol>
                        <li>Create <code>PRODUCT_CONTEXT.md</code> in your project root</li>
                        <li>Include: Product vision, target users, key workflows, business model, metrics that matter</li>
                        <li>Reference it in prompts: <code>@PRODUCT_CONTEXT.md</code></li>
                    </ol>
                </div>

                <h4>Example PRODUCT_CONTEXT.md structure:</h4>
                <pre><code># Product Context

## Product Vision
[What we're building and why]

## Target Users
- Primary: [User persona 1]
- Secondary: [User persona 2]

## Core User Workflows
1. [Workflow name]: [Brief description]
2. [Workflow name]: [Brief description]

## Key Business Metrics
- North Star Metric: [Metric name and why it matters]
- Success indicators: [List 3-5 KPIs]

## Technical Constraints
- [Any important limitations or requirements]

## Product Principles
- [Guiding principle 1]
- [Guiding principle 2]</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>Then prompt:</strong> "Based on @PRODUCT_CONTEXT.md and @src/, suggest how we should implement [feature]."</p>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 2: "Responses are too technical for my needs"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>Claude uses jargon you don't understand, explains implementation details when you need high-level summaries.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Always frame your role and desired output format in your prompt:</strong></p>
                </div>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 50%;"> Too Technical</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 50%;"> PM-Friendly</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Explain how authentication works"</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"I'm a PM. Explain authentication in terms of user experience and security, not code implementation"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Analyze this PR"</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"I'm a PM reviewing this PR. Tell me: What changed for users? Does it match requirements? Any product risks?"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"What does this code do?"</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Explain what this code does from a product perspectivewhat user problem does it solve?"</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Magic Phrases to Add to Your Prompts:</h4>
                <ul>
                    <li>"I'm a Product Manager, not an engineer"</li>
                    <li>"Explain in business terms, not technical terms"</li>
                    <li>"Focus on user impact, not implementation details"</li>
                    <li>"Give me a 2-sentence summary first, then details"</li>
                    <li>"Use analogies to explain technical concepts"</li>
                </ul>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 3: "Output is overwhelming / too long"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>Claude writes 10 paragraphs when you needed 3 bullets. Responses are thorough but take too long to read.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Specify exact output format in your prompt:</strong></p>
                </div>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">When You Want...</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border);">Add This to Your Prompt</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Quick summary</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Respond in 3 bullet points maximum"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Scannable info</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Format as a table with columns: [X, Y, Z]"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Just the answer</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Give me a yes/no answer first, then 1-2 sentences of reasoning"</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Prioritized list</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"List top 5 [items], ranked by [importance/impact/effort]"</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Executive summary</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">"Start with 2-sentence TLDR, then expand if I ask"</td>
                        </tr>
                    </tbody>
                </table>

                <p><strong>Pro tip:</strong> If Claude still gives too much detail, follow up with: "Condense that to 3 key takeaways."</p>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 4: "I don't know what to ask"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>Staring at Claude Code's prompt, unsure where to start or what questions to ask about your codebase.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Use these starter question frameworks for different PM tasks:</strong></p>
                </div>

                <h4>Starter Question Templates by Task Type:</h4>

                <div style="background: var(--claude-code-bg); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0;">
                    <p><strong>When learning a new codebase:</strong></p>
                    <ul>
                        <li>"Give me a high-level architecture tour of @src/ from a product perspective"</li>
                        <li>"What are the main user-facing features in this codebase?"</li>
                        <li>"Show me where [key feature] is implemented and explain how it works"</li>
                        <li>"What are the most frequently modified files? (These are probably our core features)"</li>
                    </ul>

                    <p><strong>When writing requirements:</strong></p>
                    <ul>
                        <li>"I want to add [feature]. What existing components can we reuse?"</li>
                        <li>"Based on @src/, what technical constraints should I include in this PRD?"</li>
                        <li>"What similar features do we have that I can use as reference?"</li>
                        <li>"Generate technical acceptance criteria for: [user story]"</li>
                    </ul>

                    <p><strong>When reviewing work:</strong></p>
                    <ul>
                        <li>"Explain what changed in PR #[X] and why it matters for product"</li>
                        <li>"Does this implementation match the requirements in issue #[Y]?"</li>
                        <li>"What user-facing changes are in this PR?"</li>
                        <li>"Are there any product risks or edge cases I should flag?"</li>
                    </ul>

                    <p><strong>When planning sprints:</strong></p>
                    <ul>
                        <li>"Estimate complexity (S/M/L) for these 5 user stories: [paste stories]"</li>
                        <li>"What dependencies exist between these features?"</li>
                        <li>"What's the riskiest part of this epic?"</li>
                        <li>"Which stories should we tackle first and why?"</li>
                    </ul>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> The "Teach Me" Approach</div>
                    <p>When truly stuck, try: <strong>"I'm a PM learning about [topic]. Teach me what I need to know to [accomplish goal]."</strong></p>
                    <p>Example: "I'm a PM learning about our API architecture. Teach me what I need to know to write better API feature requirements."</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 5: "Results don't match our codebase patterns"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>When building prototypes, Claude uses different tech stack or patterns than your actual codebase. Engineers say "that's not how we do it here."</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Point Claude to example files that show your team's patterns:</strong></p>
                </div>

                <h4>Pattern-Aware Prompting:</h4>
                <pre><code>Build [feature], following these patterns from our codebase:

1. Component structure: Use the pattern from @src/components/[ExampleComponent]/
2. API calls: Follow the pattern in @src/services/[ExampleService.js]
3. State management: Use the approach from @src/store/[ExampleSlice.js]
4. Styling: Match the style approach in @src/styles/[Example.css]

Make it look like our existing code, not generic examples.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> First Time Using Claude Code on a Project?</div>
                    <p><strong>Ask Claude to learn your patterns first:</strong></p>
                    <p>"Analyze @src/ and document our team's coding patterns, component structure, naming conventions, and tech stack. Save this for future reference."</p>
                    <p>This helps Claude understand your codebase's "style" before building anything new.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 6: "Can't tell if Claude's suggestion is good"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>Claude suggests an approach, but you lack technical depth to know if it's the right solution or if there's a better way.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Ask Claude to evaluate its own suggestions:</strong></p>
                </div>

                <h4>Self-Evaluation Prompts:</h4>
                <pre><code>You suggested [approach]. Now critique your own suggestion:

1. **Pros & Cons**: What are the advantages and disadvantages?
2. **Alternatives**: What are 2 other ways we could solve this?
3. **Trade-offs**: What are we optimizing for? What are we sacrificing?
4. **Risks**: What could go wrong with this approach?
5. **When this fails**: In what scenarios would this not work well?
6. **Recommendation**: Given our codebase @src/, which approach would you recommend and why?</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>Or ask for comparison:</strong></p>
                <pre><code>Compare these 3 approaches for [problem]:
Approach A: [description]
Approach B: [description]
Approach C: [description]

Create a decision matrix with: Complexity, Time to implement, Maintainability, Scalability, Risks

Which should we choose for a [scrappy prototype / production feature / long-term solution]?</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-tip">
                    <div class="callout-title"> Validation Strategy</div>
                    <p><strong>Don't trust Claude blindly. Use this validation checklist:</strong></p>
                    <ol>
                        <li>Ask Claude to critique its own suggestion (as shown above)</li>
                        <li>Test with a small prototype before committing</li>
                        <li>Share Claude's suggestion with engineering: "Claude suggested X. Thoughts?"</li>
                        <li>Look for similar patterns in your existing codebasedo they match?</li>
                    </ol>
                    <p>Engineers respect PMs who say: "I explored this with Claude, here are the trade-offs I found, what am I missing?"</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 7: "How do I explain Claude Code to my team?"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>Your engineering team is skeptical, wondering if you're "trying to be a developer" or if AI-generated requirements are trustworthy.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Frame it as a collaboration tool, not a replacement:</strong></p>
                </div>

                <h4>What to Say to Your Team:</h4>
                <div style="background: var(--claude-surface); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0;">
                    <p><strong>"I'm using Claude Code to help me ask better questions and write more technical requirements."</strong></p>

                    <p><strong>Frame it as:</strong></p>
                    <ul>
                        <li> "I'm using it to understand our codebase better"</li>
                        <li> "It helps me add technical context to PRDs"</li>
                        <li> "I can review PRs more meaningfully now"</li>
                        <li> "It saves us time in grooming by surfacing edge cases early"</li>
                    </ul>

                    <p><strong>Avoid saying:</strong></p>
                    <ul>
                        <li> "I can code now" (You're not trying to replace them)</li>
                        <li> "AI said we should do it this way" (AI is a tool, not authority)</li>
                        <li> "This will make engineers unnecessary" (Very bad!)</li>
                    </ul>

                    <p><strong>Share results, not process:</strong></p>
                    <p>Instead of: "I used Claude Code to..."<br>
                    Say: "I analyzed the codebase and found we can reuse X, Y, Z components. Does that sound right?"</p>
                </div>

                <h4>Earning Engineering Respect:</h4>
                <ol>
                    <li><strong>Acknowledge limits:</strong> "Claude suggested X, but I don't have the depth to validate. What do you think?"</li>
                    <li><strong>Show your work:</strong> "I identified these edge cases using Claude. What am I missing?"</li>
                    <li><strong>Make their lives easier:</strong> Come to grooming with technical acceptance criteria already drafted</li>
                    <li><strong>Give credit:</strong> "Claude helped me understand [concept], but [Engineer] corrected my understanding of..."</li>
                </ol>

                <div class="callout callout-success">
                    <div class="callout-title"> Success Signal</div>
                    <p><strong>You're using Claude Code right when engineers say:</strong></p>
                    <ul>
                        <li>"Wow, these requirements are way more detailed than usual"</li>
                        <li>"You really did your homework on this one"</li>
                        <li>"That's a smart questionI hadn't thought of that edge case"</li>
                        <li>"This grooming went way smoother than normal"</li>
                    </ul>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Problem 8: "Is this the right tool for my task?"</h3>

                <div class="callout callout-warning">
                    <div class="callout-title"> Symptom</div>
                    <p>Unsure if Claude Code is the right tool or if you should use ChatGPT, Google, or just ask your team.</p>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Solution</div>
                    <p><strong>Use this decision matrix:</strong></p>
                </div>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead style="background: var(--claude-code-bg);">
                        <tr>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 40%;">Task</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--claude-border); width: 60%;">Best Tool</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Understanding YOUR codebase</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Claude Code (has access to your code)</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>General technical concepts</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Web search or ChatGPT (faster, no setup)</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Building prototypes</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Claude Code (can read/write files)</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Production code decisions</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Ask your engineering team (they own it)</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Reviewing PRs</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Claude Code (can read repo context)</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Architecture decisions</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Engineering team (with Claude research)</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Data analysis (CSV, logs)</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Claude Code (can process files)</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Latest framework docs</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Official docs / Web search (more current)</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Complexity estimation</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Claude Code first, validate with team</td>
                        </tr>
                        <tr style="background: var(--claude-bg);">
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Debugging production issues</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"> Engineering team (critical, needs expertise)</td>
                        </tr>
                    </tbody>
                </table>

                <p><strong>Rule of thumb:</strong> If the task involves YOUR specific codebase, use Claude Code. If it's general knowledge, web search might be faster.</p>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3>Quick Diagnostic Checklist</h3>

                <div style="background: var(--claude-code-bg); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0;">
                    <p><strong>When Claude Code isn't working well, check:</strong></p>

                    <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                        <tbody>
                            <tr>
                                <td style="padding: 0.5rem; width: 5%;"></td>
                                <td style="padding: 0.5rem;"><strong>Did I specify my role?</strong> ("I'm a PM" helps set context)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem;"></td>
                                <td style="padding: 0.5rem;"><strong>Did I point to relevant files?</strong> (Use @filename or @folder/)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem;"></td>
                                <td style="padding: 0.5rem;"><strong>Did I specify output format?</strong> ("Give me 3 bullets" vs leaving it open)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem;"></td>
                                <td style="padding: 0.5rem;"><strong>Am I asking a codebase-specific question?</strong> (Claude Code's strength)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem;"></td>
                                <td style="padding: 0.5rem;"><strong>Did I provide enough context?</strong> (Product goals, user needs, constraints)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem;"></td>
                                <td style="padding: 0.5rem;"><strong>Am I in the right directory?</strong> (Run <code>pwd</code> to check)</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.5rem;"></td>
                                <td style="padding: 0.5rem;"><strong>Is this a task for Claude or my team?</strong> (Claude: research. Team: decisions)</td>
                            </tr>
                        </tbody>
                    </table>

                    <p><strong>If you checked all boxes and it still doesn't work:</strong> Try rephrasing your question or ask Claude itself: "I'm trying to [goal] but your responses aren't helping. How should I rephrase my request?"</p>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Remember</div>
                    <p>Claude Code is a tool that amplifies your PM skillsit doesn't replace judgment, product sense, or stakeholder relationships. Use it to <strong>save time on technical research</strong> so you can focus on <strong>strategic product decisions</strong>.</p>
                    <p>The best PMs use Claude Code to become more technical without losing their product perspective.</p>
                </div>
            </section>

            <section id="commands">
                <h2>Command Reference</h2>

                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Essential Slash Commands</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <h4>Essential Commands</h4>
                            <ul>
                                <li><code>/help</code> - Show all available commands</li>
                                <li><code>/clear</code> - Clear conversation history</li>
                                <li><code>/init</code> - Analyze codebase and create CLAUDE.md</li>
                                <li><code>/model</code> - Switch between Claude models</li>
                                <li><code>/cost</code> - Check token usage and estimated costs</li>
                                <li><code>/usage</code> - View session statistics</li>
                                <li><code>/compact</code> - Compact long conversations</li>
                            </ul>

                            <h4>Project Management</h4>
                            <ul>
                                <li><code>/add-dir</code> - Add additional working directories</li>
                                <li><code>/context</code> - View current context window contents</li>
                                <li><code>/permissions</code> - Manage file access and command permissions</li>
                                <li><code>/config</code> - View or modify configuration settings</li>
                                <li><code>/memory</code> - Edit memory files</li>
                                <li><code>/todos</code> - List current todo items</li>
                            </ul>

                            <h4>Git and GitHub</h4>
                            <ul>
                                <li><code>/install-github-app</code> - Enable automated PR reviews</li>
                                <li><code>claude commit</code> - Create intelligent commit messages</li>
                            </ul>

                            <h4>Code Operations</h4>
                            <ul>
                                <li><code>/review</code> - Request comprehensive code review</li>
                                <li><code>/security-review</code> - Check for vulnerabilities</li>
                                <li><code>/rewind</code> - Restore previous checkpoint state</li>
                            </ul>

                            <h4>MCP and Plugins</h4>
                            <ul>
                                <li><code>/mcp</code> - Manage MCP servers</li>
                                <li><code>/plugin</code> - Install and manage plugins</li>
                                <li><code>/agents</code> - Manage custom subagents</li>
                                <li><code>/hooks</code> - Configure automated triggers</li>
                            </ul>

                            <h4>Help and Debugging</h4>
                            <ul>
                                <li><code>/doctor</code> - Check installation health</li>
                                <li><code>/bug</code> - Report issues directly to Anthropic</li>
                                <li><code>/export</code> - Export conversation for sharing</li>
                                <li><code>/status</code> - Show session information</li>
                                <li><code>/exit</code> - Exit Claude Code</li>
                            </ul>

                            <h4>Keyboard Shortcuts</h4>
                            <ul>
                                <li><strong>Ctrl+R</strong> - Searchable prompt history</li>
                                <li><strong>Esc (2x)</strong> - Rewind to checkpoint</li>
                                <li><strong>Ctrl+B</strong> - Run command in background</li>
                                <li><strong>Shift+Tab (2x)</strong> - Toggle Plan Mode</li>
                                <li><strong>Ctrl+O</strong> - Toggle transcript mode</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="production">
                <h2>Production Deployment</h2>

                <h3>API versus Subscription</h3>
                <div class="collapsible">
                    <div class="collapsible-header">
                        <span> Cost Comparison</span>
                        <span class="collapsible-icon"></span>
                    </div>
                    <div class="collapsible-content">
                        <div class="collapsible-content-inner">
                            <p><strong>Claude Pro ($20/month):</strong></p>
                            <ul>
                                <li>Includes Claude Code</li>
                                <li>40-80 weekly hours Sonnet</li>
                                <li>Best for learning and personal projects</li>
                                <li>No Opus access in terminal</li>
                            </ul>

                            <p><strong>Claude Max ($100-200/month):</strong></p>
                            <ul>
                                <li>Higher usage limits</li>
                                <li>Professional development workflows</li>
                                <li>Still subject to hard weekly caps</li>
                            </ul>

                            <p><strong>API Pay-as-you-go:</strong></p>
                            <ul>
                                <li>Predictable per-token pricing</li>
                                <li>Sonnet 4.5: $3/$15 per million tokens input/output</li>
                                <li>Opus 4: $15/$75</li>
                                <li>No weekly caps (only rate limits)</li>
                                <li>Better for production/enterprise use</li>
                            </ul>

                            <p><strong>Enterprise Deployments:</strong></p>
                            <ul>
                                <li>AWS Bedrock or Google Vertex AI</li>
                                <li>Enhanced security</li>
                                <li>Dedicated capacity</li>
                                <li>Organization-wide cost management</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h3>Security Considerations</h3>
                <ul>
                    <li>Use devcontainers for additional isolation</li>
                    <li>Configure Identity and Access Management</li>
                    <li>Store secrets in environment variables or vaults</li>
                    <li>Implement permission allowlists</li>
                    <li>Enable security reviews with <code>/security-review</code></li>
                    <li>Maintain audit logs through hooks</li>
                    <li>Regularly rotate API keys and tokens</li>
                </ul>

                <h3>Cost Optimization</h3>
                <ul>
                    <li>Use Sonnet instead of Opus where possible (5x cheaper)</li>
                    <li>Implement prompt caching for repeated content (up to 90% savings)</li>
                    <li>Use batch processing (50% cost savings on API)</li>
                    <li>Monitor usage proactively with <code>/cost</code> command</li>
                    <li>Clear context frequently to save tokens</li>
                </ul>
            </section>

            <section id="practical-guidance">
                <h2>Practical Guidance</h2>

                <p>This section provides end-to-end, practical walkthroughs for building real applications with Claude Code, leveraging its most advanced features including autonomous editing, multi-file context management, specialized subagents, and modern development practices as of October 2025.</p>

                <div class="callout callout-info">
                    <div class="callout-title"> What You'll Learn</div>
                    <p>These walkthroughs demonstrate production-quality development workflows, not toy examples. Each guide includes:</p>
                    <ul>
                        <li><strong>Copy-paste prompts</strong> for every major step</li>
                        <li><strong>Mode switching strategies</strong> (Plan  Default  Auto)</li>
                        <li><strong>Subagent utilization</strong> for code review, testing, and documentation</li>
                        <li><strong>Modern 2025 practices</strong> (React Server Components, Swift 6, AI agent patterns)</li>
                        <li><strong>Production readiness</strong> considerations throughout</li>
                    </ul>
                </div>

                <hr style="margin: 2.5rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h3 id="practical-web-app">Prototyping a Web Application with Claude Code</h3>

                <p>Build a production-quality web application prototype from scratch using Claude Code's autonomous features, modern React patterns, and specialized subagents.</p>

                <h4>Phase 1: Planning & Setup</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Define scope and initialize project structure</div>
                    <p><strong>Time estimate:</strong> 30 minutes | <strong>Mode:</strong> Plan Mode</p>
                </div>

                <p><strong>Step 1: Define Your Prototype Scope</strong></p>
                <p>Before touching Claude Code, answer these questions:</p>
                <ul>
                    <li><strong>What core user workflow are you validating?</strong> (Focus on 1-2 primary flows)</li>
                    <li><strong>What's your success criteria?</strong> (e.g., "Users can complete onboarding in under 2 minutes")</li>
                    <li><strong>MVP vs Feature-Complete?</strong> (Prototypes should be MVP: authentication, core feature, basic UI)</li>
                    <li><strong>Timeline?</strong> (Realistic: 4-8 hours for a working prototype)</li>
                </ul>

                <p><strong>Step 2: Project Initialization with Claude Code</strong></p>
                <pre><code># Create project directory
mkdir my-app-prototype
cd my-app-prototype

# Start Claude Code in Plan Mode (Shift+Tab twice)
claude

# Paste this prompt:
I'm prototyping a web application for [DESCRIBE YOUR APP IN 1-2 SENTENCES].

Core user workflow: [PRIMARY USER FLOW]
Target completion time: [HOURS]

Please help me:
1. Recommend a modern tech stack (React/Next.js/Vite, state management, styling)
2. Generate an optimal project structure
3. Create a comprehensive CLAUDE.md with:
   - Project overview and architecture
   - Development conventions
   - Component patterns
   - File organization rules
4. Set up initial package.json with dependencies

Consider: I want rapid prototyping speed but production-quality code structure.
Use 2025 best practices (React Server Components if appropriate).</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-tip">
                    <div class="callout-title"> Pro Tip: CLAUDE.md is Essential</div>
                    <p>The CLAUDE.md file Claude generates becomes your project's "memory." Every subsequent session will reference this file automatically, ensuring consistency in:</p>
                    <ul>
                        <li>Naming conventions (camelCase vs kebab-case)</li>
                        <li>File organization (where components go)</li>
                        <li>Import patterns (absolute vs relative paths)</li>
                        <li>Styling approach (CSS Modules, Tailwind, etc.)</li>
                    </ul>
                </div>

                <p><strong>Step 3: Initialize Git and Checkpoints</strong></p>
                <pre><code># Initialize Git for safety
git init
git add .
git commit -m "Initial project setup with Claude Code"

# Create feature branch for development
git checkout -b prototype/core-features</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-warning">
                    <div class="callout-title"> Safety First</div>
                    <p><strong>Always work from a clean Git state before using Auto Mode.</strong> Checkpoints (Esc twice) only track Claude's changesthey don't replace Git. If something goes wrong, you can <code>git reset --hard</code> to your last commit.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 2: Architecture & Design with Plan Mode</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Create technical blueprint before coding</div>
                    <p><strong>Time estimate:</strong> 20 minutes | <strong>Mode:</strong> Plan Mode (Shift+Tab twice)</p>
                </div>

                <p><strong>Architecture Planning Prompt:</strong></p>
                <pre><code>Based on @CLAUDE.md, help me architect this application:

**Features to implement:**
1. [Feature 1: e.g., User authentication]
2. [Feature 2: e.g., Dashboard with data visualization]
3. [Feature 3: e.g., CRUD operations for main entity]

**Planning needed:**

1. **Component Hierarchy**
   - List all major components (pages, layouts, shared components)
   - Define component responsibilities (what each component does)
   - Identify reusable patterns

2. **Data Flow & State Management**
   - What global state do we need? (user auth, app settings, etc.)
   - What should be local component state?
   - Recommend state management approach (Context API, Zustand, Redux?)

3. **API Structure**
   - List all API endpoints needed (REST or GraphQL?)
   - Define request/response schemas
   - Authentication strategy (JWT, sessions, OAuth?)

4. **Routing Structure**
   - List all routes/pages
   - Protected vs public routes
   - Navigation flow between pages

5. **File Organization**
   - Proposed folder structure with explanation
   - Where each component type lives

Provide this as a structured technical design document I can refer to during implementation.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> Why Plan Mode First?</div>
                    <p><strong>Plan Mode uses extended thinking</strong> to reason through architecture decisions without executing code. Benefits:</p>
                    <ul>
                        <li> Identifies issues before they become code problems</li>
                        <li> Compares multiple approaches (React Context vs Zustand)</li>
                        <li> Creates a reference document for the implementation phase</li>
                        <li> Zero riskno files modified until you approve the plan</li>
                    </ul>
                    <p><strong>When Claude finishes planning</strong>, review the architecture and ask clarifying questions before moving to implementation.</p>
                </div>

                <p><strong>Example Follow-up Questions:</strong></p>
                <ul>
                    <li>"Why did you recommend Zustand over Context API for state management?"</li>
                    <li>"What are the trade-offs of using Next.js App Router vs Pages Router?"</li>
                    <li>"How would we handle authentication tokens securely?"</li>
                    <li>"What's the migration path if we need to scale this prototype?"</li>
                </ul>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 3: Autonomous Development with Auto Mode</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Rapid feature implementation with autonomous editing</div>
                    <p><strong>Time estimate:</strong> 2-4 hours | <strong>Mode:</strong> Auto Mode (Shift+Tab once)</p>
                </div>

                <p><strong>Before Entering Auto Mode:</strong></p>
                <ol>
                    <li> Commit all changes: <code>git add . && git commit -m "Architecture complete"</code></li>
                    <li> Verify clean state: <code>git status</code> should show "nothing to commit"</li>
                    <li> Create checkpoint in Claude: Press <strong>Esc twice</strong> to save current state</li>
                </ol>

                <p><strong>Switch to Auto Mode:</strong> Press <strong>Shift+Tab once</strong> (you'll see  indicator)</p>

                <p><strong>Frontend Scaffolding Prompt:</strong></p>
                <pre><code>Now let's implement the frontend foundation. Work autonomously in Auto Mode.

**Implement these in order:**

1. **Project Dependencies**
   - Install all required packages (React, routing, state management, styling)
   - Configure TypeScript if we're using it
   - Set up development environment (.env.example)

2. **Layout & Navigation**
   - Create main layout component with header, sidebar, main content area
   - Implement responsive navigation (mobile hamburger menu)
   - Add route-based active link highlighting
   - Set up dark mode toggle (use system preference as default)

3. **Routing Structure**
   - Implement all routes from our architecture plan
   - Set up protected route wrapper for authenticated pages
   - Add 404 not found page
   - Implement loading states for async routes

4. **Shared Components**
   - Button component (primary, secondary, danger variants)
   - Input/Form components with validation states
   - Modal/Dialog component
   - Toast notification system
   - Loading spinner/skeleton screens

5. **Styling Setup**
   - [If using Tailwind]: Configure theme, custom colors, breakpoints
   - [If using CSS Modules]: Set up global styles, CSS variables for theming
   - Ensure responsive breakpoints (mobile-first)
   - Implement dark mode CSS variables

**Requirements:**
- Follow patterns defined in @CLAUDE.md
- Use modern React practices (functional components, hooks)
- Ensure accessibility (ARIA labels, keyboard navigation)
- Add TypeScript types where applicable
- Create a src/components/README.md documenting each component

Work through these systematically. After each major section, verify it works before moving on.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> What Happens in Auto Mode</div>
                    <p>Claude will autonomously:</p>
                    <ul>
                        <li> Install packages via npm/yarn commands</li>
                        <li> Create multiple files (components, styles, configs)</li>
                        <li> Modify existing files (update imports, add routes)</li>
                        <li> Run verification commands (<code>npm run dev</code>, linting)</li>
                        <li> Report progress and ask for confirmation at checkpoints</li>
                    </ul>
                    <p><strong>You can interrupt anytime</strong> by typing a message or pressing Esc twice to rewind.</p>
                </div>

                <p><strong>State Management & API Integration Prompt:</strong></p>
                <pre><code>Continuing in Auto Mode. Now implement state management and backend integration:

1. **State Management Setup**
   - Initialize [Zustand/Context API/Redux] based on our architecture
   - Create stores/contexts for:
     * Authentication state (user, token, isLoading)
     * Application settings (theme, preferences)
     * [Feature-specific state]
   - Add persistence layer (localStorage) for auth tokens

2. **API Client Configuration**
   - Create centralized API client (axios/fetch wrapper)
   - Add authentication interceptor (attach JWT to requests)
   - Implement error handling (401 redirects, network errors)
   - Add request/response logging in development mode
   - Define TypeScript types for all API responses

3. **Authentication Flow**
   - Login page with form validation
   - Registration page (if needed)
   - Forgot password flow
   - Protected route implementation
   - Automatic token refresh logic
   - Logout functionality with cleanup

4. **Core Feature Implementation**
   - [Describe your main feature, e.g., "Dashboard with charts"]
   - Implement all CRUD operations
   - Add loading states and error boundaries
   - Implement optimistic updates where appropriate
   - Add form validation with user-friendly error messages

5. **Backend API Routes (if using Next.js/Node)**
   - Implement API endpoints at /api/*
   - Connect to database (PostgreSQL/MongoDB/etc.)
   - Add authentication middleware
   - Implement business logic
   - Add input validation and sanitization

**Quality Requirements:**
- All forms have validation (required fields, format checking)
- Loading states prevent double-submissions
- Error messages are user-friendly, not technical
- Network failures are handled gracefully
- Add console logs for debugging (we'll remove in production)

Test each API endpoint as you build it. Show me curl commands to verify.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-tip">
                    <div class="callout-title"> Checkpoint Strategy</div>
                    <p><strong>Save checkpoints at logical boundaries:</strong></p>
                    <ol>
                        <li>After frontend scaffolding completes  <strong>Esc twice</strong> to checkpoint</li>
                        <li>After state management is set up  <strong>Esc twice</strong></li>
                        <li>After each major feature is working  <strong>Esc twice</strong></li>
                    </ol>
                    <p>If Claude makes a mistake (wrong file modified, incorrect logic), press <strong>Esc twice</strong> to rewind to the last checkpoint, then clarify your instructions.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 4: Multi-File Context Management</h4>

                <p><strong>Working Across Frontend and Backend:</strong></p>

                <p>When features span multiple files (e.g., adding a new API endpoint + frontend form), use strategic @-mentions:</p>

                <pre><code>I need to add a "forgot password" feature. This touches multiple files:

Please implement across:
- Frontend: @src/pages/ForgotPassword.tsx
- API Route: @src/pages/api/auth/forgot-password.ts
- Email template: @src/lib/emails/reset-password.tsx
- Type definitions: @src/types/auth.ts

Requirements:
1. User enters email  API checks if email exists
2. Generate secure reset token (JWT, 1 hour expiration)
3. Send email with reset link
4. Create reset password page at /reset-password?token=xxx
5. Validate token, allow password update
6. Redirect to login on success

Ensure type safety across all filesfrontend should match API response types.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Context Management Best Practices</div>
                    <ul>
                        <li><strong>Be explicit with @-mentions</strong> when you know which files need changes</li>
                        <li><strong>Use @folder/</strong> to give Claude context of all files in a directory</li>
                        <li><strong>Run <code>/compact</code></strong> if context window fills up (after ~45 minutes of conversation)</li>
                        <li><strong>Start new sessions</strong> for unrelated features to keep context clean</li>
                    </ul>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 5: Specialized Subagents for Quality</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Automated code review, testing, and documentation</div>
                    <p><strong>Time estimate:</strong> 30-45 minutes | <strong>Mode:</strong> Default Mode</p>
                </div>

                <p><strong>Code Review Subagent:</strong></p>
                <pre><code>Use a subagent to review all code we've written so far.

Focus areas:
1. **Security**: Authentication vulnerabilities, input validation, XSS/CSRF risks
2. **Performance**: Unnecessary re-renders, large bundle size, unoptimized queries
3. **Accessibility**: Missing ARIA labels, keyboard navigation, color contrast
4. **Code Quality**: Code duplication, complex functions, poor naming
5. **Best Practices**: React anti-patterns, improper hook usage, missing error boundaries

Review these directories:
@src/components/
@src/pages/
@src/lib/
@src/pages/api/

Provide actionable feedback with severity (Critical/High/Medium/Low) and suggested fixes.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>Testing Subagent:</strong></p>
                <pre><code>Use a testing subagent to generate comprehensive tests.

Generate tests for:

1. **Unit Tests** (Jest/Vitest)
   - All utility functions in @src/lib/
   - Custom hooks in @src/hooks/
   - API route handlers (mock database calls)

2. **Component Tests** (React Testing Library)
   - Critical user-facing components (Login, Dashboard, Forms)
   - Test user interactions (button clicks, form submissions)
   - Test loading states and error states

3. **Integration Tests**
   - Full authentication flow (register  login  access protected route)
   - CRUD operations end-to-end
   - API error handling

4. **Test Configuration**
   - Set up test environment (jest.config.js, test-utils)
   - Mock API responses and database
   - Add test scripts to package.json

Aim for 70%+ code coverage on critical paths. Run tests and show me the coverage report.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>Documentation Subagent:</strong></p>
                <pre><code>Use a documentation subagent to create comprehensive docs.

Generate:

1. **README.md**
   - Project overview and features
   - Getting started (installation, environment setup)
   - Available scripts (dev, build, test)
   - Project structure explanation
   - Deployment instructions

2. **Component Documentation**
   - JSDoc comments for all exported components
   - Props documentation with TypeScript types
   - Usage examples for complex components

3. **API Documentation**
   - OpenAPI/Swagger spec for all API routes
   - Request/response schemas
   - Authentication requirements
   - Error codes and meanings

4. **CONTRIBUTING.md**
   - Code style guide
   - Git workflow (branch naming, commit messages)
   - How to add new features
   - How to run tests

Make documentation beginner-friendlyassume reader is new to the codebase.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> How Subagents Work</div>
                    <p>When you mention "use a subagent," Claude spawns a specialized AI instance with:</p>
                    <ul>
                        <li><strong>Focused expertise</strong> (code review, testing, documentation)</li>
                        <li><strong>Separate context window</strong> (doesn't pollute main conversation)</li>
                        <li><strong>Independent tooling access</strong> (can read files, run commands)</li>
                        <li><strong>Structured reporting</strong> (returns findings to you)</li>
                    </ul>
                    <p><strong>This is powerful because</strong> the code review agent can critique your code without bias, while the main Claude helps you fix issues.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 6: Modern Web Practices (October 2025)</h4>

                <p><strong>Performance Optimization Prompt:</strong></p>
                <pre><code>Optimize this application for production performance using 2025 best practices:

1. **React Server Components** (if using Next.js 15+)
   - Identify components that can be Server Components
   - Move data fetching to server side where possible
   - Implement streaming with Suspense boundaries

2. **Code Splitting & Lazy Loading**
   - Dynamically import heavy components (charts, modals)
   - Implement route-based code splitting
   - Add loading fallbacks for lazy components

3. **Image Optimization**
   - Convert all images to next/image (or equivalent)
   - Add responsive image srcsets
   - Implement lazy loading for below-fold images
   - Use modern formats (WebP, AVIF)

4. **Caching Strategies**
   - Implement SWR or React Query for API calls
   - Add stale-while-revalidate for non-critical data
   - Configure CDN caching headers for static assets

5. **Bundle Size Optimization**
   - Run bundle analyzer: npm run build && npm run analyze
   - Identify large dependencies and find alternatives
   - Tree-shake unused code
   - Minimize third-party scripts

Run Lighthouse audit and aim for 90+ scores in all categories.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>Accessibility & UX Prompt:</strong></p>
                <pre><code>Ensure WCAG 2.2 Level AA compliance and excellent UX:

1. **Accessibility Audit**
   - Run axe-core automated tests
   - Fix all Critical and Serious issues
   - Add ARIA labels to all interactive elements
   - Ensure proper heading hierarchy (h1  h2  h3)
   - Test keyboard navigation (Tab, Enter, Esc work everywhere)
   - Test screen reader experience with VoiceOver/NVDA

2. **Mobile-First Responsive Design**
   - Test all breakpoints: mobile (< 640px), tablet (640-1024px), desktop (> 1024px)
   - Ensure touch targets are 44x44px minimum
   - Add swipe gestures for mobile (where appropriate)
   - Test on actual devices, not just browser DevTools

3. **Form UX Improvements**
   - Add input masking (phone numbers, dates)
   - Show password strength indicator
   - Implement autofocus on modals/forms
   - Add "remember me" functionality
   - Show clear validation messages inline

4. **Loading & Error States**
   - Add skeleton screens for slow-loading content
   - Implement optimistic UI updates
   - Show clear error messages with recovery actions
   - Add retry buttons for failed requests

Create an accessibility checklist in ACCESSIBILITY.md that future developers can reference.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 7: Iterating & Refining</h4>

                <p><strong>User Testing Feedback Loop:</strong></p>
                <pre><code>I got user testing feedback. Help me iterate quickly:

Feedback from 5 testers:
1. "Login is confusingI don't know if my email is valid until I submit"
2. "Dashboard loads slowly and I can't tell if it's frozen"
3. "Dark mode switch is hard to find"
4. "I accidentally deleted an item and can't undo it"
5. "Mobile menu doesn't close after clicking a link"

For each issue:
1. Identify the root cause
2. Propose a fix with rationale
3. Implement the fix
4. Add a test to prevent regression

Work through these systematically. After each fix, show me before/after behavior.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>Performance Profiling:</strong></p>
                <pre><code>The dashboard feels slow. Help me identify and fix performance bottlenecks:

1. Add React DevTools Profiler instrumentation
2. Run Chrome DevTools Performance recording
3. Identify components causing unnecessary re-renders
4. Check for:
   - Missing React.memo on expensive components
   - Inline function definitions in render
   - Expensive calculations not wrapped in useMemo
   - Missing dependency arrays in useEffect

For each bottleneck found:
- Explain the issue in simple terms
- Show the problematic code
- Implement the fix
- Measure improvement (before/after render times)

Goal: Dashboard should feel instant on initial load and smooth during interactions.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 8: Production Transition</h4>

                <p><strong>Production Readiness Checklist:</strong></p>

                <div style="background: var(--claude-code-bg); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0;">
<pre style="margin: 0;">
<strong>PRODUCTION READINESS CHECKLIST</strong>

 Security Hardening
   All API endpoints have authentication
   Input validation on all forms
   SQL injection prevention (parameterized queries)
   XSS prevention (sanitized outputs)
   CSRF protection implemented
   Rate limiting on API routes
   Secrets in environment variables, not code
   HTTPS enforced in production

 Performance
   Lighthouse score 90+ (all categories)
   Time to Interactive < 3 seconds
   Largest Contentful Paint < 2.5s
   Cumulative Layout Shift < 0.1
   Images optimized and lazy-loaded
   Code splitting implemented
   CDN configured for static assets

 Testing & Quality
   Unit tests: 70%+ coverage on critical paths
   Integration tests for major flows
   E2E tests for happy path
   Manual QA on Chrome, Firefox, Safari
   Mobile testing on iOS and Android
   Accessibility audit passed (axe-core)

 Monitoring & Operations
   Error tracking configured (Sentry/LogRocket)
   Analytics tracking (GA4/Mixpanel)
   Performance monitoring (Vercel/Datadog)
   Uptime monitoring (Pingdom/UptimeRobot)
   Log aggregation (Logtail/Papertrail)
   Backup strategy for database

 Documentation
   README with setup instructions
   API documentation (OpenAPI spec)
   Environment variables documented
   Deployment guide
   Runbook for common issues

 Deployment
   CI/CD pipeline configured
   Preview deployments for PRs
   Production deployment automated
   Rollback strategy defined
   Environment parity (dev/staging/prod)
</pre>
                </div>

                <p><strong>Handoff Documentation for Engineering Team:</strong></p>
                <pre><code>Generate a comprehensive handoff document for the engineering team:

Create HANDOFF.md with:

1. **Prototype Overview**
   - What was built and why
   - Features implemented vs intentionally omitted
   - User testing results and key learnings

2. **Technical Architecture**
   - Stack decisions and rationale
   - Data models and relationships
   - Authentication flow diagram
   - Key architectural decisions

3. **Known Limitations & Tech Debt**
   - What was done quickly for prototyping
   - What needs refactoring for production
   - Performance bottlenecks identified but not fixed
   - Security considerations to address

4. **Recommended Next Steps**
   - Prioritized list of improvements needed
   - Estimated effort for each (T-shirt sizes)
   - Dependencies and sequencing

5. **Configuration & Deployment**
   - Environment variables needed
   - Third-party services configured
   - Database migrations
   - Deployment instructions

6. **Contact & Support**
   - Who to ask questions
   - Where design files live
   - Link to user testing recordings

Make this document self-serviceengineers should be able to take ownership without needing extensive meetings.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Congratulations!</div>
                    <p>You've built a production-quality web application prototype using Claude Code's advanced features. You've learned:</p>
                    <ul>
                        <li> Strategic mode switching (Plan  Auto  Default)</li>
                        <li> Autonomous development with safety guardrails</li>
                        <li> Specialized subagents for quality assurance</li>
                        <li> Modern 2025 web practices and optimization</li>
                        <li> Production readiness and engineering handoff</li>
                    </ul>
                    <p><strong>Total time:</strong> 4-8 hours from concept to production-ready prototype</p>
                    <p><strong>Without Claude Code:</strong> This would take 1-2 weeks with a full engineering team</p>
                </div>

                <hr style="margin: 3rem 0; border: none; border-top: 2px solid var(--claude-orange);">

                <h3 id="practical-ios-app">Prototyping an iOS Application with Claude Code</h3>

                <p>Build a native iOS app prototype using SwiftUI, modern Swift 6 features, and Claude Code's autonomous capabilities for rapid mobile development.</p>

                <h4>Phase 1: iOS Project Planning & Setup</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Define iOS-specific scope and initialize Xcode project</div>
                    <p><strong>Time estimate:</strong> 30 minutes | <strong>Mode:</strong> Plan Mode</p>
                </div>

                <p><strong>Step 1: iOS-Specific Considerations</strong></p>
                <ul>
                    <li><strong>Target iOS version:</strong> iOS 17+ (for latest SwiftUI features) or iOS 16+ (broader device support)?</li>
                    <li><strong>Device targeting:</strong> iPhone only, iPad, or Universal?</li>
                    <li><strong>Core user flow:</strong> What's the primary mobile interaction you're validating?</li>
                    <li><strong>Native features needed:</strong> Camera, location, notifications, biometrics?</li>
                    <li><strong>Data persistence:</strong> Local only (SwiftData/Core Data) or cloud sync (CloudKit)?</li>
                </ul>

                <p><strong>Step 2: Xcode Project Initialization</strong></p>
                <pre><code># Create project directory
mkdir MyiOSApp
cd MyiOSApp

# Start Claude Code in Plan Mode
claude

# Paste this prompt:
I'm prototyping an iOS application: [DESCRIBE YOUR APP IN 1-2 SENTENCES]

Target: iOS 17+, SwiftUI, iPhone + iPad Universal
Core feature: [PRIMARY FEATURE]
Native capabilities: [e.g., "Camera for scanning, local notifications"]

Please help me:
1. Create optimal Xcode project structure for SwiftUI app
2. Recommend architecture (MVVM with @Observable, Coordinator pattern for navigation?)
3. Set up CLAUDE.md with:
   - iOS/Swift development conventions
   - SwiftUI component patterns
   - Swift 6 concurrency best practices
   - File organization for iOS projects
4. Define initial Swift package dependencies (if any)
5. Set up .gitignore for Xcode projects

Use 2025 best practices: Swift 6 concurrency, @Observable macro, SwiftData for persistence.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-warning">
                    <div class="callout-title"> Xcode + Git Setup</div>
                    <p><strong>Important for iOS projects:</strong></p>
                    <ul>
                        <li>Use proper .gitignore for Xcode (xcuserdata, .DS_Store, build folders)</li>
                        <li>Close Xcode before major Git operations to avoid file locks</li>
                        <li>Commit after each working featureXcode projects can be fragile</li>
                    </ul>
                </div>

                <p><strong>Step 3: Create Xcode Project</strong></p>
                <pre><code># Let Claude generate the project structure, or create manually:
# Open Xcode  New Project  iOS  App
# Choose SwiftUI Interface, Swift Language

# Then initialize Git
git init
git add .
git commit -m "Initial iOS project setup"
git checkout -b feature/core-prototype</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 2: iOS Architecture with Plan Mode</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Design iOS-specific architecture before implementation</div>
                    <p><strong>Time estimate:</strong> 20 minutes | <strong>Mode:</strong> Plan Mode</p>
                </div>

                <p><strong>iOS Architecture Planning Prompt:</strong></p>
                <pre><code>Based on @CLAUDE.md, design the iOS architecture for this app:

**Features to implement:**
1. [Feature 1: e.g., User onboarding with biometric auth]
2. [Feature 2: e.g., Main list view with search/filter]
3. [Feature 3: e.g., Detail view with editing capability]

**iOS-Specific Planning:**

1. **App Structure & Navigation**
   - App entry point (@main struct)
   - Scene configuration
   - Navigation approach: NavigationStack (iOS 16+) or Coordinator pattern?
   - Tab bar for multi-section app?
   - Modal presentations strategy

2. **SwiftUI View Hierarchy**
   - List all screens/views needed
   - Define view responsibilities (what each view displays)
   - Identify reusable SwiftUI components
   - Custom view modifiers for consistent styling

3. **Data Layer Architecture**
   - MVVM pattern with @Observable ViewModels (iOS 17+)
   - Data models with SwiftData (@Model macro)
   - Repository pattern for data access?
   - Network layer if API integration needed

4. **State Management**
   - @State for local view state
   - @Observable for ViewModels (replaces @ObservableObject)
   - @Environment for dependency injection
   - @AppStorage for UserDefaults

5. **File Organization**
   - Folder structure: Views/, ViewModels/, Models/, Services/, Utilities/
   - Asset organization in Asset Catalog
   - Where custom components live

6. **iOS-Specific Considerations**
   - Dark mode support strategy
   - Accessibility (VoiceOver, Dynamic Type)
   - Landscape vs portrait orientation
   - iPad-specific layouts if universal

Provide this as a technical design document with code snippets showing key patterns.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> iOS 17+ Modern Patterns</div>
                    <p><strong>Key differences from older iOS development:</strong></p>
                    <ul>
                        <li><strong>@Observable</strong> replaces @ObservableObject (simpler, more efficient)</li>
                        <li><strong>SwiftData</strong> replaces Core Data for most use cases (much easier API)</li>
                        <li><strong>Swift 6 concurrency</strong> enforces data race safety at compile time</li>
                        <li><strong>NavigationStack</strong> replaces old NavigationView (more powerful)</li>
                    </ul>
                    <p>Claude will recommend these modern patternsreview and ask questions if unclear.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 3: SwiftUI Development with Auto Mode</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Rapidly build iOS UI and ViewModels</div>
                    <p><strong>Time estimate:</strong> 3-4 hours | <strong>Mode:</strong> Auto Mode</p>
                </div>

                <p><strong>Before Auto Mode:</strong></p>
                <ol>
                    <li> Commit current state: <code>git add . && git commit -m "Architecture defined"</code></li>
                    <li> Close Xcode (to avoid file conflicts with Claude's edits)</li>
                    <li> Create checkpoint: <strong>Esc twice</strong></li>
                </ol>

                <p><strong>Switch to Auto Mode:</strong> Press <strong>Shift+Tab once</strong></p>

                <p><strong>SwiftUI Views Implementation Prompt:</strong></p>
                <pre><code>Working in Auto Mode. Implement the iOS app structure and views:

**1. App Entry & Scene Setup**
   - Create @main App struct with proper scene configuration
   - Set up ModelContainer for SwiftData persistence
   - Configure appearance (accent color, fonts)
   - Add App icon and launch screen assets

**2. Navigation & Tab Bar**
   - Implement NavigationStack for hierarchical navigation
   - Create TabView if multi-section app
   - Set up navigation state management
   - Add custom navigation bar styling

**3. Core Views**
   - Onboarding/Welcome view (if applicable)
   - Main list/collection view with SwiftUI List or LazyVStack
   - Detail view with edit capability
   - Settings/Profile view
   - Create custom ViewModifiers for consistent styling

**4. Reusable Components**
   - Custom Button styles (primary, secondary, destructive)
   - Form input components (TextField wrappers with validation)
   - Loading indicators (ProgressView with custom styling)
   - Empty state views
   - Error message views

**5. Styling & Theme**
   - Define color palette in Asset Catalog
   - Create custom Color extensions
   - Define typography (Font extensions)
   - Dark mode support (check appearance in both modes)
   - Responsive layouts for iPhone and iPad

**Requirements:**
- Follow iOS Human Interface Guidelines
- Use SF Symbols for icons
- Ensure Dynamic Type support (accessibility)
- Test in SwiftUI Previews as you build
- Add navigation between views
- Use modern SwiftUI (no UIKit wrappers unless necessary)

After implementing views, show me preview code to verify appearance.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-tip">
                    <div class="callout-title"> SwiftUI Previews are Your Friend</div>
                    <p><strong>Claude will generate preview code for each view.</strong> You can open Xcode, enable Canvas (Cmd+Option+Enter), and see your UI immediately without running the simulator.</p>
                    <p>Example preview Claude will create:</p>
                    <pre><code>#Preview {
    ContentView()
        .modelContainer(for: Item.self, inMemory: true)
}</code></pre>
                </div>

                <p><strong>ViewModels & Business Logic Prompt:</strong></p>
                <pre><code>Continuing in Auto Mode. Implement ViewModels and business logic:

**1. Define Data Models**
   - Create SwiftData models with @Model macro
   - Define relationships between models
   - Add computed properties for derived data
   - Ensure Sendable conformance for Swift 6 concurrency

**2. Create ViewModels with @Observable**
   - One ViewModel per major screen
   - Implement CRUD operations
   - Add input validation logic
   - Handle async operations (network, database)
   - Proper error handling with user-friendly messages

**3. Network Layer (if API integration)**
   - Create API service with async/await
   - Define request/response DTOs (Codable structs)
   - Add error handling for network failures
   - Implement retry logic with exponential backoff
   - Mock responses for SwiftUI Previews

**4. Business Logic**
   - [Describe your app's core logic, e.g., "Calculate savings rate"]
   - Input validation
   - Data transformation
   - State updates triggering view changes

**5. Swift 6 Concurrency**
   - Use @MainActor for UI updates
   - Proper Task management (no unstructured tasks)
   - Handle cancellation gracefully
   - Ensure no data races (complete concurrency checking)

**Quality Requirements:**
- All async functions use async/await (no completion handlers)
- Errors conform to LocalizedError for user-friendly messages
- Unit testable (business logic separate from views)
- No force unwraps (use guard/if let)

Test each ViewModel with sample data before integrating with views.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 4: SwiftData Persistence & CloudKit (Optional)</h4>

                <p><strong>SwiftData Setup Prompt (iOS 17+):</strong></p>
                <pre><code>Implement data persistence with SwiftData:

**1. SwiftData Model Configuration**
   - Define @Model classes for all entities
   - Set up relationships (@Relationship macro)
   - Add @Attribute(.unique) for identifiers
   - Configure cascade delete rules
   - Add indexes for frequently queried fields

**2. ModelContainer Setup**
   - Configure ModelContainer in App struct
   - Set up schema with migrations if needed
   - Enable CloudKit sync (optional): .modelContainer(for: [Model], isStoredInMemoryOnly: false, isAutosaveEnabled: true, isUndoEnabled: true)

**3. Query Data in Views**
   - Use @Query property wrapper in views
   - Add sort descriptors and filters
   - Implement search functionality
   - Handle empty states

**4. CRUD Operations**
   - Create: modelContext.insert(item)
   - Read: @Query or fetch requests
   - Update: modify object properties (auto-saved)
   - Delete: modelContext.delete(item)

**5. Data Validation**
   - Validate before saving
   - Handle SwiftData errors gracefully
   - Provide user feedback on save/delete

Example implementation for one model and show me how to query/modify it.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> CloudKit Sync (Optional)</div>
                    <p>If you need cloud sync, SwiftData integrates seamlessly with CloudKit:</p>
                    <ul>
                        <li>Enable iCloud capability in Xcode</li>
                        <li>SwiftData automatically syncs to iCloud</li>
                        <li>No additional code needed (works magically)</li>
                        <li>Free for development/testing</li>
                    </ul>
                    <p>Ask Claude: "Enable CloudKit sync for SwiftData models"</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 5: Native iOS Features</h4>

                <p><strong>Integrating iOS Capabilities Prompt:</strong></p>
                <pre><code>Add native iOS features to enhance the app:

**1. Camera & Photo Library**
   - Implement PhotosPicker for photo selection (iOS 16+)
   - Add camera capture if needed
   - Request photo library permissions
   - Handle image compression and caching

**2. Location Services**
   - Add LocationManager with proper permissions
   - Request location authorization
   - Handle location updates with async/await
   - Display location on Map (MapKit SwiftUI)

**3. Push Notifications**
   - Request notification permissions
   - Set up UserNotifications framework
   - Schedule local notifications
   - Handle notification taps (deep linking)

**4. Biometric Authentication**
   - Implement Face ID / Touch ID with LocalAuthentication
   - Provide fallback for devices without biometrics
   - Store sensitive data in Keychain

**5. Background Tasks**
   - Configure background refresh (if applicable)
   - Implement background fetch
   - Handle app lifecycle properly

For each feature:
1. Request permissions with clear rationale (required by App Store)
2. Handle denied permissions gracefully
3. Provide fallback user experience
4. Test on physical device (simulator limitations)

Implement [SPECIFIC FEATURE YOU NEED] with full error handling.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-warning">
                    <div class="callout-title"> Privacy & Permissions</div>
                    <p><strong>iOS requires Info.plist entries for permissions:</strong></p>
                    <ul>
                        <li>Camera: NSCameraUsageDescription</li>
                        <li>Photos: NSPhotoLibraryUsageDescription</li>
                        <li>Location: NSLocationWhenInUseUsageDescription</li>
                        <li>Notifications: (handled at runtime)</li>
                    </ul>
                    <p>Claude will add these automatically, but always provide user-friendly descriptions explaining why you need access.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 6: Testing & Quality for iOS</h4>

                <p><strong>iOS Testing Subagent Prompt:</strong></p>
                <pre><code>Use a testing subagent to generate iOS-specific tests:

**1. Unit Tests (XCTest)**
   - Test ViewModels independently (no UI dependencies)
   - Test business logic functions
   - Test data validation
   - Mock network responses and database
   - Aim for 70%+ code coverage on ViewModels

**2. UI Tests (XCUITest)**
   - Test critical user flows (onboarding, main feature)
   - Test navigation between screens
   - Test form submissions and validation
   - Test error states and recovery

**3. SwiftUI Preview Tests**
   - Generate meaningful previews for all views
   - Include different states (empty, loading, error, populated)
   - Test Dark Mode appearance
   - Test Dynamic Type (large text sizes)

**4. Accessibility Tests**
   - VoiceOver label verification
   - Contrast ratio checks
   - Touch target sizes (44x44pt minimum)
   - Dynamic Type support

**5. Performance Tests**
   - Launch time measurement
   - Scroll performance on large lists
   - Memory usage profiling
   - Network request timing

Set up test target, create test files, and show me how to run: `cmd+u` in Xcode.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <p><strong>Code Review Subagent for Swift:</strong></p>
                <pre><code>Use a Swift code review subagent to audit the iOS app:

**Review focus:**
1. **Swift 6 Concurrency** - No data races, proper actor isolation
2. **Memory Management** - Check for retain cycles in closures
3. **iOS Best Practices** - Following Apple's HIG, proper API usage
4. **Performance** - Unnecessary view updates, expensive computations in render
5. **Security** - Keychain usage, no hardcoded secrets, secure network calls

Review @Sources/ folder and provide actionable feedback with severity levels.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 7: Modern iOS Practices (2025)</h4>

                <p><strong>Swift 6 Optimization Prompt:</strong></p>
                <pre><code>Optimize for Swift 6 and iOS 17+ features:

**1. Complete Concurrency Checking**
   - Enable strict concurrency in Xcode project settings
   - Fix all data race warnings (must be zero)
   - Use @MainActor appropriately for UI code
   - Ensure all models are Sendable

**2. Observable Framework (@Observable)**
   - Verify all ViewModels use @Observable (not @ObservableObject)
   - Remove unnecessary @Published wrappers
   - Use @Bindable for two-way bindings in views

**3. SwiftUI Performance**
   - Identify expensive view updates
   - Add explicit identity to lists (.id() modifier)
   - Use .task modifier for async work tied to view lifecycle
   - Minimize @State usage (prefer derived data)

**4. App Size Optimization**
   - Remove unused assets from Asset Catalog
   - Compress images with proper resolution (@2x, @3x)
   - Review dependencies (remove if not critical)
   - Enable bitcode and app thinning

**5. Accessibility Excellence**
   - Full VoiceOver support with proper labels
   - Dynamic Type for all text
   - Reduce Motion support for animations
   - High contrast mode support

Run Xcode's Instruments profiler (Time Profiler, Allocations) and optimize hot paths.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 8: TestFlight & Distribution</h4>

                <p><strong>Prepare for TestFlight Distribution:</strong></p>
                <pre><code>Help me prepare this app for TestFlight beta testing:

**1. App Store Connect Setup**
   - Create App ID and provisioning profiles
   - Configure capabilities (Push Notifications, iCloud, etc.)
   - Set up App Store Connect record
   - Add app metadata (name, description, keywords)

**2. Build Configuration**
   - Set proper version and build numbers
   - Configure release build settings
   - Add App Store icons (all required sizes)
   - Create launch screen that matches app

**3. TestFlight Information**
   - Write beta testing instructions for testers
   - Define what to test and what feedback to collect
   - Set up crash reporting (if using third-party)
   - Prepare test data/accounts if needed

**4. Archive & Upload**
   - Show me Xcode archive process (Product  Archive)
   - Validate app before submission
   - Upload to App Store Connect
   - Submit for TestFlight review

**5. Beta Testing Plan**
   - How many testers to invite
   - What metrics to collect
   - Timeline for feedback collection
   - Iteration plan based on feedback

Generate a TESTFLIGHT.md document with detailed instructions.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> TestFlight Best Practices</div>
                    <ul>
                        <li>Start with internal testing (your team) before external</li>
                        <li>Limit external beta to 10-20 testers initially</li>
                        <li>Provide clear testing instructions and scenarios</li>
                        <li>Monitor crash reports daily in App Store Connect</li>
                        <li>Iterate quicklyyou can submit new builds within hours</li>
                    </ul>
                </div>

                <p><strong>Handoff to Engineering Prompt:</strong></p>
                <pre><code>Create a comprehensive iOS handoff document:

Generate IOS_HANDOFF.md with:

**1. Prototype Summary**
   - Features implemented and validated through testing
   - User feedback highlights from TestFlight
   - iOS-specific decisions and rationale

**2. Technical Architecture**
   - Swift 6 / iOS 17 features used
   - SwiftUI patterns and custom components
   - Data model relationships (SwiftData schema)
   - Third-party dependencies and versions

**3. Known Issues & Limitations**
   - What was prototyped vs production-ready
   - Performance bottlenecks identified
   - Areas needing optimization
   - Future feature ideas

**4. iOS-Specific Considerations**
   - Privacy permissions required
   - Background capabilities needed
   - Push notification setup
   - CloudKit sync configuration (if used)

**5. Build & Deployment**
   - Xcode version and Swift version
   - Required provisioning profiles
   - TestFlight distribution process
   - App Store submission checklist

**6. Testing Instructions**
   - How to run unit tests
   - UI testing scenarios
   - Physical device testing needs
   - Accessibility testing checklist

Make this self-service for iOS engineers to continue development.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> iOS Prototype Complete!</div>
                    <p>You've built a native iOS application using modern Swift 6 and SwiftUI practices. You've learned:</p>
                    <ul>
                        <li> iOS-specific architecture with MVVM and @Observable</li>
                        <li> SwiftData for persistent storage</li>
                        <li> Native iOS features (camera, location, notifications)</li>
                        <li> Swift 6 concurrency and data race safety</li>
                        <li> TestFlight distribution and beta testing</li>
                    </ul>
                    <p><strong>Total time:</strong> 5-8 hours from concept to TestFlight</p>
                    <p><strong>Without Claude Code:</strong> This would take 2-3 weeks with iOS developers</p>
                </div>

                <hr style="margin: 3rem 0; border: none; border-top: 2px solid var(--claude-orange);">

                <h3 id="practical-ai-agent">Creating Production-Ready AI Agents with Claude Code</h3>

                <p>Build reliable, scalable AI agents using Claude Code's autonomous capabilities, implementing best practices for production deployment, observability, and continuous improvement.</p>

                <div class="callout callout-info">
                    <div class="callout-title"> What is a Production-Ready AI Agent?</div>
                    <p>Unlike simple chatbots, production AI agents are autonomous systems that:</p>
                    <ul>
                        <li><strong>Execute multi-step tasks</strong> without constant human guidance</li>
                        <li><strong>Use tools reliably</strong> (APIs, databases, file systems)</li>
                        <li><strong>Handle errors gracefully</strong> with fallbacks and recovery</li>
                        <li><strong>Scale</strong> to handle hundreds of concurrent requests</li>
                        <li><strong>Observe and monitor</strong> their own performance</li>
                        <li><strong>Improve over time</strong> based on feedback and usage</li>
                    </ul>
                </div>

                <h4>Phase 1: Agent Architecture Planning</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Define agent capabilities and architecture</div>
                    <p><strong>Time estimate:</strong> 1 hour | <strong>Mode:</strong> Plan Mode</p>
                </div>

                <p><strong>Agent Scope Definition:</strong></p>
                <ul>
                    <li><strong>What tasks will the agent perform?</strong> (e.g., "Customer support automation", "Data analysis assistant")</li>
                    <li><strong>What tools does it need?</strong> (file access, database queries, API calls, web search)</li>
                    <li><strong>What's the success criteria?</strong> (task completion rate, response time, user satisfaction)</li>
                    <li><strong>What are the constraints?</strong> (budget, latency requirements, data privacy)</li>
                    <li><strong>What are failure modes?</strong> (what should it NOT do? escalation paths?)</li>
                </ul>

                <p><strong>Agent Architecture Planning Prompt:</strong></p>
                <pre><code># Start Claude Code in Plan Mode
claude

I'm building a production AI agent for: [DESCRIBE PURPOSE]

**Agent Capabilities:**
- [Capability 1: e.g., "Answer customer questions about product features"]
- [Capability 2: e.g., "Escalate complex issues to human support"]
- [Capability 3: e.g., "Log all interactions for compliance"]

**Available Tools:**
- [Tool 1: e.g., "Read from knowledge base (vector database)"]
- [Tool 2: e.g., "Query customer database (PostgreSQL)"]
- [Tool 3: e.g., "Send emails via SendGrid API"]

**Constraints:**
- Response time: < 5 seconds for 95% of requests
- Budget: $500/month for API costs
- Compliance: GDPR, log all data access
- Safety: Never reveal customer PII to other customers

Help me design:

1. **Agent Architecture**
   - Orchestrator pattern vs single-agent?
   - How to manage conversation state across turns?
   - Tool execution strategy (parallel vs sequential)
   - Error handling and fallback mechanisms

2. **System Prompts & Instructions**
   - Core agent persona and behavior
   - Guardrails and safety measures
   - When to escalate vs attempt autonomous resolution
   - Output format expectations

3. **Tool Implementation Strategy**
   - Which tools to build vs use existing APIs?
   - Tool input validation approach
   - Tool error handling patterns
   - Rate limiting and retries

4. **State & Memory Management**
   - Short-term memory (conversation context)
   - Long-term memory (user preferences, history)
   - Where to persist state (Redis, PostgreSQL, vector DB?)

5. **Observability & Monitoring**
   - What metrics to track? (latency, errors, token usage, satisfaction)
   - Logging strategy (what to log at each level)
   - Alerting thresholds

Provide a technical design document with architecture diagram and code patterns.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-tip">
                    <div class="callout-title"> Start Simple, Iterate</div>
                    <p><strong>Don't build everything at once.</strong> Start with:</p>
                    <ol>
                        <li>Single agent with 1-2 core tools</li>
                        <li>Basic error handling</li>
                        <li>Simple logging</li>
                        <li>Test with real scenarios</li>
                        <li>Add complexity incrementally based on failure modes observed</li>
                    </ol>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 2: Core Agent Implementation</h4>

                <div class="callout callout-success">
                    <div class="callout-title"> Goal: Build foundational agent system</div>
                    <p><strong>Time estimate:</strong> 3-4 hours | <strong>Mode:</strong> Auto Mode</p>
                </div>

                <p><strong>Agent Foundation Prompt:</strong></p>
                <pre><code>Working in Auto Mode. Implement the core AI agent system:

**1. Project Structure**
   - Create Python/TypeScript project with proper organization:
     * src/agent/ - Agent orchestration logic
     * src/tools/ - Tool implementations
     * src/prompts/ - System prompts and templates
     * src/memory/ - State management
     * src/utils/ - Logging, metrics, helpers
   - Set up virtual environment and dependencies
   - Add .env.example for configuration

**2. Agent Core Implementation**
   - Create Agent class with:
     * System prompt configuration
     * Tool registry (register/execute tools)
     * Conversation loop (user input  reasoning  tool use  response)
     * Context management (sliding window with summarization)
   - Use Anthropic SDK with Claude 3.5 Sonnet
   - Implement streaming responses for UX

**3. Tool System**
   - Create BaseTool abstract class
   - Implement tool validation (input schemas with Pydantic/Zod)
   - Tool execution with timeout and retry logic
   - Tool response formatting for agent consumption
   - Example tools:
     * SearchKnowledgeBase(query: str)  results
     * QueryDatabase(sql: str)  data
     * SendEmail(to: str, subject: str, body: str)  success

**4. System Prompts**
   - Main agent instructions (persona, capabilities, limitations)
   - Tool usage guidelines (when to use each tool)
   - Safety guardrails (what to never do)
   - Output formatting instructions
   - Store prompts in separate files for easy iteration

**5. Conversation State**
   - Implement ConversationHistory class
   - Store: user messages, assistant responses, tool calls
   - Implement context window management (summarize when full)
   - Persist to database for multi-turn conversations

**Quality Requirements:**
- Type hints throughout (Python) or TypeScript strict mode
- Async/await for all I/O operations
- Structured logging (JSON format)
- Unit tests for tool implementations
- Environment-based configuration (dev/staging/prod)

Create a working agent that can answer questions using the SearchKnowledgeBase tool.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> Tool Design Best Practices</div>
                    <p><strong>Good tools are:</strong></p>
                    <ul>
                        <li><strong>Single-purpose:</strong> One tool = one clear action</li>
                        <li><strong>Validated:</strong> Input schemas prevent malformed requests</li>
                        <li><strong>Idempotent:</strong> Safe to retry without side effects (where possible)</li>
                        <li><strong>Observable:</strong> Log inputs, outputs, errors, latency</li>
                        <li><strong>Time-bounded:</strong> Timeout after reasonable duration</li>
                    </ul>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 3: Error Handling & Resilience</h4>

                <p><strong>Robust Error Handling Prompt:</strong></p>
                <pre><code>Implement production-grade error handling and resilience:

**1. Tool Failure Handling**
   - Try/catch around all tool executions
   - Classify errors: Retryable (network timeout) vs Non-retryable (invalid input)
   - Retry logic with exponential backoff (3 retries max)
   - Circuit breaker pattern for failing tools
   - Fallback behaviors when tools unavailable

**2. Agent Error Recovery**
   - Handle invalid tool calls (agent hallucinates non-existent tools)
   - Handle incomplete responses (context window exhausted)
   - Handle rate limits (429 errors from Claude API)
   - Provide user-friendly error messages (no stack traces to users)

**3. Graceful Degradation**
   - Define fallback behaviors for each failure mode
   - Example: If database down  use cached data + warn user
   - Example: If agent confused  offer to escalate to human
   - Never leave user hanging with generic "something went wrong"

**4. Validation & Safety**
   - Validate all tool inputs before execution
   - Sanitize SQL queries (parameterized queries only)
   - Rate limit tool usage (prevent runaway agents)
   - Content moderation on agent outputs
   - PII detection and redaction in logs

**5. Timeout Management**
   - Per-tool timeouts (don't wait forever)
   - Overall conversation timeout (end session if stuck)
   - Partial result handling (return what we have so far)

For each error scenario, log structured data:
- Error type and message
- Context (user ID, conversation ID, tool called)
- Recovery action taken
- Impact on user experience

Test error scenarios with unit tests (mock tool failures).</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 4: Observability & Monitoring</h4>

                <p><strong>Production Observability Prompt:</strong></p>
                <pre><code>Implement comprehensive observability for production agent:

**1. Structured Logging**
   - Use structured JSON logging (not print statements)
   - Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
   - Include context in every log: user_id, conversation_id, request_id
   - Log:
     * Agent decisions (which tool to use, reasoning)
     * Tool calls (inputs, outputs, latency, errors)
     * API usage (tokens consumed, cost)
     * User satisfaction signals (if available)

**2. Metrics Collection**
   - Implement metrics with Prometheus or similar:
     * Request rate (requests/second)
     * Response latency (p50, p95, p99)
     * Error rate (errors/total requests)
     * Tool usage (calls per tool type)
     * Token usage (total tokens, cost)
     * Task completion rate (successful vs failed)
   - Expose /metrics endpoint for scraping

**3. Distributed Tracing**
   - Add trace IDs to track request through system
   - Span for each operation (agent reasoning, tool call, API request)
   - Integrate with OpenTelemetry or similar
   - Visualize traces in Jaeger or similar tool

**4. Alerting**
   - Define alert rules:
     * Error rate > 5% for 5 minutes  PagerDuty
     * p95 latency > 10 seconds  Slack alert
     * Cost > $50/hour  Email alert
     * Tool failure rate > 20%  Investigate
   - Use Prometheus Alertmanager or equivalent

**5. Dashboards**
   - Create Grafana dashboard with:
     * Real-time request rate and latency
     * Error rate by error type
     * Tool usage breakdown
     * Cost tracking (running total)
     * User satisfaction metrics

Set up basic logging and metrics, show me example log output.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> Key Metrics for AI Agents</div>
                    <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                        <thead style="background: var(--claude-code-bg);">
                            <tr>
                                <th style="padding: 0.75rem; border: 1px solid var(--claude-border);">Metric</th>
                                <th style="padding: 0.75rem; border: 1px solid var(--claude-border);">Why It Matters</th>
                                <th style="padding: 0.75rem; border: 1px solid var(--claude-border);">Target</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Task Success Rate</strong></td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Did agent complete user's request?</td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">> 90%</td>
                            </tr>
                            <tr style="background: var(--claude-bg);">
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Response Latency (p95)</strong></td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">User experience quality</td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">< 5 seconds</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Error Rate</strong></td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">System reliability</td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">< 1%</td>
                            </tr>
                            <tr style="background: var(--claude-bg);">
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>Cost per Interaction</strong></td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Economic viability</td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">< $0.10</td>
                            </tr>
                            <tr>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);"><strong>User Satisfaction</strong></td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">Product-market fit</td>
                                <td style="padding: 0.75rem; border: 1px solid var(--claude-border);">4.0+ / 5.0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 5: Testing & Evaluation</h4>

                <p><strong>Agent Testing Strategy Prompt:</strong></p>
                <pre><code>Implement comprehensive testing for AI agent:

**1. Unit Tests for Tools**
   - Test each tool in isolation with mocked dependencies
   - Test happy path (successful execution)
   - Test error cases (network failure, invalid input, timeout)
   - Test edge cases (empty results, large responses)
   - Aim for 80%+ code coverage on tool implementations

**2. Integration Tests for Agent**
   - Test full agent flow with real Claude API (test mode)
   - Test multi-turn conversations
   - Test tool chaining (agent uses multiple tools in sequence)
   - Test context window management (long conversations)
   - Test error recovery scenarios

**3. Evaluation Framework**
   - Create test dataset of realistic queries:
     * Include edge cases and tricky scenarios
     * Include queries that should fail gracefully
   - Define evaluation criteria:
     * Correctness: Did agent give right answer?
     * Completeness: Did it use all necessary tools?
     * Efficiency: Did it use minimal tool calls?
     * Safety: Did it avoid prohibited actions?
   - Run evaluation suite on each code change
   - Track evaluation scores over time (regression detection)

**4. Load Testing**
   - Simulate concurrent users (10, 50, 100, 500)
   - Measure: throughput, latency percentiles, error rate
   - Identify bottlenecks (database? API? agent reasoning?)
   - Ensure graceful degradation under load

**5. A/B Testing Framework**
   - Implement ability to test different:
     * System prompts (which is more effective?)
     * Tool configurations (which tools to enable?)
     * Response strategies (concise vs detailed?)
   - Route 50% of traffic to variant A, 50% to variant B
   - Measure success rate, satisfaction, cost
   - Winner becomes new baseline

Create a test suite with 20 example scenarios covering happy path, edge cases, and failures.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-warning">
                    <div class="callout-title"> Testing AI is Different</div>
                    <p><strong>AI agents are non-deterministictesting requires new approaches:</strong></p>
                    <ul>
                        <li> <strong>Acceptance criteria, not exact matches:</strong> "Response includes product name" not "Response equals X"</li>
                        <li> <strong>Statistical evaluation:</strong> "95% of test cases pass" not "100%"</li>
                        <li> <strong>Regression detection:</strong> Track eval scores over time, alert on drops</li>
                        <li> <strong>Human-in-the-loop:</strong> Manual review of edge cases and failures</li>
                    </ul>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 6: Deployment & Scaling</h4>

                <p><strong>Production Deployment Prompt:</strong></p>
                <pre><code>Prepare agent for production deployment:

**1. Containerization**
   - Create Dockerfile for agent service
   - Multi-stage build (dev dependencies separate from prod)
   - Minimize image size (use Alpine Linux base)
   - Include healthcheck endpoint (/health)
   - Expose metrics endpoint (/metrics)

**2. Kubernetes Deployment**
   - Create Kubernetes manifests:
     * Deployment (replicas, resource limits, health checks)
     * Service (load balancer for agent API)
     * ConfigMap (environment-specific configuration)
     * Secret (API keys, database credentials)
   - Implement horizontal pod autoscaling (scale based on CPU/memory)
   - Set up pod disruption budget (maintain availability during updates)

**3. CI/CD Pipeline**
   - GitHub Actions or similar:
     * On PR: Run tests, linting, type checking
     * On merge to main: Build Docker image, push to registry
     * On tag: Deploy to production with approval gate
   - Implement automated rollback on deployment failure
   - Blue-green deployment for zero-downtime updates

**4. Infrastructure as Code**
   - Use Terraform or Pulumi for infrastructure:
     * Kubernetes cluster
     * PostgreSQL database (state storage)
     * Redis (caching, rate limiting)
     * CloudWatch/Datadog (monitoring)
   - Version control all infrastructure code
   - Environment parity (dev/staging/prod configurations)

**5. Cost Optimization**
   - Implement prompt caching (reuse system prompts)
   - Use Claude Haiku for simple queries (5x cheaper)
   - Batch operations where possible
   - Set up cost alerts (daily/monthly budgets)
   - Monitor cost per interaction, optimize expensive paths

Show me Dockerfile and basic Kubernetes deployment manifest.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 7: Continuous Improvement</h4>

                <p><strong>Agent Improvement Framework Prompt:</strong></p>
                <pre><code>Implement continuous improvement system for agent:

**1. Feedback Collection**
   - Add thumbs up/down buttons after agent responses
   - Capture detailed feedback: "What was wrong?"
   - Store feedback with full conversation context
   - Track feedback rate (what % of users provide feedback?)

**2. Failure Analysis**
   - Daily review of failed interactions:
     * Agent didn't understand query  improve system prompt
     * Tool failed repeatedly  improve error handling
     * User unsatisfied  analyze conversation patterns
   - Categorize failure modes, prioritize by frequency
   - Create test cases from real failures

**3. Prompt Iteration Process**
   - Weekly review of agent performance metrics
   - Hypothesis: "Adding examples will improve X"
   - A/B test: 50% get new prompt, 50% get old
   - Measure impact on success rate, satisfaction, cost
   - Deploy winning variant, archive losing variant

**4. Tool Enhancement**
   - Monitor tool usage: which tools most used? most useful?
   - Identify missing tools: "Agent tried to do X but has no tool for it"
   - Optimize slow tools (caching, better queries, parallel execution)
   - Deprecate unused tools (reduce complexity)

**5. Knowledge Base Updates**
   - Identify knowledge gaps: "Agent couldn't answer because info not in KB"
   - Process: User query  Human answers  Add to KB  Re-index
   - Track KB effectiveness: Does it answer queries correctly?
   - Regular KB audits: Remove outdated information

**6. Model Upgrades**
   - When new Claude models release, run evaluation suite
   - Compare: accuracy, latency, cost
   - Gradual rollout: 10%  50%  100% of traffic
   - Monitor for regressions (sometimes new  better)

Create a IMPROVEMENT.md playbook documenting this process for the team.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-success">
                    <div class="callout-title"> The Improvement Flywheel</div>
                    <p><strong>AI agents improve through iteration:</strong></p>
                    <ol>
                        <li> <strong>Deploy</strong> agent to production</li>
                        <li> <strong>Users interact</strong>, some succeed, some fail</li>
                        <li> <strong>Collect data:</strong> logs, metrics, feedback</li>
                        <li> <strong>Analyze failures:</strong> what went wrong? why?</li>
                        <li> <strong>Hypothesize fixes:</strong> better prompts, new tools, improved KB</li>
                        <li> <strong>Test changes:</strong> A/B test, measure impact</li>
                        <li> <strong>Deploy improvements</strong> if better</li>
                        <li> <strong>Repeat weekly</strong></li>
                    </ol>
                    <p><strong>Result:</strong> Agent gets 5-10% better each month through systematic improvement.</p>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--claude-border);">

                <h4>Phase 8: Advanced Patterns (2025)</h4>

                <p><strong>Modern AI Agent Patterns Prompt:</strong></p>
                <pre><code>Implement advanced agent patterns for production systems:

**1. Multi-Agent Orchestration**
   - Create coordinator agent that delegates to specialists:
     * Research agent (gathers information)
     * Analysis agent (processes data)
     * Action agent (executes tasks)
   - Coordinator decides which specialist(s) to invoke
   - Aggregate results from multiple specialists
   - Handle disagreements between agents

**2. Agentic RAG (Retrieval-Augmented Generation)**
   - Agent decides when to query knowledge base
   - Multi-hop retrieval: use initial results to query again
   - Re-ranking: agent evaluates relevance, fetches more if needed
   - Cite sources in response for transparency

**3. Extended Thinking with Claude**
   - Enable Claude's extended thinking for complex tasks
   - Agent spends more tokens reasoning internally
   - Better results on multi-step problems, planning, analysis
   - Trade-off: higher cost, slower response (use selectively)

**4. Tool Chaining & Workflows**
   - Define workflows: sequences of tool calls
   - Example: "Research topic" = Search  Summarize  Save  Notify
   - Agent can execute workflows atomically
   - Implement compensation logic (undo on failure)

**5. Adaptive Agent Behavior**
   - Agent learns user preferences over time:
     * Response length (some users want detail, others want brief)
     * Formality (casual vs professional tone)
     * Domain expertise (adjust technical level)
   - Store user profiles, inject into context
   - Personalize without explicit user configuration

**6. Compliance & Governance**
   - GDPR compliance: data deletion, export, consent
   - Audit logs: who did what, when, why
   - Role-based access: different agent capabilities per user type
   - Content filtering: prevent harmful outputs
   - Explainability: agent explains its reasoning on demand

Implement multi-agent orchestration with coordinator + 2 specialist agents.</code><button class="copy-btn" onclick="copyCode(this)">Copy</button></pre>

                <div class="callout callout-info">
                    <div class="callout-title"> Production AI Agent Checklist</div>
                    <div style="background: var(--claude-code-bg); border: 2px solid var(--claude-border); border-radius: 8px; padding: 1.5rem; margin: 1rem 0;">
<pre style="margin: 0;">
 **Core Functionality**
   Agent completes primary tasks reliably (>90% success)
   Tools are validated and error-handled
   Conversation state persists across turns
   Context window managed (summarization when full)

 **Reliability**
   Comprehensive error handling and fallbacks
   Retry logic with exponential backoff
   Circuit breakers for failing dependencies
   Graceful degradation when tools unavailable
   User-friendly error messages (no stack traces)

 **Observability**
   Structured JSON logging
   Metrics exposed (Prometheus format)
   Distributed tracing implemented
   Dashboards for real-time monitoring
   Alerts for anomalies (high error rate, cost, latency)

 **Testing & Quality**
   Unit tests for all tools (80%+ coverage)
   Integration tests for full agent flows
   Evaluation suite with 50+ test scenarios
   Load testing passed (target RPS achieved)
   A/B testing framework operational

 **Security & Compliance**
   Input validation on all tool parameters
   Output sanitization (no PII leakage)
   Rate limiting per user
   Audit logs for all operations
   GDPR compliance (data deletion, export)

 **Deployment**
   Containerized with health checks
   Kubernetes deployment with autoscaling
   CI/CD pipeline with automated testing
   Blue-green deployment for zero downtime
   Rollback plan documented and tested

 **Cost & Performance**
   p95 latency < 5 seconds
   Cost per interaction < target
   Prompt caching enabled
   Cost alerts configured
   Resource limits set (prevent runaway costs)

 **Continuous Improvement**
   Feedback collection implemented
   Weekly failure analysis process
   Prompt iteration framework
   Knowledge base update process
   Model upgrade testing procedure
</pre>
                    </div>
                </div>

                <div class="callout callout-success">
                    <div class="callout-title"> Production AI Agent Complete!</div>
                    <p>You've built a production-grade AI agent system with Claude Code. You've learned:</p>
                    <ul>
                        <li> Agent architecture and tool system design</li>
                        <li> Robust error handling and resilience patterns</li>
                        <li> Production observability and monitoring</li>
                        <li> Testing and evaluation frameworks for AI</li>
                        <li> Deployment, scaling, and cost optimization</li>
                        <li> Continuous improvement and iteration processes</li>
                        <li> Advanced patterns: multi-agent, RAG, adaptive behavior</li>
                    </ul>
                    <p><strong>Total time:</strong> 10-15 hours from concept to production deployment</p>
                    <p><strong>Without Claude Code:</strong> This would take 1-2 months with a dedicated AI engineering team</p>
                    <p><strong>Next step:</strong> Deploy to production, collect real user feedback, iterate weekly to improve performance!</p>
                </div>
            </section>

            <section id="when-to-use">
                <h2>When to Use Claude Code</h2>

                <h3>Ideal Use Cases</h3>
                <ul>
                    <li>Boilerplate and repetitive code generation</li>
                    <li>Writing comprehensive test suites</li>
                    <li>Code refactoring and migrations across many files</li>
                    <li>Exploring unfamiliar codebases during onboarding</li>
                    <li>Implementing well-specified features with clear requirements</li>
                    <li>Debugging with clear error messages and logs</li>
                    <li>Generating documentation automatically</li>
                    <li>Routine git operations and commit messages</li>
                </ul>

                <h3>Manual Coding Preferred</h3>
                <ul>
                    <li>Critical security implementations (review Claude's work thoroughly)</li>
                    <li>Core business logic requiring deep domain knowledge</li>
                    <li>Performance-critical optimizations requiring profiling</li>
                    <li>Novel algorithms not well-represented in training data</li>
                    <li>When learning new concepts (don't outsource learning)</li>
                </ul>

                <h3>Hybrid Approach (Most Common)</h3>
                <ul>
                    <li>Claude implements  human reviews  iterate cycles</li>
                    <li>Human architects  Claude implements pattern</li>
                    <li>Claude generates tests  human writes code  tests pass verification</li>
                    <li>Claude handles routine  human handles critical logic</li>
                </ul>
            </section>

            <section id="action-plan">
                <h2>Action Plan</h2>

                <div class="callout callout-success">
                    <div class="callout-title"> Day 1 Checklist</div>
                    <ul>
                        <li>Install Claude Code successfully</li>
                        <li>Complete authentication</li>
                        <li>Run <code>claude doctor</code> ensuring all checks pass</li>
                        <li>Test basic commands with <code>/help</code></li>
                        <li>Create a test file to verify functionality</li>
                        <li>Set up IDE integration (optional)</li>
                        <li>Review <code>/permissions</code> settings</li>
                    </ul>
                </div>

                <div class="callout callout-info">
                    <div class="callout-title"> Week 1 Goals</div>
                    <ul>
                        <li>Create comprehensive CLAUDE.md file</li>
                        <li>Set up custom slash commands in <code>.claude/commands/</code></li>
                        <li>Configure permissions for your project</li>
                        <li>Practice Research  Plan  Implement workflow</li>
                        <li>Experiment with three interaction modes</li>
                        <li>Use checkpoints before risky changes</li>
                        <li>Commit frequently to maintain Git safety net</li>
                    </ul>
                </div>

                <div class="callout callout-tip">
                    <div class="callout-title"> Month 1 Mastery</div>
                    <ul>
                        <li>Create specialized subagents for code review, testing, and documentation</li>
                        <li>Set up hooks for automatic formatting and testing</li>
                        <li>Integrate with GitHub for automated PR workflows</li>
                        <li>Configure MCP servers for external tools</li>
                        <li>Build library of effective prompts and patterns</li>
                        <li>Establish team conventions in shared CLAUDE.md</li>
                        <li>Optimize context management for large codebases</li>
                        <li>Measure productivity improvements and cost efficiency</li>
                    </ul>
                </div>
            </section>

            <section id="takeaways">
                <h2>Key Takeaways</h2>

                <p>Claude Code represents a fundamental shift from coding assistants to autonomous development agents.</p>

                <div class="callout callout-tip">
                    <div class="callout-title"> Essential Success Principles</div>
                    <ul>
                        <li><strong>Security requires human oversight</strong>always review proposed changes, manage permissions carefully, and use version control</li>
                        <li><strong>CLAUDE.md is essential</strong>this single file dramatically improves effectiveness through persistent project memory</li>
                        <li><strong>TDD works exceptionally well</strong>Test-driven development plus Claude Code reduces errors and improves code quality</li>
                        <li><strong>Research  Plan  Implement prevents premature optimization</strong>this workflow ensures Claude understands before coding</li>
                        <li><strong>Iteration is normal</strong>about 1/3 success rate on first try is expected; embrace conversation-based debugging</li>
                        <li><strong>Context management matters</strong>clear often, be specific with file references, break large tasks into pieces</li>
                        <li><strong>Three interaction modes provide tactical flexibility</strong>Default for safety, Auto for speed, Plan for strategy</li>
                        <li><strong>Model selection impacts cost and quality</strong>use Sonnet for daily work, Opus for complex reasoning</li>
                        <li><strong>Rate limits require strategic planning</strong>understand your usage patterns, optimize workflows, plan around reset cycles</li>
                        <li><strong>Human judgment remains essential</strong>Claude Code augments developers through speed and automation while requiring oversight</li>
                    </ul>
                </div>

                <p>With proper setup, strategic usage, and realistic expectations, Claude Code can multiply developer productivity by 2-10x while maintaining code quality and security. The key is treating it as a <span class="highlight">collaborative partner requiring clear direction, regular feedback, and thorough code review</span>like working with an incredibly fast junior developer who needs guidance but handles implementation brilliantly.</p>
            </section>
        </main>
    </div>

    <script>
        // ========== THEME MANAGEMENT ==========
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const stickyThemeToggle = document.getElementById('stickyThemeToggle');
        const stickyThemeIcon = document.getElementById('stickyThemeIcon');
        const html = document.documentElement;

        // Load saved theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', savedTheme);
        const iconText = savedTheme === 'dark' ? '' : '';
        themeIcon.textContent = iconText;
        stickyThemeIcon.textContent = iconText;

        // Toggle theme function
        function toggleTheme() {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            const newIconText = newTheme === 'dark' ? '' : '';

            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeIcon.textContent = newIconText;
            stickyThemeIcon.textContent = newIconText;
        }

        // Add click listeners to both theme toggles
        themeToggle.addEventListener('click', toggleTheme);
        stickyThemeToggle.addEventListener('click', toggleTheme);

        // ========== MOBILE MENU ==========
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileOverlay = document.getElementById('mobileOverlay');
        const toc = document.querySelector('.toc');

        mobileMenuToggle.addEventListener('click', function() {
            toc.classList.toggle('mobile-visible');
            toc.classList.toggle('mobile-hidden');
            mobileOverlay.classList.toggle('active');
        });

        mobileOverlay.addEventListener('click', function() {
            toc.classList.remove('mobile-visible');
            toc.classList.add('mobile-hidden');
            mobileOverlay.classList.remove('active');
        });

        // Initialize mobile menu state
        if (window.innerWidth <= 1024) {
            toc.classList.add('mobile-hidden');
        }

        // ========== SEARCH FUNCTIONALITY WITH DEBOUNCING ==========
        const searchInput = document.getElementById('searchInput');
        const searchInputSticky = document.getElementById('searchInputSticky');
        const searchNav = document.getElementById('searchNav');
        const searchNavSticky = document.getElementById('searchNavSticky');
        const prevMatch = document.getElementById('prevMatch');
        const nextMatch = document.getElementById('nextMatch');
        const prevMatchSticky = document.getElementById('prevMatchSticky');
        const nextMatchSticky = document.getElementById('nextMatchSticky');
        const content = document.querySelector('.content');
        const tocTitle = document.getElementById('tocTitle');

        let originalContent = null;
        let searchTimeout = null;
        let currentMatchIndex = 0;
        let allMatches = [];

        // ========== STRUCTURED NAVIGATION: SECTION MATCH DATA ==========
        let sectionMatchData = {};  // { sectionId: { matches: [], element: section } }
        let currentSection = null;  // Currently active section for navigation
        let currentSectionMatchIndex = 0;  // Index within current section's matches

        // ========== SYNC SEARCH INPUTS ==========
        function syncSearchInputs(sourceInput, targetInput) {
            targetInput.value = sourceInput.value;
        }

        function syncSearchNavVisibility(shouldShow) {
            if (shouldShow) {
                searchNav.classList.add('active');
                searchNavSticky.style.display = 'flex';
            } else {
                searchNav.classList.remove('active');
                searchNavSticky.style.display = 'none';
            }
        }

        // Listen to both search inputs and sync them
        searchInput.addEventListener('input', function(e) {
            syncSearchInputs(searchInput, searchInputSticky);
            const searchTerm = e.target.value.trim();

            // Content search with debounce (300ms)
            // TOC will be filtered based on content matches, not heading text
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => performContentSearch(searchTerm), 300);
        });

        searchInputSticky.addEventListener('input', function(e) {
            syncSearchInputs(searchInputSticky, searchInput);
            const searchTerm = e.target.value.trim();

            // Content search with debounce (300ms)
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => performContentSearch(searchTerm), 300);
        });

        function performContentSearch(searchTerm) {
            const lowerSearch = searchTerm.toLowerCase();

            // Store original content if not already stored
            if (originalContent === null) {
                originalContent = content.innerHTML;
            }

            // If search is empty, restore everything
            if (searchTerm.length === 0) {
                content.innerHTML = originalContent;
                syncSearchNavVisibility(false);

                // Reset section match data
                sectionMatchData = {};
                currentSection = null;
                currentSectionMatchIndex = 0;
                updateTOCMatchCounts();

                // Restore full TOC view (show all sections)
                filterTOCByContentMatches(null);

                // Restore original TOC title
                tocTitle.textContent = ' Table of Contents';

                // Re-enable and trigger scroll-based active section tracking
                setTimeout(() => {
                    // Trigger scroll event to update active section immediately
                    const scrollEvent = new Event('scroll');
                    window.dispatchEvent(scrollEvent);
                }, 50);

                attachCollapsibleListeners();
                updateHash();
                return;
            }

            // If search term is less than 2 characters, don't search
            if (searchTerm.length < 2) {
                return;
            }

            // Restore original content before searching
            content.innerHTML = originalContent;

            // Reset section match data
            sectionMatchData = {};

            // Get all text nodes and highlight matches
            const sections = content.querySelectorAll('section');
            let sectionCount = 0;
            allMatches = [];

            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                const sectionId = section.id;

                if (text.includes(lowerSearch)) {
                    section.style.display = 'block';
                    sectionCount++;

                    // Highlight the search term in this section
                    highlightText(section, searchTerm);

                    // Collect matches for this section
                    const sectionMatches = Array.from(section.querySelectorAll('mark'));

                    if (sectionMatches.length > 0 && sectionId) {
                        sectionMatchData[sectionId] = {
                            matches: sectionMatches,
                            element: section
                        };
                    }
                } else {
                    section.style.display = 'none';
                }
            });

            // Collect all matches
            allMatches = Array.from(content.querySelectorAll('mark'));
            currentMatchIndex = 0;

            // Update TOC with match count badges
            updateTOCMatchCounts();

            // Filter TOC to show only sections with content matches
            filterTOCByContentMatches(sectionMatchData);

            // Set first section with matches as current section
            const firstSectionId = Object.keys(sectionMatchData)[0];
            if (firstSectionId) {
                setCurrentSection(firstSectionId);
            }

            // Update TOC title to show search mode
            const sectionsWithMatches = Object.keys(sectionMatchData).length;
            if (sectionsWithMatches > 0) {
                tocTitle.textContent = ' Matching Sections';
            } else {
                tocTitle.textContent = ' No Matches Found';
            }

            // Update navigation controls
            if (allMatches.length > 0) {
                if (allMatches.length > 1) {
                    syncSearchNavVisibility(true);
                    updateNavigationButtonText();
                    highlightCurrentMatch();
                } else {
                    syncSearchNavVisibility(false);
                    updateNavigationButtonText();
                }
            } else {
                syncSearchNavVisibility(false);
            }

            // Re-attach collapsible listeners after content change
            attachCollapsibleListeners();
            updateHash('search');
        }

        // Note: updateSearchResultsMessage function removed - redundant with TOC badges

        // Search navigation - GLOBAL (traverse all matches)
        prevMatch.addEventListener('click', () => navigateMatches(-1));
        nextMatch.addEventListener('click', () => navigateMatches(1));
        prevMatchSticky.addEventListener('click', () => navigateMatches(-1));
        nextMatchSticky.addEventListener('click', () => navigateMatches(1));

        // Keyboard shortcut: / to focus search (focus appropriate input based on scroll)
        document.addEventListener('keydown', function(e) {
            if (e.key === '/' && !e.ctrlKey && !e.metaKey && !e.altKey) {
                // Don't trigger if user is typing in an input
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                    return;
                }
                e.preventDefault();

                // Focus the visible search input
                if (document.body.classList.contains('sticky-header-visible')) {
                    searchInputSticky.focus();
                } else {
                    searchInput.focus();
                }
            }
        });

        function navigateMatches(direction) {
            if (allMatches.length === 0) return;

            // Navigate globally through all matches
            currentMatchIndex = (currentMatchIndex + direction + allMatches.length) % allMatches.length;

            // Update which section contains the current match
            updateCurrentSectionFromMatch();

            // Update button text
            updateNavigationButtonText();

            // Highlight the current match
            highlightCurrentMatch();
        }

        function updateCurrentSectionFromMatch() {
            // Find which section contains the current match
            const currentMatch = allMatches[currentMatchIndex];
            if (!currentMatch) return;

            // Find the section element that contains this match
            let matchSection = currentMatch.closest('section');
            if (matchSection && matchSection.id) {
                const newSectionId = matchSection.id;

                // Only update if section changed
                if (currentSection !== newSectionId) {
                    // Remove previous active states
                    document.querySelectorAll('.toc a.viewing-matches').forEach(link => {
                        link.classList.remove('viewing-matches');
                    });
                    document.querySelectorAll('.toc-match-badge.active-section').forEach(badge => {
                        badge.classList.remove('active-section');
                    });

                    // Set new section
                    currentSection = newSectionId;

                    // Add active state to TOC
                    const tocLink = document.querySelector(`.toc a[href="#${newSectionId}"]`);
                    if (tocLink) {
                        tocLink.classList.add('viewing-matches');
                        const badge = tocLink.querySelector('.toc-match-badge');
                        if (badge) {
                            badge.classList.add('active-section');
                        }

                        // Scroll TOC to show active link
                        scrollTocToActiveLink(tocLink);
                    }
                }

                // Update section-specific match index
                if (sectionMatchData[newSectionId]) {
                    const sectionMatches = sectionMatchData[newSectionId].matches;
                    currentSectionMatchIndex = sectionMatches.indexOf(currentMatch);
                }
            }
        }

        function highlightCurrentMatch() {
            allMatches.forEach((match, index) => {
                if (index === currentMatchIndex) {
                    match.style.background = 'rgba(217, 119, 87, 0.7)';
                    match.style.fontWeight = 'bold';
                    match.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    match.style.background = 'rgba(217, 119, 87, 0.3)';
                    match.style.fontWeight = 'normal';
                }
            });
        }

        // Helper function to highlight text
        function highlightText(element, searchTerm) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );

            const nodesToReplace = [];
            let node;

            while (node = walker.nextNode()) {
                if (node.nodeValue.toLowerCase().includes(searchTerm)) {
                    nodesToReplace.push(node);
                }
            }

            nodesToReplace.forEach(node => {
                const parent = node.parentNode;
                if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') {
                    return;
                }

                const text = node.nodeValue;
                const lowerText = text.toLowerCase();
                const index = lowerText.indexOf(searchTerm);

                if (index !== -1) {
                    const before = text.substring(0, index);
                    const match = text.substring(index, index + searchTerm.length);
                    const after = text.substring(index + searchTerm.length);

                    const fragment = document.createDocumentFragment();

                    if (before) fragment.appendChild(document.createTextNode(before));

                    const mark = document.createElement('mark');
                    mark.style.background = 'rgba(217, 119, 87, 0.3)';
                    mark.style.padding = '2px 4px';
                    mark.style.borderRadius = '3px';
                    mark.textContent = match;
                    fragment.appendChild(mark);

                    if (after) fragment.appendChild(document.createTextNode(after));

                    parent.replaceChild(fragment, node);
                }
            });
        }

        // ========== COLLAPSIBLE SECTIONS ==========
        function attachCollapsibleListeners() {
            document.querySelectorAll('.collapsible-header').forEach(header => {
                header.removeEventListener('click', toggleCollapsible);
                header.addEventListener('click', toggleCollapsible);
            });
        }

        function toggleCollapsible() {
            this.parentElement.classList.toggle('open');
        }

        attachCollapsibleListeners();

        // ========== TOC COLLAPSIBLE HIERARCHY ==========
        function initializeTOCCollapse() {
            // Start all parent items in EXPANDED state (removed collapsed initialization)
            // Groups are now expanded by default so all links are accessible

            // Add click handlers to parent headers
            document.querySelectorAll('.toc-parent-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    // Don't toggle if clicking the actual link
                    if (e.target.tagName === 'A') {
                        return;
                    }

                    e.preventDefault();
                    const parent = this.closest('.toc-parent');
                    parent.classList.toggle('collapsed');
                });
            });
        }

        // Initialize collapsed TOC on page load
        initializeTOCCollapse();

        // ========== URL HASH NAVIGATION ==========
        function updateHash(section) {
            if (section) {
                window.history.pushState(null, null, '#' + section);
            } else {
                window.history.pushState(null, null, window.location.pathname);
            }
        }

        // Load hash on page load with sticky header offset
        if (window.location.hash) {
            setTimeout(() => {
                const target = document.querySelector(window.location.hash);
                if (target) {
                    // Scroll with sticky header offset
                    const stickyHeaderHeight = 70;
                    const additionalPadding = 20;
                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - stickyHeaderHeight - additionalPadding;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            }, 100);
        }

        // ========== KEYBOARD SHORTCUTS ==========
        const shortcutsModal = document.getElementById('shortcutsModal');
        const modalOverlay = document.getElementById('modalOverlay');
        const closeModal = document.getElementById('closeModal');

        document.addEventListener('keydown', function(e) {
            // Handle shortcuts when user is typing in an input
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                if (e.key === 'Escape') {
                    // Clear search but keep focus for immediate re-search
                    searchInput.value = '';
                    searchInputSticky.value = '';
                    syncSearchInputs(searchInput, searchInputSticky);
                    performContentSearch('');
                    // Don't blur - user stays in search mode
                }
                // Allow Enter/Shift+Enter for result navigation while in search
                if (e.key === 'Enter' && allMatches.length > 0) {
                    e.preventDefault();
                    if (e.shiftKey) {
                        navigateMatches(-1);  // Previous result
                    } else {
                        navigateMatches(1);   // Next result
                    }
                }
                return;
            }

            // Handle Ctrl/Cmd modifiers first
            if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k') {
                e.preventDefault();
                const targetInput = document.body.classList.contains('sticky-header-visible')
                    ? searchInputSticky
                    : searchInput;
                targetInput.focus();
                targetInput.select();
                return;
            }

            if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'f') {
                e.preventDefault();
                searchInput.focus();
                searchInput.select();
                return;
            }

            // Quick highlight shortcuts (Alt+1/2/3 or just 1/2/3)
            if ((e.altKey || (!e.ctrlKey && !e.metaKey)) && ['1', '2', '3'].includes(e.key)) {
                e.preventDefault();
                const selection = window.getSelection();
                const selectedText = selection.toString().trim();

                // Check if there's valid text selected
                if (selectedText.length >= 3) {
                    // Check if selection is within main content
                    const container = selection.anchorNode?.parentElement;
                    if (container && container.closest('.content')) {
                        // Set color based on key pressed
                        const colorMap = { '1': 'yellow', '2': 'green', '3': 'blue' };

                        // Access the text selection module's functions via window
                        if (window.quickHighlight) {
                            window.quickHighlight(colorMap[e.key]);
                        }
                    }
                }
                return;
            }

            switch(e.key.toLowerCase()) {
                case '/':
                    e.preventDefault();
                    searchInput.focus();
                    searchInput.select(); // Select existing text for easy replacement
                    break;
                case '?':
                    e.preventDefault();
                    shortcutsModal.classList.add('active');
                    modalOverlay.classList.add('active');
                    break;
                case 'd':
                    e.preventDefault();
                    toggleTheme();
                    break;
                case 't':
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    break;
                case 'j':
                    e.preventDefault();
                    window.scrollBy({ top: window.innerHeight * 0.8, behavior: 'smooth' });
                    break;
                case 'k':
                    e.preventDefault();
                    window.scrollBy({ top: -window.innerHeight * 0.8, behavior: 'smooth' });
                    break;
                case '[':
                    e.preventDefault();
                    const allSections = document.querySelectorAll('section[id]');
                    const currentPos = window.pageYOffset;
                    let prevSection = null;
                    for (let i = allSections.length - 1; i >= 0; i--) {
                        if (allSections[i].offsetTop < currentPos - 100) {
                            prevSection = allSections[i];
                            break;
                        }
                    }
                    if (prevSection) {
                        // Scroll with sticky header offset
                        const stickyHeaderHeight = 70;
                        const additionalPadding = 20;
                        const targetPosition = prevSection.getBoundingClientRect().top + window.pageYOffset - stickyHeaderHeight - additionalPadding;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                    break;
                case ']':
                    e.preventDefault();
                    const sections = document.querySelectorAll('section[id]');
                    const currentPosition = window.pageYOffset;
                    for (let section of sections) {
                        if (section.offsetTop > currentPosition + 100) {
                            // Scroll with sticky header offset
                            const stickyHeaderHeight = 70;
                            const additionalPadding = 20;
                            const targetPosition = section.getBoundingClientRect().top + window.pageYOffset - stickyHeaderHeight - additionalPadding;
                            window.scrollTo({
                                top: targetPosition,
                                behavior: 'smooth'
                            });
                            break;
                        }
                    }
                    break;
                case 'n':
                    e.preventDefault();
                    if (allMatches.length > 0) {
                        navigateMatches(1);
                    }
                    break;
                case 'p':
                    e.preventDefault();
                    if (allMatches.length > 0) {
                        navigateMatches(-1);
                    }
                    break;
                case 'escape':
                    shortcutsModal.classList.remove('active');
                    modalOverlay.classList.remove('active');
                    break;
            }
        });

        // Close modal
        closeModal.addEventListener('click', () => {
            shortcutsModal.classList.remove('active');
            modalOverlay.classList.remove('active');
        });

        modalOverlay.addEventListener('click', () => {
            shortcutsModal.classList.remove('active');
            modalOverlay.classList.remove('active');
        });

        // ========== FLOATING NAVIGATION CONTROLS ==========
        const backToTop = document.getElementById('backToTop');
        const floatingNavControls = document.getElementById('floatingNavControls');

        // Show/hide floating controls based on scroll position (100px threshold for earlier access)
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 100) {
                floatingNavControls.classList.add('visible');
            } else {
                floatingNavControls.classList.remove('visible');
            }
        });

        // Back to top functionality
        backToTop.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // ========== PROGRESS BAR ==========
        const progressBar = document.getElementById('progressBar');

        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            progressBar.style.width = scrolled + '%';
        });

        // ========== STICKY SEARCH BAR SHADOW & STICKY HEADER ==========
        const searchContainer = document.querySelector('.search-container');
        const stickyHeader = document.getElementById('stickyHeader');
        const stickyHeaderSection = document.getElementById('stickyHeaderSection');

        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 100) {
                searchContainer.classList.add('scrolled');
                document.body.classList.add('search-scrolled');
            } else {
                searchContainer.classList.remove('scrolled');
                document.body.classList.remove('search-scrolled');
            }

            // Show/hide sticky header
            if (window.pageYOffset > 200) {
                stickyHeader.classList.add('visible');
                document.body.classList.add('sticky-header-visible');
            } else {
                stickyHeader.classList.remove('visible');
                document.body.classList.remove('sticky-header-visible');
            }
        });

        // ========== ACTIVE TOC HIGHLIGHTING WITH AUTO-SCROLL ==========
        const tocLinks = document.querySelectorAll('.toc a');
        const tocContainer = document.querySelector('.toc');
        let lastActiveLink = null;
        let tocScrollTimeout = null;

        window.addEventListener('scroll', function() {
            // Only track active section when NOT in search mode
            const isSearchActive = searchInput.value.trim().length > 0;
            if (isSearchActive) {
                return; // Skip scroll-based tracking during search
            }

            let current = '';

            // Query sections dynamically to get fresh DOM references
            const sections = document.querySelectorAll('section[id]');

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            // First pass: Remove all active states and parent markers
            document.querySelectorAll('.toc-parent').forEach(parent => {
                parent.classList.remove('has-active-child');
            });

            tocLinks.forEach(link => {
                const wasActive = link.classList.contains('active');
                link.classList.remove('active');
                link.removeAttribute('aria-current');

                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                    link.setAttribute('aria-current', 'location');

                    // Update sticky header section text
                    stickyHeaderSection.textContent = link.textContent;

                    // If this link is inside a collapsed parent, expand it
                    const parentLi = link.closest('.toc-parent');
                    if (parentLi) {
                        if (parentLi.classList.contains('collapsed')) {
                            parentLi.classList.remove('collapsed');
                        }
                        parentLi.classList.add('has-active-child');
                    }

                    // Auto-scroll TOC if active link changed
                    if (!wasActive && link !== lastActiveLink) {
                        lastActiveLink = link;
                        scrollTocToActiveLink(link);
                    }
                }
            });

            // Update hash without triggering scroll
            if (current) {
                history.replaceState(null, null, '#' + current);
            }
        });

        // Function to auto-scroll TOC to keep active link in view
        function scrollTocToActiveLink(activeLink) {
            if (!activeLink || !tocContainer) return;

            clearTimeout(tocScrollTimeout);

            tocScrollTimeout = setTimeout(() => {
                const linkRect = activeLink.getBoundingClientRect();
                const tocRect = tocContainer.getBoundingClientRect();

                // Calculate if link is outside visible TOC area
                const tocScrollTop = tocContainer.scrollTop;
                const linkOffsetTop = activeLink.offsetTop;
                const tocVisibleHeight = tocContainer.clientHeight;

                // Check if link is outside visible area (with 60px padding)
                const isAbove = linkOffsetTop < (tocScrollTop + 60);
                const isBelow = (linkOffsetTop + activeLink.offsetHeight) > (tocScrollTop + tocVisibleHeight - 60);

                if (isAbove || isBelow) {
                    // Calculate target scroll position to center the active link
                    const targetScrollTop = linkOffsetTop - (tocVisibleHeight / 2) + (activeLink.offsetHeight / 2);

                    // Smooth scroll the TOC container
                    tocContainer.scrollTo({
                        top: targetScrollTop,
                        behavior: 'smooth'
                    });
                }
            }, 100); // Debounce to prevent excessive scrolling
        }

        // ========== TOC MANAGEMENT ==========
        const tocList = document.getElementById('tocList');
        const tocItems = tocList.querySelectorAll('li');

        // Store original TOC HTML
        let originalTocHTML = {};
        tocItems.forEach(item => {
            const link = item.querySelector('a');
            if (link) {
                originalTocHTML[link.textContent.trim()] = link.innerHTML;
            }
        });

        // Helper function to escape regex special characters
        function escapeRegex(string) {
            return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }

        // Note: filterTOCRealtime removed - TOC now filtered by content matches only via filterTOCByContentMatches()

        // ========== SMOOTH SCROLLING FOR TOC LINKS (With Section Switching) ==========
        document.querySelectorAll('.toc a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation(); // Ensure this takes priority

                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const sectionId = target.id;

                    // Check if we're in search mode with section matches
                    const isSearchActive = searchInput.value.trim().length > 0;
                    const hasSectionMatches = sectionMatchData[sectionId] && sectionMatchData[sectionId].matches.length > 0;

                    if (isSearchActive && hasSectionMatches) {
                        // Switch to this section's matches (don't clear search)

                        // Scroll to section start with sticky header offset
                        const stickyHeaderHeight = 70; // Match CSS height
                        const additionalPadding = 20; // Extra breathing room
                        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - stickyHeaderHeight - additionalPadding;

                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });

                        // Update global currentMatchIndex to first match in this section
                        const firstMatch = sectionMatchData[sectionId].matches[0];
                        if (firstMatch) {
                            currentMatchIndex = allMatches.indexOf(firstMatch);
                        }

                        // Update section tracking
                        setCurrentSection(sectionId);

                        // Update button text and highlight
                        updateNavigationButtonText();
                        highlightCurrentMatch();
                    } else {
                        // Normal navigation: clear search and scroll to section
                        searchInput.value = '';

                        // Reset content search
                        if (originalContent) {
                            content.innerHTML = originalContent;
                            attachCollapsibleListeners();
                        }

                        // Reset navigation controls
                        searchNav.classList.remove('active');
                        allMatches = [];

                        // Reset section data
                        sectionMatchData = {};
                        currentSection = null;
                        currentSectionMatchIndex = 0;
                        updateTOCMatchCounts();

                        // Restore full TOC and title
                        filterTOCByContentMatches(null);
                        tocTitle.textContent = ' Table of Contents';

                        // Scroll to section with sticky header offset
                        const stickyHeaderHeight = 70; // Match CSS height
                        const additionalPadding = 20; // Extra breathing room
                        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - stickyHeaderHeight - additionalPadding;

                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });

                        // Briefly highlight the TOC link to confirm navigation
                        anchor.style.transition = 'background-color 0.3s ease';
                        anchor.style.backgroundColor = 'var(--claude-active-bg)';
                        setTimeout(() => {
                            anchor.style.backgroundColor = '';
                        }, 600);
                    }
                }

                // Close mobile menu after clicking
                if (window.innerWidth <= 1024) {
                    toc.classList.remove('mobile-visible');
                    toc.classList.add('mobile-hidden');
                    mobileOverlay.classList.remove('active');
                }
            });
        });

        // ========== STRUCTURED NAVIGATION: FILTER TOC BY CONTENT MATCHES ==========
        function filterTOCByContentMatches(matchData) {
            // If matchData is null, show all sections (restore full TOC)
            if (!matchData || Object.keys(matchData).length === 0) {
                tocItems.forEach(item => {
                    item.style.display = '';
                    item.classList.remove('has-matches', 'highest-concentration');
                });

                // Re-collapse all parents when search cleared
                document.querySelectorAll('.toc-parent').forEach(parent => {
                    parent.classList.add('collapsed');
                    parent.classList.remove('has-active-child');
                });

                // Remove search-active class to show chevrons again
                tocContainer.classList.remove('search-active');

                return;
            }

            // Find section with highest match count
            let highestCount = 0;
            let highestSectionId = null;
            Object.keys(matchData).forEach(sectionId => {
                const count = matchData[sectionId].matches.length;
                if (count > highestCount) {
                    highestCount = count;
                    highestSectionId = sectionId;
                }
            });

            // Filter TOC to show only sections with matches
            tocItems.forEach(item => {
                const link = item.querySelector('a');
                if (!link) return;

                const href = link.getAttribute('href');
                if (!href) return;

                const sectionId = href.substring(1); // Remove '#'

                if (matchData[sectionId]) {
                    // Section has matches - show it
                    item.style.display = '';
                    item.classList.add('has-matches');

                    // Highlight section with highest concentration
                    if (sectionId === highestSectionId) {
                        item.classList.add('highest-concentration');
                    } else {
                        item.classList.remove('highest-concentration');
                    }
                } else {
                    // Section has no matches - hide it
                    item.style.display = 'none';
                    item.classList.remove('has-matches', 'highest-concentration');
                }
            });

            // Expand all parents during search for full visibility
            document.querySelectorAll('.toc-parent').forEach(parent => {
                parent.classList.remove('collapsed');
            });

            // Add search-active class to TOC to hide chevrons
            tocContainer.classList.add('search-active');

            // Section count is now shown in TOC title, not separate indicator
        }

        // ========== STRUCTURED NAVIGATION: UPDATE TOC MATCH COUNTS ==========
        function updateTOCMatchCounts() {
            // Remove all existing badges first
            document.querySelectorAll('.toc-match-badge').forEach(badge => badge.remove());

            // Add badges for sections with matches
            Object.keys(sectionMatchData).forEach(sectionId => {
                const data = sectionMatchData[sectionId];
                const matchCount = data.matches.length;

                if (matchCount > 0) {
                    const tocLink = document.querySelector(`.toc a[href="#${sectionId}"]`);
                    if (tocLink) {
                        const badge = document.createElement('span');
                        badge.className = 'toc-match-badge';
                        badge.textContent = matchCount;
                        badge.setAttribute('data-section-id', sectionId);

                        // Mark as active if this is the current section
                        if (currentSection === sectionId) {
                            badge.classList.add('active-section');
                            tocLink.classList.add('viewing-matches');
                        }

                        tocLink.appendChild(badge);
                    }
                }
            });
        }

        // ========== STRUCTURED NAVIGATION: SET CURRENT SECTION ==========
        function setCurrentSection(sectionId) {
            // Remove previous active states
            document.querySelectorAll('.toc a.viewing-matches').forEach(link => {
                link.classList.remove('viewing-matches');
            });
            document.querySelectorAll('.toc-match-badge.active-section').forEach(badge => {
                badge.classList.remove('active-section');
            });

            // Set new current section
            currentSection = sectionId;
            currentSectionMatchIndex = 0;

            if (sectionId && sectionMatchData[sectionId]) {
                // Add active state to TOC
                const tocLink = document.querySelector(`.toc a[href="#${sectionId}"]`);
                if (tocLink) {
                    tocLink.classList.add('viewing-matches');
                    const badge = tocLink.querySelector('.toc-match-badge');
                    if (badge) {
                        badge.classList.add('active-section');
                    }
                }

                // Update dimming on matches
                updateMatchDimming();

                // Update navigation button text
                updateNavigationButtonText();
            }
        }

        // ========== STRUCTURED NAVIGATION: UPDATE MATCH DIMMING ==========
        function updateMatchDimming() {
            // No dimming - all matches are equally visible for global navigation
            // This function is kept for compatibility but does nothing
            return;
        }

        // ========== STRUCTURED NAVIGATION: UPDATE NAVIGATION BUTTON TEXT ==========
        function updateNavigationButtonText() {
            if (allMatches.length === 0) {
                prevMatch.textContent = ' Prev';
                nextMatch.textContent = 'Next ';
                return;
            }

            // Show global position out of total matches
            const total = allMatches.length;
            const current = currentMatchIndex + 1;

            prevMatch.textContent = ` Prev (${current}/${total})`;
            nextMatch.textContent = `Next (${current}/${total}) `;
        }

        // ========== COPY CODE FUNCTIONALITY ==========
        function copyCode(button) {
            const pre = button.parentElement;
            const code = pre.querySelector('code');
            const text = code.textContent;

            navigator.clipboard.writeText(text).then(() => {
                button.textContent = 'Copied!';
                button.style.background = 'var(--success)';
                button.style.color = 'white';

                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.style.background = '';
                    button.style.color = '';
                }, 2000);
            });
        }

        // ========== INTERACTIVE CODE EXAMPLES FUNCTIONALITY ==========

        // Initialize all interactive prompt demos
        function initInteractivePrompts() {
            const prompts = document.querySelectorAll('.interactive-prompt-demo');
            prompts.forEach(demo => {
                const button = demo.querySelector('.try-prompt-btn');
                if (button) {
                    button.addEventListener('click', function() {
                        const textarea = demo.querySelector('textarea');
                        const outputSection = demo.querySelector('.simulated-output');

                        if (textarea && outputSection) {
                            // Simulate "processing"
                            button.textContent = 'Processing...';
                            button.disabled = true;

                            setTimeout(() => {
                                // Show the output (it's pre-populated in HTML)
                                outputSection.style.display = 'block';
                                button.textContent = 'Try Again';
                                button.disabled = false;

                                // Scroll to output
                                outputSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }, 800);
                        }
                    });
                }
            });
        }

        // Copy code from interactive examples
        function copyInteractiveCode(element, sourceType) {
            let text = '';

            if (sourceType === 'textarea') {
                text = element.value;
            } else if (sourceType === 'output') {
                text = element.textContent;
            }

            if (text) {
                navigator.clipboard.writeText(text).then(() => {
                    // Show toast notification
                    showToast(' Copied to clipboard!');
                });
            }
        }

        // Create code comparison dynamically
        function createCodeComparison(beforeCode, afterCode, beforeLabel, afterLabel, note) {
            return `
                <div class="code-comparison">
                    <div class="code-before">
                        <div class="comparison-label"> ${beforeLabel}</div>
                        <pre><code>${beforeCode}</code></pre>
                    </div>
                    <div class="code-after">
                        <div class="comparison-label"> ${afterLabel}</div>
                        <pre><code>${afterCode}</code></pre>
                    </div>
                    ${note ? `<div class="comparison-note">${note}</div>` : ''}
                </div>
            `;
        }

        // Create terminal demo dynamically
        function createTerminalDemo(lines) {
            const linesHTML = lines.map(line => {
                const className = line.type || 'output';
                const content = line.content;
                return `<div class="terminal-line ${className}">${content}</div>`;
            }).join('');

            return `
                <div class="terminal-demo">
                    <div class="terminal-header">
                        <span class="terminal-icon"></span>
                        <span class="terminal-title">Terminal</span>
                    </div>
                    <div class="terminal-body">
                        ${linesHTML}
                    </div>
                </div>
            `;
        }

        // Create input/output flow
        function createIOFlow(input, output, inputLabel, outputLabel) {
            return `
                <div class="io-flow">
                    <div class="io-input">
                        <div class="io-label">${inputLabel || 'INPUT'}</div>
                        <div class="io-content">${input}</div>
                    </div>
                    <div class="io-arrow"></div>
                    <div class="io-output">
                        <div class="io-label">${outputLabel || 'OUTPUT'}</div>
                        <div class="io-content">${output}</div>
                    </div>
                </div>
            `;
        }

        // Add copy buttons to all code blocks that don't have them
        function addUniversalCopyButtons() {
            const codeBlocks = document.querySelectorAll('pre:has(code)');

            codeBlocks.forEach(pre => {
                // Skip if it already has a copy button
                if (pre.querySelector('.copy-btn')) return;

                // Skip if it's inside a comparison (handled separately)
                if (pre.closest('.code-comparison')) return;

                // Create copy button
                const button = document.createElement('button');
                button.className = 'copy-btn';
                button.textContent = 'Copy';
                button.onclick = function() { copyCode(this); };

                pre.appendChild(button);
            });
        }

        // ========== SHARE SECTION FUNCTIONALITY ==========
        function initShareButtons() {
            // Add share buttons to all h2 and h3 headings with IDs
            const headings = document.querySelectorAll('.content h2[id], .content h3[id]');

            headings.forEach(heading => {
                // Create share button
                const shareBtn = document.createElement('button');
                shareBtn.className = 'share-btn';
                shareBtn.setAttribute('aria-label', 'Share this section');
                shareBtn.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                    </svg>
                    <span>Share</span>
                `;

                // Add click handler
                shareBtn.addEventListener('click', async (e) => {
                    e.preventDefault();
                    const sectionId = heading.getAttribute('id');
                    const sectionTitle = heading.textContent.replace('Share', '').trim();
                    const url = `${window.location.origin}${window.location.pathname}#${sectionId}`;

                    // Try Web Share API first (mobile devices)
                    if (navigator.share) {
                        try {
                            await navigator.share({
                                title: `Claude Code Guide - ${sectionTitle}`,
                                text: `Check out this section: ${sectionTitle}`,
                                url: url
                            });
                            return;
                        } catch (err) {
                            // User cancelled or error occurred, fall back to clipboard
                            if (err.name !== 'AbortError') {
                                console.log('Share failed:', err);
                            }
                        }
                    }

                    // Fallback to clipboard
                    try {
                        await navigator.clipboard.writeText(url);

                        // Visual feedback
                        const originalHTML = shareBtn.innerHTML;
                        shareBtn.classList.add('copied');
                        shareBtn.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                            <span>Copied!</span>
                        `;

                        setTimeout(() => {
                            shareBtn.classList.remove('copied');
                            shareBtn.innerHTML = originalHTML;
                        }, 2000);
                    } catch (err) {
                        console.error('Failed to copy:', err);
                        // Fallback for older browsers
                        const textArea = document.createElement('textarea');
                        textArea.value = url;
                        textArea.style.position = 'fixed';
                        textArea.style.opacity = '0';
                        document.body.appendChild(textArea);
                        textArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textArea);

                        // Still show feedback
                        const originalHTML = shareBtn.innerHTML;
                        shareBtn.classList.add('copied');
                        shareBtn.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                            <span>Copied!</span>
                        `;

                        setTimeout(() => {
                            shareBtn.classList.remove('copied');
                            shareBtn.innerHTML = originalHTML;
                        }, 2000);
                    }
                });

                // Append to heading
                heading.appendChild(shareBtn);
            });
        }

        // Initialize share buttons on page load
        initShareButtons();

        // Initialize interactive code examples
        addUniversalCopyButtons();
        initInteractivePrompts();

        // ========== READING PROGRESS (LocalStorage) ==========
        // Save scroll position
        window.addEventListener('beforeunload', function() {
            localStorage.setItem('scrollPosition', window.scrollY);
        });

        // Restore scroll position on load (only if no hash)
        if (!window.location.hash) {
            const savedPosition = localStorage.getItem('scrollPosition');
            if (savedPosition) {
                setTimeout(() => {
                    window.scrollTo(0, parseInt(savedPosition));
                }, 100);
            }
        }

        console.log('%c Claude Code Guide', 'font-size: 20px; font-weight: bold; color: #C55A35;');
        console.log('%cKeyboard shortcuts: Press ? to see all shortcuts', 'font-size: 12px; color: #5A5A5A;');

        // ========== TEXT SELECTION MENU ==========
        (function() {
            const selectionMenu = document.getElementById('textSelectionMenu');
            const noteModalOverlay = document.getElementById('noteModalOverlay');
            const noteTextPreview = document.getElementById('noteTextPreview');
            const noteTextarea = document.getElementById('noteTextarea');
            const noteModalClose = document.getElementById('noteModalClose');
            const noteCancelBtn = document.getElementById('noteCancelBtn');
            const noteSaveBtn = document.getElementById('noteSaveBtn');
            const selectionToast = document.getElementById('selectionToast');

            const highlightBtn = document.getElementById('highlightBtn');
            const searchBtn = document.getElementById('searchBtn');
            const noteBtn = document.getElementById('noteBtn');
            const copyBtn = document.getElementById('copyBtn');
            const shareBtn = document.getElementById('shareBtn');

            let currentSelection = null;
            let currentColor = 'yellow';
            let selectionTimeout = null;

            // Load highlights and notes from localStorage
            function loadHighlights() {
                const saved = localStorage.getItem('textHighlights');
                return saved ? JSON.parse(saved) : [];
            }

            function saveHighlights(highlights) {
                localStorage.setItem('textHighlights', JSON.stringify(highlights));
                checkStorageUsage(); // Monitor storage after each save
            }

            // Monitor localStorage usage and warn user when approaching limit
            function checkStorageUsage() {
                try {
                    // Calculate total localStorage usage
                    let totalSize = 0;
                    for (let key in localStorage) {
                        if (localStorage.hasOwnProperty(key)) {
                            totalSize += localStorage[key].length + key.length;
                        }
                    }

                    // localStorage limit is approximately 5MB (5 * 1024 * 1024 bytes)
                    const limitBytes = 5 * 1024 * 1024;
                    const usagePercent = (totalSize / limitBytes) * 100;

                    // Warn at 80% capacity
                    if (usagePercent > 80) {
                        const highlightsSize = (localStorage.getItem('textHighlights') || '').length;
                        const highlightsMB = (highlightsSize / (1024 * 1024)).toFixed(2);

                        showToast(` Storage ${usagePercent.toFixed(0)}% full (${highlightsMB}MB). Export your notes!`);
                        console.warn(`localStorage usage: ${usagePercent.toFixed(1)}% (${(totalSize / 1024).toFixed(1)}KB / ${(limitBytes / 1024).toFixed(0)}KB)`);
                    }
                } catch (e) {
                    console.error('Storage check failed:', e);
                }
            }

            // Check if a selection range intersects with a highlight element
            function doesRangeIntersect(selectionRange, highlightElement) {
                try {
                    // Create a range for the highlight element
                    const highlightRange = document.createRange();
                    highlightRange.selectNodeContents(highlightElement);

                    // Check if ranges intersect
                    // Ranges intersect if: start of one is before end of other, and vice versa
                    const comparison = selectionRange.compareBoundaryPoints(Range.START_TO_END, highlightRange);
                    const comparison2 = selectionRange.compareBoundaryPoints(Range.END_TO_START, highlightRange);

                    // If selection starts before highlight ends AND selection ends after highlight starts
                    return comparison >= 0 && comparison2 <= 0;
                } catch (e) {
                    console.error('Range intersection check failed:', e);
                    return false;
                }
            }

            // Find all highlights that overlap with the current selection
            function findOverlappingHighlights(selectedText, range) {
                const highlights = document.querySelectorAll('.user-highlight');
                const overlapping = [];

                for (const highlight of highlights) {
                    const highlightText = highlight.textContent.trim();
                    const selectedTextTrimmed = selectedText.trim();

                    // Check 1: Exact text match
                    if (highlightText === selectedTextTrimmed) {
                        overlapping.push({
                            element: highlight,
                            id: highlight.dataset.highlightId,
                            type: 'exact',
                            text: highlightText
                        });
                    }
                    // Check 2: Selection fully contains the highlight text
                    else if (selectedTextTrimmed.includes(highlightText)) {
                        overlapping.push({
                            element: highlight,
                            id: highlight.dataset.highlightId,
                            type: 'contains',
                            text: highlightText
                        });
                    }
                    // Check 3: Highlight contains the selection
                    else if (highlightText.includes(selectedTextTrimmed)) {
                        overlapping.push({
                            element: highlight,
                            id: highlight.dataset.highlightId,
                            type: 'contained-by',
                            text: highlightText
                        });
                    }
                    // Check 4: Range-based intersection (for complex overlaps)
                    else if (doesRangeIntersect(range, highlight)) {
                        overlapping.push({
                            element: highlight,
                            id: highlight.dataset.highlightId,
                            type: 'partial',
                            text: highlightText
                        });
                    }
                }

                return overlapping;
            }

            // Show toast notification
            function showToast(message) {
                selectionToast.textContent = message;
                selectionToast.classList.add('visible');
                setTimeout(() => {
                    selectionToast.classList.remove('visible');
                }, 2000);
            }

            // Position menu above selection
            function positionMenu(selection) {
                const range = selection.getRangeAt(0);
                const rect = range.getBoundingClientRect();
                const menuHeight = 60; // Approximate menu height
                const menuWidth = 280; // Approximate menu width
                const padding = 15;

                let top = rect.top + window.scrollY - menuHeight - 10;
                let left = rect.left + (rect.width / 2) - (menuWidth / 2);

                // Viewport boundary detection
                if (top < window.scrollY + padding) {
                    // Too close to top, position below
                    top = rect.bottom + window.scrollY + 10;
                }

                if (left < padding) {
                    left = padding;
                } else if (left + menuWidth > window.innerWidth - padding) {
                    left = window.innerWidth - menuWidth - padding;
                }

                selectionMenu.style.top = `${top}px`;
                selectionMenu.style.left = `${left}px`;
            }

            // Show selection menu
            function showSelectionMenu() {
                const selection = window.getSelection();
                const selectedText = selection.toString().trim();

                // FR-4: Minimum 3 characters
                if (selectedText.length < 3) {
                    hideSelectionMenu();
                    return;
                }

                // Check if selection is within main content (not in TOC or header)
                const container = selection.anchorNode?.parentElement;
                if (!container || !container.closest('.content')) {
                    hideSelectionMenu();
                    return;
                }

                const range = selection.getRangeAt(0).cloneRange();

                currentSelection = {
                    text: selectedText,
                    range: range,
                    selection: selection
                };

                // Check for overlapping highlights to provide visual feedback
                const overlapping = findOverlappingHighlights(selectedText, range);
                const highlightBtn = document.getElementById('highlightBtn');

                if (overlapping.length > 0) {
                    const exactMatch = overlapping.find(h => h.type === 'exact');
                    const containedBy = overlapping.find(h => h.type === 'contained-by');

                    if (exactMatch || containedBy) {
                        // Exact match or selection inside highlight: indicate removal
                        highlightBtn.setAttribute('data-tooltip', 'Remove highlight');
                        highlightBtn.style.opacity = '0.8';
                    } else {
                        // Partial overlap: indicate potential conflict
                        highlightBtn.setAttribute('data-tooltip', 'Highlight (overlaps existing)');
                        highlightBtn.style.opacity = '1';
                    }
                } else {
                    // No overlap: standard highlight
                    highlightBtn.setAttribute('data-tooltip', 'Highlight');
                    highlightBtn.style.opacity = '1';
                }

                positionMenu(selection);
                selectionMenu.classList.add('visible');
            }

            // Hide selection menu
            function hideSelectionMenu() {
                selectionMenu.classList.remove('visible');

                // Only clear currentSelection if note modal is NOT open
                // (if modal is open, we need to preserve selection for saving)
                const modalIsOpen = noteModalOverlay.classList.contains('visible');
                if (!modalIsOpen) {
                    currentSelection = null;
                }

                // Reset highlight button state
                const highlightBtn = document.getElementById('highlightBtn');
                if (highlightBtn) {
                    highlightBtn.setAttribute('data-tooltip', 'Highlight');
                    highlightBtn.style.opacity = '1';
                }
            }

            // Highlight functionality with smart toggle
            function highlightText() {
                if (!currentSelection) return;

                const range = currentSelection.range;
                const selectedText = currentSelection.text;

                // Find all overlapping highlights using advanced detection
                const overlapping = findOverlappingHighlights(selectedText, range);

                // Decision logic based on overlap type
                if (overlapping.length > 0) {
                    // Check if there's an exact match
                    const exactMatch = overlapping.find(h => h.type === 'exact');

                    if (exactMatch) {
                        // EXACT MATCH: Toggle off (remove highlight)
                        removeHighlight(exactMatch);
                        showToast(' Highlight removed');
                    } else if (overlapping.length === 1 && overlapping[0].type === 'contained-by') {
                        // Selection is INSIDE an existing highlight: Remove the parent highlight
                        removeHighlight(overlapping[0]);
                        showToast(' Highlight removed');
                    } else if (overlapping.some(h => h.type === 'contains' || h.type === 'partial')) {
                        // PARTIAL OVERLAP: For Phase 1, warn user and create new highlight anyway
                        // This prevents accidental overwrites while still allowing intentional overlaps
                        showToast(' Overlaps existing highlight - creating new one');
                        createNewHighlight(range, selectedText);
                    } else {
                        // Multiple overlaps or complex case: default to new highlight
                        createNewHighlight(range, selectedText);
                    }
                } else {
                    // NO OVERLAP: Create new highlight (standard behavior)
                    createNewHighlight(range, selectedText);
                }

                hideSelectionMenu();
                window.getSelection().removeAllRanges();
            }

            // Helper: Remove a highlight from DOM and storage
            function removeHighlight(highlightData) {
                const element = highlightData.element;
                const highlightId = highlightData.id;

                // Remove from DOM
                const textNode = document.createTextNode(element.textContent);
                element.parentNode.replaceChild(textNode, element);

                // Remove from localStorage using ID
                const highlights = loadHighlights();
                const index = highlightId ?
                    highlights.findIndex(h => h.id == highlightId) :
                    highlights.findIndex(h => h.text.includes(highlightData.text.substring(0, 30)));

                if (index !== -1) {
                    highlights.splice(index, 1);
                    saveHighlights(highlights);
                }

                // Refresh sidebar
                if (window.notesSidebarRefresh) {
                    window.notesSidebarRefresh();
                }
            }

            // Helper: Create a new highlight
            function createNewHighlight(range, selectedText) {
                const span = document.createElement('span');
                span.className = `user-highlight highlight-${currentColor}`;
                span.textContent = selectedText;

                try {
                    range.deleteContents();
                    range.insertNode(span);

                    // Save to localStorage
                    const highlights = loadHighlights();
                    const newHighlight = {
                        id: Date.now() + Math.random(),
                        text: selectedText,
                        color: currentColor,
                        timestamp: Date.now()
                    };
                    highlights.push(newHighlight);
                    saveHighlights(highlights);

                    // Store ID on the DOM element for easy lookup
                    span.dataset.highlightId = newHighlight.id;

                    showToast(' Text highlighted');

                    // Refresh sidebar
                    if (window.notesSidebarRefresh) {
                        window.notesSidebarRefresh();
                    }
                } catch (e) {
                    console.error('Highlight error:', e);
                    showToast(' Could not highlight text');
                }
            }

            // Quick highlight via keyboard shortcut (exposed globally)
            window.quickHighlight = function(color) {
                const selection = window.getSelection();
                const selectedText = selection.toString().trim();

                // Validate selection
                if (selectedText.length < 3) {
                    showToast(' Select at least 3 characters');
                    return;
                }

                // Check if selection is within main content
                const container = selection.anchorNode?.parentElement;
                if (!container || !container.closest('.content')) {
                    showToast(' Select text in main content area');
                    return;
                }

                try {
                    const range = selection.getRangeAt(0).cloneRange();

                    // Set the color
                    currentColor = color;

                    // Find overlapping highlights
                    const overlapping = findOverlappingHighlights(selectedText, range);

                    // If exact match exists, remove it instead
                    const exactMatch = overlapping.find(h => h.type === 'exact');
                    if (exactMatch) {
                        removeHighlight(exactMatch);
                        showToast(` Highlight removed`);
                    } else {
                        // Create new highlight
                        createNewHighlight(range, selectedText);
                        const colorEmoji = { yellow: '', green: '', blue: '' };
                        showToast(`${colorEmoji[color]} Highlighted in ${color}`);
                    }

                    // Clear selection
                    window.getSelection().removeAllRanges();
                } catch (e) {
                    console.error('Quick highlight error:', e);
                    showToast(' Could not highlight text');
                }
            };

            // Search functionality
            function searchText() {
                if (!currentSelection) return;

                const searchInput = document.getElementById('searchInput');
                searchInput.value = currentSelection.text;
                performContentSearch(currentSelection.text);

                // Scroll to search box
                searchInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
                searchInput.focus();

                showToast('Searching...');
                hideSelectionMenu();
            }

            // Note functionality
            function openNoteModal() {
                if (!currentSelection) return;

                noteTextPreview.textContent = `"${currentSelection.text}"`;
                noteTextarea.value = '';
                noteModalOverlay.classList.add('visible');
                noteTextarea.focus();

                // Hide the selection menu UI but DON'T clear currentSelection
                // (we need it to save the note)
                selectionMenu.classList.remove('visible');

                // Reset highlight button state
                const highlightBtn = document.getElementById('highlightBtn');
                if (highlightBtn) {
                    highlightBtn.setAttribute('data-tooltip', 'Highlight');
                    highlightBtn.style.opacity = '1';
                }
            }

            function closeNoteModal() {
                noteModalOverlay.classList.remove('visible');
                noteTextarea.value = '';

                // Clear selection data when modal closes
                currentSelection = null;
                window.getSelection().removeAllRanges();
            }

            function saveNote() {
                const noteText = noteTextarea.value.trim();

                if (!noteText) {
                    showToast(' Please enter a note');
                    return; // Don't close modal - let user try again
                }

                if (!currentSelection) {
                    showToast(' Selection lost - please try again');
                    closeNoteModal();
                    return;
                }

                // Check if editing existing note
                const editItemId = noteModalOverlay.dataset.editItemId;

                if (editItemId !== undefined && editItemId !== '') {
                    // Editing existing note
                    const highlights = loadHighlights();
                    const index = highlights.findIndex(h => h.id == editItemId);
                    if (index !== -1) {
                        highlights[index].note = noteText;
                        saveHighlights(highlights);
                        showToast('Note updated');

                        // Trigger sidebar refresh if it exists
                        if (window.notesSidebarRefresh) {
                            window.notesSidebarRefresh();
                        }
                    }
                    delete noteModalOverlay.dataset.editItemId;
                } else {
                    // Creating new note with highlight
                    const highlights = loadHighlights();
                    const newHighlight = {
                        id: Date.now() + Math.random(),
                        text: currentSelection.text,
                        color: currentColor,
                        note: noteText,
                        timestamp: Date.now()
                    };
                    highlights.push(newHighlight);
                    saveHighlights(highlights);

                    // Highlight the text in DOM directly (don't call highlightText() as currentSelection will be cleared)
                    const range = currentSelection.range;
                    const span = document.createElement('span');
                    span.className = `user-highlight highlight-${currentColor}`;
                    span.textContent = currentSelection.text;
                    span.dataset.highlightId = newHighlight.id;

                    try {
                        range.deleteContents();
                        range.insertNode(span);
                    } catch (e) {
                        console.error('Highlight error:', e);
                    }

                    showToast('Note saved');

                    // Trigger sidebar refresh if it exists
                    if (window.notesSidebarRefresh) {
                        window.notesSidebarRefresh();
                    }
                }

                closeNoteModal();
            }

            // Copy functionality
            async function copyText() {
                if (!currentSelection) return;

                try {
                    await navigator.clipboard.writeText(currentSelection.text);
                    showToast('Copied to clipboard');
                } catch (err) {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = currentSelection.text;
                    textArea.style.position = 'fixed';
                    textArea.style.opacity = '0';
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        showToast('Copied to clipboard');
                    } catch (e) {
                        showToast('Failed to copy');
                    }
                    document.body.removeChild(textArea);
                }

                hideSelectionMenu();
            }

            // Share functionality
            async function shareSelection() {
                if (!currentSelection) return;

                // Generate unique ID from text and create anchor
                const id = 'selection-' + btoa(currentSelection.text.substring(0, 20)).replace(/[^a-zA-Z0-9]/g, '');
                const url = `${window.location.origin}${window.location.pathname}#${id}`;

                try {
                    await navigator.clipboard.writeText(url);
                    showToast('Link copied to clipboard');
                } catch (err) {
                    showToast('Failed to copy link');
                }

                hideSelectionMenu();
            }

            // Event listeners
            document.addEventListener('mouseup', function(e) {
                // Don't show menu if clicking on menu itself
                if (selectionMenu.contains(e.target)) return;

                // Debounce to prevent flickering
                clearTimeout(selectionTimeout);
                selectionTimeout = setTimeout(showSelectionMenu, 200);
            });

            // Hide menu on scroll (FR-2)
            let scrollTimeout;
            window.addEventListener('scroll', function() {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    if (selectionMenu.classList.contains('visible')) {
                        hideSelectionMenu();
                    }
                }, 100);
            }, { passive: true });

            // Hide menu on click outside (FR-2)
            document.addEventListener('click', function(e) {
                if (!selectionMenu.contains(e.target) &&
                    !noteModalOverlay.contains(e.target)) {
                    hideSelectionMenu();
                }
            });

            // ESC key to close menu (FR-2)
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    hideSelectionMenu();
                    closeNoteModal();
                }
            });

            // Button click handlers
            highlightBtn.addEventListener('click', highlightText);
            searchBtn.addEventListener('click', searchText);
            noteBtn.addEventListener('click', openNoteModal);
            copyBtn.addEventListener('click', copyText);
            shareBtn.addEventListener('click', shareSelection);

            // Note modal handlers
            noteModalClose.addEventListener('click', closeNoteModal);
            noteCancelBtn.addEventListener('click', closeNoteModal);
            noteSaveBtn.addEventListener('click', saveNote);

            // Close modal on overlay click
            noteModalOverlay.addEventListener('click', function(e) {
                if (e.target === noteModalOverlay) {
                    closeNoteModal();
                }
            });

            // Mobile detection - allow native selection on touch devices (UX-4)
            if ('ontouchstart' in window) {
                console.log('Touch device detected - native selection menu will be prioritized');
            }

            // Restore highlights on page load and migrate old data
            function restoreHighlights() {
                let highlights = loadHighlights();
                if (highlights.length === 0) return;

                // Migration: Add IDs to highlights that don't have them
                let needsSave = false;
                highlights = highlights.map(highlight => {
                    if (!highlight.id) {
                        needsSave = true;
                        return {
                            ...highlight,
                            id: Date.now() + Math.random()
                        };
                    }
                    return highlight;
                });

                // Save migrated data
                if (needsSave) {
                    saveHighlights(highlights);
                }

                // Re-apply highlights to DOM
                const content = document.querySelector('.content');
                if (!content) return;

                highlights.forEach(highlight => {
                    const searchText = highlight.text;
                    const searchLength = searchText.length;

                    // Use TreeWalker to find text nodes
                    const walker = document.createTreeWalker(
                        content,
                        NodeFilter.SHOW_TEXT,
                        {
                            acceptNode: function(node) {
                                // Skip if already inside a highlight
                                if (node.parentElement.classList.contains('user-highlight')) {
                                    return NodeFilter.FILTER_REJECT;
                                }
                                // Skip script and style tags
                                const parent = node.parentElement;
                                if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') {
                                    return NodeFilter.FILTER_REJECT;
                                }
                                return NodeFilter.FILTER_ACCEPT;
                            }
                        },
                        false
                    );

                    let node;
                    while (node = walker.nextNode()) {
                        const text = node.textContent;
                        const index = text.indexOf(searchText);

                        if (index !== -1) {
                            try {
                                // Split the text node and wrap the matching part
                                const range = document.createRange();
                                range.setStart(node, index);
                                range.setEnd(node, index + searchLength);

                                const span = document.createElement('span');
                                span.className = `user-highlight highlight-${highlight.color || 'yellow'}`;
                                span.dataset.highlightId = highlight.id;

                                range.surroundContents(span);

                                // Break after first match to avoid duplicates
                                break;
                            } catch (e) {
                                console.warn('Could not restore highlight:', searchText.substring(0, 30), e);
                            }
                        }
                    }
                });

                console.log(` Restored ${highlights.length} highlights from storage`);
            }

            // Run restoration on page load
            restoreHighlights();

            // Check storage usage on page load
            checkStorageUsage();

            console.log(' Text selection menu initialized');
        })();

        // ========== NOTES & HIGHLIGHTS SIDEBAR ==========
        (function() {
            const sidebar = document.getElementById('notesSidebar');
            const sidebarToggle = document.getElementById('notesSidebarToggle');
            const sidebarClose = document.getElementById('notesSidebarClose');
            const sidebarContent = document.getElementById('notesSidebarContent');
            const exportBtn = document.getElementById('exportNotesBtn');
            const clearAllBtn = document.getElementById('clearAllBtn');

            const sidebarCount = document.getElementById('notesSidebarCount');
            const toggleBadge = document.getElementById('notesSidebarToggleBadge');
            const countAll = document.getElementById('countAll');
            const countHighlights = document.getElementById('countHighlights');
            const countNotes = document.getElementById('countNotes');

            const tabs = document.querySelectorAll('.notes-sidebar-tab');
            let currentTab = 'all';

            // Toggle sidebar
            function toggleSidebar() {
                sidebar.classList.toggle('open');
                const isOpen = sidebar.classList.contains('open');

                // Toggle body class for layout shifting
                if (isOpen) {
                    document.body.classList.add('sidebar-open');
                } else {
                    document.body.classList.remove('sidebar-open');
                }

                localStorage.setItem('notesSidebarOpen', isOpen);

                if (isOpen) {
                    renderItems();
                }
            }

            // Load saved state - default to closed
            const savedState = localStorage.getItem('notesSidebarOpen');

            // If no saved state, set default to closed
            if (savedState === null) {
                localStorage.setItem('notesSidebarOpen', 'false');
            }

            // Only open if explicitly saved as open
            if (savedState === 'true') {
                sidebar.classList.add('open');
                document.body.classList.add('sidebar-open'); // Add body class for layout
                renderItems();
            }

            // Format time ago
            function timeAgo(timestamp) {
                const seconds = Math.floor((Date.now() - timestamp) / 1000);

                if (seconds < 60) return 'Just now';
                if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;
                if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;
                if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;
                return new Date(timestamp).toLocaleDateString();
            }

            // Get section name from highlight
            function getSectionName(text) {
                // Try to find the section by searching for the text in the document
                const sections = document.querySelectorAll('.content section[id]');
                for (const section of sections) {
                    if (section.textContent.includes(text.substring(0, 50))) {
                        const heading = section.querySelector('h2');
                        if (heading) {
                            return heading.textContent.trim();
                        }
                    }
                }
                return 'Unknown Section';
            }

            // Render items
            function renderItems() {
                const highlights = JSON.parse(localStorage.getItem('textHighlights') || '[]');

                // Update counts
                const notesCount = highlights.filter(h => h.note).length;
                const highlightsCount = highlights.length;

                sidebarCount.textContent = highlightsCount;
                toggleBadge.textContent = highlightsCount;
                countAll.textContent = highlightsCount;
                countHighlights.textContent = highlightsCount - notesCount;
                countNotes.textContent = notesCount;

                // Filter items
                let filteredItems = highlights;

                if (currentTab === 'highlights') {
                    filteredItems = highlights.filter(h => !h.note);
                } else if (currentTab === 'notes') {
                    filteredItems = highlights.filter(h => h.note);
                }

                // Sort by timestamp (newest first)
                filteredItems.sort((a, b) => b.timestamp - a.timestamp);

                // Render
                if (filteredItems.length === 0) {
                    sidebarContent.innerHTML = `
                        <div class="notes-sidebar-empty">
                            <div class="notes-sidebar-empty-icon"></div>
                            <p>${currentTab === 'all' ? 'No highlights or notes yet.<br>Select some text to get started!' :
                                currentTab === 'highlights' ? 'No highlights yet.<br>Use the  button to highlight text.' :
                                'No notes yet.<br>Use the  button to add notes.'}</p>
                        </div>
                    `;
                    return;
                }

                sidebarContent.innerHTML = filteredItems.map((item, index) => `
                    <div class="notes-item" data-item-id="${item.id}" data-text="${encodeURIComponent(item.text)}" onclick="notesSidebarJumpToText('${encodeURIComponent(item.text)}')">
                        <div class="notes-item-header">
                            <div class="notes-item-color ${item.color}"></div>
                            <div class="notes-item-text">${escapeHtml(item.text)}</div>
                        </div>
                        ${item.note ? `<div class="notes-item-note">${escapeHtml(item.note)}</div>` : ''}
                        <div class="notes-item-meta">
                            <div class="notes-item-section">
                                 ${getSectionName(item.text)}
                            </div>
                            <div class="notes-item-time">${timeAgo(item.timestamp)}</div>
                        </div>
                        <div class="notes-item-actions">
                            ${item.note ? `<button class="notes-item-action notes-item-action-edit" onclick="event.stopPropagation(); notesSidebarEditNote('${item.id}')"> Edit note</button>` : ''}
                            <button class="notes-item-action notes-item-action-delete" onclick="event.stopPropagation(); notesSidebarDeleteItem('${item.id}')">
                                 Delete
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            // Escape HTML
            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            // Jump to text in document
            window.notesSidebarJumpToText = function(encodedText) {
                const text = decodeURIComponent(encodedText);

                // First, try to find existing highlighted elements
                const highlights = document.querySelectorAll('.user-highlight');
                for (const highlight of highlights) {
                    if (highlight.textContent.trim() === text.trim() ||
                        highlight.textContent.includes(text.substring(0, 50))) {
                        // Found the highlight! Scroll to it
                        highlight.scrollIntoView({ behavior: 'smooth', block: 'center' });

                        // Temporarily pulse the highlight
                        highlight.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
                        highlight.style.transform = 'scale(1.02)';
                        highlight.style.boxShadow = '0 0 0 4px rgba(217, 119, 87, 0.5)';

                        setTimeout(() => {
                            highlight.style.transform = 'scale(1)';
                            highlight.style.boxShadow = 'none';
                        }, 1500);

                        return;
                    }
                }

                // If not found in highlights, search through all content
                const content = document.querySelector('.content');
                const searchText = text.substring(0, 50).trim(); // Use first 50 chars

                // Use TreeWalker to find text nodes
                const walker = document.createTreeWalker(
                    content,
                    NodeFilter.SHOW_TEXT,
                    null,
                    false
                );

                let node;
                while (node = walker.nextNode()) {
                    const nodeText = node.textContent.trim();

                    if (nodeText.includes(searchText) || searchText.includes(nodeText.substring(0, 30))) {
                        // Found it! Scroll to the parent element
                        let element = node.parentElement;

                        // Try to find a better scrollable element (paragraph, heading, etc.)
                        while (element && !['P', 'H1', 'H2', 'H3', 'H4', 'LI', 'DIV'].includes(element.tagName)) {
                            element = element.parentElement;
                        }

                        if (element) {
                            element.scrollIntoView({ behavior: 'smooth', block: 'center' });

                            // Temporarily highlight the element
                            const originalBg = element.style.backgroundColor;
                            const originalTransition = element.style.transition;

                            element.style.transition = 'background-color 0.3s ease';
                            element.style.backgroundColor = 'rgba(217, 119, 87, 0.3)';

                            setTimeout(() => {
                                element.style.backgroundColor = originalBg;
                                setTimeout(() => {
                                    element.style.transition = originalTransition;
                                }, 300);
                            }, 2000);

                            // Show toast
                            showToast('Jumped to highlighted text');
                            return;
                        }
                    }
                }

                // If still not found
                showToast('Could not find text in document');
            };

            // Edit note
            window.notesSidebarEditNote = function(itemId) {
                const highlights = JSON.parse(localStorage.getItem('textHighlights') || '[]');
                const item = highlights.find(h => h.id == itemId);

                if (!item) return;

                // Open note modal with existing note
                const noteModalOverlay = document.getElementById('noteModalOverlay');
                const noteTextPreview = document.getElementById('noteTextPreview');
                const noteTextarea = document.getElementById('noteTextarea');

                noteTextPreview.textContent = `"${item.text}"`;
                noteTextarea.value = item.note || '';
                noteModalOverlay.classList.add('visible');
                noteTextarea.focus();

                // Store item ID for saving (not index, as it can change)
                noteModalOverlay.dataset.editItemId = itemId;
            };

            // Delete item
            window.notesSidebarDeleteItem = function(itemId) {
                if (!confirm('Delete this highlight/note?')) return;

                const highlights = JSON.parse(localStorage.getItem('textHighlights') || '[]');
                const index = highlights.findIndex(h => h.id == itemId);

                if (index === -1) {
                    showToast('Item not found');
                    return;
                }

                const item = highlights[index];

                // Remove from DOM if it exists (using ID for exact match)
                const highlightedElements = document.querySelectorAll('.user-highlight');
                highlightedElements.forEach(el => {
                    if (el.dataset.highlightId == itemId || el.textContent.includes(item.text.substring(0, 20))) {
                        const textNode = document.createTextNode(el.textContent);
                        el.parentNode.replaceChild(textNode, el);
                    }
                });

                // Remove from storage
                highlights.splice(index, 1);
                localStorage.setItem('textHighlights', JSON.stringify(highlights));

                renderItems();
                showToast('Item deleted');
            };

            // Export functionality
            exportBtn.addEventListener('click', function() {
                const highlights = JSON.parse(localStorage.getItem('textHighlights') || '[]');

                if (highlights.length === 0) {
                    showToast('No items to export');
                    return;
                }

                // Export as Markdown
                let markdown = '# My Claude Code Guide Notes\n\n';
                markdown += `Exported: ${new Date().toLocaleString()}\n\n`;
                markdown += `Total highlights: ${highlights.length}\n`;
                markdown += `Notes: ${highlights.filter(h => h.note).length}\n\n`;
                markdown += '---\n\n';

                highlights.forEach((item, i) => {
                    markdown += `## ${i + 1}. ${getSectionName(item.text)}\n\n`;
                    markdown += `> ${item.text}\n\n`;
                    if (item.note) {
                        markdown += `**Note:** ${item.note}\n\n`;
                    }
                    markdown += `*Color: ${item.color} | ${new Date(item.timestamp).toLocaleString()}*\n\n`;
                    markdown += '---\n\n';
                });

                // Download
                const blob = new Blob([markdown], { type: 'text/markdown' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `claude-code-notes-${Date.now()}.md`;
                a.click();
                URL.revokeObjectURL(url);

                showToast('Notes exported as Markdown');
            });

            // Clear all
            clearAllBtn.addEventListener('click', function() {
                if (!confirm('Delete ALL highlights and notes? This cannot be undone.')) return;

                // Remove all highlights from DOM
                document.querySelectorAll('.user-highlight').forEach(el => {
                    const textNode = document.createTextNode(el.textContent);
                    el.parentNode.replaceChild(textNode, el);
                });

                // Clear storage
                localStorage.removeItem('textHighlights');
                renderItems();
                showToast('All items cleared');
            });

            // Tab switching
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentTab = this.dataset.tab;
                    renderItems();
                });
            });

            // Toggle buttons
            sidebarToggle.addEventListener('click', toggleSidebar);
            sidebarClose.addEventListener('click', toggleSidebar);

            // Close on ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && sidebar.classList.contains('open')) {
                    toggleSidebar();
                }
            });

            // Initial render
            renderItems();

            // Debounce helper for refresh function
            let refreshTimeout = null;
            function debouncedRenderItems() {
                if (refreshTimeout) {
                    clearTimeout(refreshTimeout);
                }
                refreshTimeout = setTimeout(() => {
                    renderItems();
                    refreshTimeout = null;
                }, 50); // 50ms debounce
            }

            // Expose refresh function globally so text selection menu can trigger it
            window.notesSidebarRefresh = function() {
                debouncedRenderItems();
            };

            // Add mutation observer to watch for external changes to highlights
            const highlightObserver = new MutationObserver((mutations) => {
                let shouldRefresh = false;
                mutations.forEach(mutation => {
                    // Check if highlights were added or removed
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1 && node.classList && node.classList.contains('user-highlight')) {
                            shouldRefresh = true;
                        }
                    });
                    mutation.removedNodes.forEach(node => {
                        if (node.nodeType === 1 && node.classList && node.classList.contains('user-highlight')) {
                            shouldRefresh = true;
                        }
                    });
                });

                if (shouldRefresh) {
                    debouncedRenderItems();
                }
            });

            // Observe the main content area for changes
            const mainContent = document.querySelector('main') || document.body;
            highlightObserver.observe(mainContent, {
                childList: true,
                subtree: true
            });

            console.log(' Notes & Highlights sidebar initialized');
        })();
    </script>
</body>
</html>
